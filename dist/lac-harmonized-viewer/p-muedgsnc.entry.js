import{r as registerInstance,g as getContext,h,c as getElement,H as Host,d as createEvent}from"./p-686b7faf.js";import{_ as __extends,a as __assign,M as MDCFoundation,c as closest,m as matches$1,b as MDCComponent,d as MDCRipple,e as __values}from"./p-43fba907.js";function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){_defineProperty(t,e,n[e])}))}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(a){r=!0,s=a}finally{try{i||null==u.return||u.return()}finally{if(r)throw s}}return n}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}var consoleLogger={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,_toConsumableArray(e))}},Logger=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.init(e,n)}return _createClass(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||consoleLogger,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}(),baseLogger=new Logger,EventEmitter=function(){function t(){_classCallCheck(this,t),this.observers={}}return _createClass(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach((function(){if(e){var i=n.observers[t].indexOf(e);i>-1&&n.observers[t].splice(i,1)}else delete n.observers[t]}))}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.observers[t]){var r=[].concat(this.observers[t]);r.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function defer(){var t,e,n=new Promise((function(n,i){t=n,e=i}));return n.resolve=t,n.reject=e,n}function makeString(t){return null==t?"":""+t}function copy(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function getLastOfPath(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var s="string"!=typeof e?[].concat(e):e.split(".");s.length>1;){if(r())return{};var o=i(s.shift());!t[o]&&n&&(t[o]=new n),t=t[o]}return r()?{}:{obj:t,k:i(s.shift())}}function setPath(t,e,n){var i=getLastOfPath(t,e,Object);i.obj[i.k]=n}function pushPath(t,e,n,i){var r=getLastOfPath(t,e,Object),s=r.obj,o=r.k;s[o]=s[o]||[],i&&(s[o]=s[o].concat(n)),i||s[o].push(n)}function getPath(t,e){var n=getLastOfPath(t,e),i=n.obj;if(i)return i[n.k]}function deepExtend(t,e,n){for(var i in e)i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof e[i]||e[i]instanceof String?n&&(t[i]=e[i]):deepExtend(t[i],e[i],n):t[i]=e[i];return t}function regexEscape(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return _entityMap[t]})):t}var ResourceStore=function(){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),EventEmitter.call(_assertThisInitialized(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return _inherits(t,EventEmitter),_createClass(t,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=[t,e];return n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(s=t.split(".")),getPath(this.data,s)}},{key:"addResource",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var o=[t,e];n&&(o=o.concat(s?n.split(s):n)),t.indexOf(".")>-1&&(i=e,e=(o=t.split("."))[1]),this.addNamespaces(e),setPath(this.data,o,i),r.silent||this.emit("added",t,e,n,i)}},{key:"addResources",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[t,e];t.indexOf(".")>-1&&(i=n,n=e,e=(o=t.split("."))[1]),this.addNamespaces(e);var u=getPath(this.data,o)||{};i?deepExtend(u,n,r):u=_objectSpread({},u,n),setPath(this.data,o,u),s.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),t}(),postProcessor={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var s=this;return t.forEach((function(t){s.processors[t]&&(e=s.processors[t].process(e,n,i,r))})),e}},Translator=function(){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),EventEmitter.call(_assertThisInitialized(n)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],e,_assertThisInitialized(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=baseLogger.create("translator"),n}return _inherits(t,EventEmitter),_createClass(t,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var s=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),t=s.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(t,e){var n=this;if("object"!==_typeof(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=this.extractFromKey(t[t.length-1],e),s=r.key,o=r.namespaces,u=o[o.length-1],a=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase()){if(h){var c=e.nsSeparator||this.options.nsSeparator;return u+c+s}return s}var f=this.resolve(t,e),l=f&&f.res,d=f&&f.usedKey||s,p=f&&f.exactUsedKey||s,v=Object.prototype.toString.apply(l),m=["[object Number]","[object Function]","[object RegExp]"],g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,b="string"!=typeof l&&"boolean"!=typeof l&&"number"!=typeof l;if(w&&l&&b&&m.indexOf(v)<0&&("string"!=typeof g||"[object Array]"!==v)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,l,e):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(i){var y="[object Array]"===v,T=y?[]:{},E=y?p:d;for(var S in l)if(Object.prototype.hasOwnProperty.call(l,S)){var C="".concat(E).concat(i).concat(S);T[S]=this.translate(C,_objectSpread({},e,{joinArrays:!1,ns:o})),T[S]===C&&(T[S]=l[S])}l=T}}else if(w&&"string"==typeof g&&"[object Array]"===v)(l=l.join(g))&&(l=this.extendTranslation(l,t,e));else{var O=!1,I=!1;if(!this.isValidLookup(l)&&void 0!==e.defaultValue){if(O=!0,void 0!==e.count){var _=this.pluralResolver.getSuffix(a,e.count);l=e["defaultValue".concat(_)]}l||(l=e.defaultValue)}this.isValidLookup(l)||(I=!0,l=s);var x=e.defaultValue&&e.defaultValue!==l&&this.options.updateMissing;if(I||O||x){this.logger.log(x?"updateKey":"missingKey",a,u,s,x?e.defaultValue:l);var A=[],R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&R&&R[0])for(var M=0;M<R.length;M++)A.push(R[M]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(e.lng||this.language):A.push(e.lng||this.language);var k=function(t,i){n.options.missingKeyHandler?n.options.missingKeyHandler(t,u,i,x?e.defaultValue:l,x,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,u,i,x?e.defaultValue:l,x,e),n.emit("missingKey",t,u,i,l)};if(this.options.saveMissing){var P=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&P?A.forEach((function(t){n.pluralResolver.getPluralFormsOfKey(t,s).forEach((function(e){return k([t],e)}))})):k(A,s)}}l=this.extendTranslation(l,t,e,f),I&&l===s&&this.options.appendNamespaceToMissingKey&&(l="".concat(u,":").concat(s)),I&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(l))}return l}},{key:"extendTranslation",value:function(t,e,n,i){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(_objectSpread({},n,{interpolation:_objectSpread({},this.options.interpolation,n.interpolation)}));var s=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(s=_objectSpread({},this.options.interpolation.defaultVariables,s)),t=this.interpolator.interpolate(t,s,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){return r.translate.apply(r,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var o=n.postProcess||this.options.postProcess,u="string"==typeof o?[o]:o;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=postProcessor.handle(u,t,e,n,this)),t}},{key:"resolve",value:function(t){var e,n,i,r,s,o=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!o.isValidLookup(e)){var a=o.extractFromKey(t,u),h=a.key;n=h;var c=a.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var f=void 0!==u.count&&"string"!=typeof u.count,l=void 0!==u.context&&"string"==typeof u.context&&""!==u.context,d=u.lngs?u.lngs:o.languageUtils.toResolveHierarchy(u.lng||o.language,u.fallbackLng);c.forEach((function(t){o.isValidLookup(e)||(s=t,d.forEach((function(n){if(!o.isValidLookup(e)){r=n;var s,a,c=h,d=[c];for(o.i18nFormat&&o.i18nFormat.addLookupKeys?o.i18nFormat.addLookupKeys(d,h,n,t,u):(f&&(s=o.pluralResolver.getSuffix(n,u.count)),f&&l&&d.push(c+s),l&&d.push(c+="".concat(o.options.contextSeparator).concat(u.context)),f&&d.push(c+=s));a=d.pop();)o.isValidLookup(e)||(i=a,e=o.getResource(n,t,a,u))}})))}))}})),{res:e,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:s}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}}]),t}();function capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}var LanguageUtil=function(){function t(e){_classCallCheck(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=baseLogger.create("languageUtils")}return _createClass(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=capitalize(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],s=function(t){t&&(n.isWhitelisted(t)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(t))):"string"==typeof t&&s(this.formatLanguageCode(t)),i.forEach((function(t){r.indexOf(t)<0&&s(n.formatLanguageCode(t))})),r}}]),t}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}};function createRules(){var t={};return sets.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:_rulesPluralsTypes[e.fc]}}))})),t}var PluralResolver=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.languageUtils=e,this.options=n,this.logger=baseLogger.create("pluralResolver"),this.rules=createRules()}return _createClass(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,i=[],r=this.getRule(t);return r?(r.numbers.forEach((function(r){var s=n.getSuffix(t,r);i.push("".concat(e).concat(s))})),i):i}},{key:"getSuffix",value:function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.plurals(i.noAbs?e:Math.abs(e)),s=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var o=function(){return n.options.prepend&&s.toString()?n.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_".concat(s.toString()):o():"v2"===this.options.compatibilityJSON?o():this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),Interpolator=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.logger=baseLogger.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return _createClass(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:escape$1,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?regexEscape(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?regexEscape(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?regexEscape(e.nestingPrefix):e.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=e.nestingSuffix?regexEscape(e.nestingSuffix):e.nestingSuffixEscaped||regexEscape(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,i){var r,s,o,u=this,a=_objectSpread({},this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},e);function h(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(u.formatSeparator)<0)return getPath(a,t);var e=t.split(u.formatSeparator),i=e.shift().trim(),r=e.join(u.formatSeparator).trim();return u.format(getPath(a,i),r,n)};this.resetRegExp();var f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler;for(o=0;r=this.regexpUnescape.exec(t);){if(void 0===(s=c(r[1].trim())))if("function"==typeof f){var l=f(t,r,i);s="string"==typeof l?l:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),s="";else"string"==typeof s||this.useRawValueToEscape||(s=makeString(s));if(t=t.replace(r[0],h(s)),this.regexpUnescape.lastIndex=0,++o>=this.maxReplaces)break}for(o=0;r=this.regexp.exec(t);){if(void 0===(s=c(r[1].trim())))if("function"==typeof f){var d=f(t,r,i);s="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),s="";else"string"==typeof s||this.useRawValueToEscape||(s=makeString(s));if(s=h(this.escapeValue?this.escape(s):s),t=t.replace(r[0],s),this.regexp.lastIndex=0,++o>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=_objectSpread({},r);function o(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var i=n.join(",");i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),e&&(s=_objectSpread({},e,s))}catch(r){this.logger.error("failed parsing options string in nesting for key ".concat(t),r)}return t}for(s.applyPostProcessor=!1;n=this.nestingRegexp.exec(t);){if((i=e(o.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=makeString(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),i=""),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}]),t}();function remove(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}var Connector=function(){function t(e,n,i){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,t),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),EventEmitter.call(_assertThisInitialized(r)),r.backend=e,r.store=n,r.languageUtils=i.languageUtils,r.options=s,r.logger=baseLogger.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,s.backend,s),r}return _inherits(t,EventEmitter),_createClass(t,[{key:"queueLoad",value:function(t,e,n,i){var r=this,s=[],o=[],u=[],a=[];return t.forEach((function(t){var i=!0;e.forEach((function(e){var u="".concat(t,"|").concat(e);!n.reload&&r.store.hasResourceBundle(t,e)?r.state[u]=2:r.state[u]<0||(1===r.state[u]?o.indexOf(u)<0&&o.push(u):(r.state[u]=1,i=!1,o.indexOf(u)<0&&o.push(u),s.indexOf(u)<0&&s.push(u),a.indexOf(e)<0&&a.push(e)))})),i||u.push(t)})),(s.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:s,pending:o,toLoadLanguages:u,toLoadNamespaces:a}}},{key:"loaded",value:function(t,e,n){var i=_slicedToArray(t.split("|"),2),r=i[0],s=i[1];e&&this.emit("failedLoading",r,s,e),n&&this.store.addResourceBundle(r,s,n),this.state[t]=e?-1:2;var o={};this.queue.forEach((function(n){pushPath(n.loaded,[r],s),remove(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){o[t]||(o[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){o[t].indexOf(e)<0&&o[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(u,a){u&&a&&r<5?setTimeout((function(){i.read.call(i,t,e,n,r+1,2*s,o)}),s):o(u,a)})):o(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=_slicedToArray(i,2),s=r[0],o=r[1];this.read(s,o,"read",null,null,(function(i,r){i&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(s," failed"),i),!i&&r&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(s),r),e.loaded(t,i,r)}))}},{key:"saveMissing",value:function(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,_objectSpread({},s,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,i)}}]),t}();function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===_typeof(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===_typeof(t[2])||"object"===_typeof(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function transformOptions(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function noop(){}var I18n=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,t),e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),EventEmitter.call(_assertThisInitialized(e)),e.options=transformOptions(n),e.services={},e.logger=baseLogger,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),_possibleConstructorReturn(e,_assertThisInitialized(e));setTimeout((function(){e.init(n,i)}),0)}return e}return _inherits(t,EventEmitter),_createClass(t,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=_objectSpread({},get(),this.options,transformOptions(e)),this.format=this.options.interpolation.format,n||(n=noop),!this.options.isClone){baseLogger.init(this.modules.logger?i(this.modules.logger):null,this.options);var r=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var s=this.services;s.logger=baseLogger,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new PluralResolver(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new Interpolator(this.options),s.backendConnector=new Connector(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}var o=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];o.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=defer(),a=function(){t.changeLanguage(t.options.lng,(function(e,i){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(i),n(e,i)}))};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),u}},{key:"loadResources",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:noop;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(t){n.indexOf(t)<0&&n.push(t)}))};if(this.language)i(this.language);else{var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach((function(t){return i(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return i(t)})),this.services.backendConnector.load(n,this.options.ns,e)}else e(null)}},{key:"reloadResources",value:function(t,e,n){var i=defer();return t||(t=this.languages),e||(e=this.options.ns),n||(n=noop),this.services.backendConnector.reload(t,e,(function(t){i.resolve(),n(t)})),i}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&postProcessor.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this,i=defer();this.emit("languageChanging",t);var r=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources((function(r){!function(t,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),i.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(r,t)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(t,e){var n=this,i=function t(e,i){var r;if("object"!==_typeof(i)){for(var s=arguments.length,o=new Array(s>2?s-2:0),u=2;u<s;u++)o[u-2]=arguments[u];r=n.options.overloadTranslationOptionHandler([e,i].concat(o))}else r=_objectSpread({},i);return r.lng=r.lng||t.lng,r.lngs=r.lngs||t.lngs,r.ns=r.ns||t.ns,n.t(e,r)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"loadNamespaces",value:function(t,e){var n=this,i=defer();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=defer();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],r=t.filter((function(t){return i.indexOf(t)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,r=_objectSpread({},this.options,n,{isClone:!0}),s=new t(r),o=["store","services","language"];return o.forEach((function(t){s[t]=e[t]})),s.translator=new Translator(s.services,s.options),s.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.emit.apply(s,[t].concat(n))})),s.init(r,i),s.translator.options=s.options,s}}]),t}(),i18next=new I18n;function t(t,e){if(t){if("string"==typeof t)return i18next.t(t,e);{const e=t.find(t=>t.locale&&parseLanguage(t.locale)===i18next.language);if(e)return e.value;if(i18next.languages&&i18next.languages.length>0){const e=i18next.languages[i18next.languages.length-1],n=t.find(t=>t.locale&&parseLanguage(t.locale)===e);return n?n.value:void 0}}}}function parseLanguage(t){if(t)return-1===t.indexOf("-")?t:t.substr(0,t.indexOf("-")).toLowerCase()}function selectCurrentItem(t){return t.viewport.items[t.viewport.itemIndex]}function getLanguageKvpValue(t,e,n="en"){const i=t.find(t=>t.locale===e);if(i)return i.value;const r=e.length>2?e.substring(0,2):e,s=t.find(t=>t.locale.startsWith(r));if(s)return s.value;const o=t.find(t=>t.locale===n);return o?o.value:void 0}const AnnotationsComponent=class{constructor(t){registerInstance(this,t),this.store=getContext(this,"store")}componentWillLoad(){this.storeUnsubscribe=this.store.mapStateToProps(this,t=>({language:t.document.configuration.language,title:t.viewport.title,metadata:t.viewport.metadata,currentItem:selectCurrentItem(t)}))}componentDidUnload(){this.storeUnsubscribe()}render(){const e=getLanguageKvpValue(this.title,this.language),n=this.metadata.map(function(t){return{label:getLanguageKvpValue(t.label,this.language),value:getLanguageKvpValue(t.value,this.language)}}.bind(this)),i=this.currentItem?getLanguageKvpValue(this.currentItem.label,this.language):"",r=this.currentItem?this.currentItem.metadata.map(function(t){return{label:getLanguageKvpValue(t.label,this.language),value:getLanguageKvpValue(t.value,this.language)}}.bind(this)):[];return h("dl",{class:"annotation-list"},this.renderAnnotation(t("title"),e),n.map(t=>t.value&&""!=t.value.trim()?this.renderAnnotation(t.label,t.value):void 0),this.renderAnnotation(t("titleItem"),i),r.map(t=>t.value&&""!=t.value.trim()?this.renderAnnotation(t.label,t.value):void 0))}renderAnnotation(t,e){return[h("dt",{tabindex:"0"},h("span",null,t)),h("dd",null,h("span",null,e))]}get el(){return getElement(this)}static get style(){return"harmonized-annotations{display:block}harmonized-annotations dl{line-height:1.5}harmonized-annotations dl dt{width:100%;font-size:14px;display:block;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-pack:justify;justify-content:space-between;text-transform:uppercase}harmonized-annotations dl dd{line-height:1.5;margin:5px 0 20px 0}harmonized-annotations dl dd a{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;text-decoration:none}harmonized-annotations dl dd a:link{color:#d9d9d9}harmonized-annotations dl dd a:visited{color:#999}harmonized-annotations dl dd a:hover{color:#d9d9d9;-webkit-transition:color 175ms cubic-bezier(.4,0,.6,1);transition:color 175ms cubic-bezier(.4,0,.6,1)}harmonized-annotations .annotation-item{margin:0;padding:14px 16px;-webkit-animation-delay:0!important;animation-delay:0!important}harmonized-annotations .annotation-item .annotation-icon{display:none}harmonized-annotations .annotation-item .annotation-icon--collapse{display:inline}harmonized-annotations .annotation-item__text{width:100%}harmonized-annotations .annotation-item__primary-text{color:#c8c1e9;width:100%;display:-ms-flexbox;display:flex;margin-bottom:3px;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-pack:justify;justify-content:space-between;text-transform:uppercase}harmonized-annotations .annotation-item__secondary-text{color:#fff;line-height:1.5}harmonized-annotations .annotation-item__secondary-text a{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}harmonized-annotations .annotation-item__secondary-text a:link{color:#fff}harmonized-annotations .annotation-item__secondary-text a:visited{color:#aaa}harmonized-annotations .annotation-item__secondary-text a i{width:15px;height:15px;margin-left:5px}harmonized-annotations .annotation-item__secondary-text a svg{width:100%;height:100%;fill:#a39193}harmonized-annotations .annotation-item:not(.is-collapsed) .mdc-list-item__secondary-text{text-overflow:clip;white-space:normal;overflow:visible}harmonized-annotations--dense .mdc-list-item .mdc-list-item__primary-text{font-size:12px}"}},AudioComponent=class{constructor(t){registerInstance(this,t)}render(){return h("audio",{controls:!0},h("source",{src:this.url,type:this.contentType}))}get el(){return getElement(this)}static get style(){return":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}"}},iconChevronDown='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" /></svg>',ButtonComponent=class{constructor(t){registerInstance(this,t)}componentDidLoad(){this.el.querySelector("button")}render(){let t=null,e=null;return t="-target-wrapper",e=this.icon&&!this.label?"mdc-icon-button":"mdc-button","lg"==this.size?e+=` ${e}--lg`:"md"==this.size?e+=` ${e}--md`:"sm"==this.size&&(e+=` ${e}--sm`),e+=" mdc-button--touch",this.raised&&(e+=" mdc-button--raised"),this.outline&&(e+=" mdc-button--outlined"),this.fullWidth&&(t+=" full-width"),h(Host,{class:t},h("button",{type:"button",class:e,disabled:this.disabled,title:this.tooltip,"aria-label":this.tooltip},h("div",{class:"mdc-button__ripple"}),this.icon&&h("span",{class:this.iconClassName,"aria-hidden":!0,innerHTML:this.icon}),this.label&&h("span",{class:"mdc-button__label"},this.label),this.dropdown&&h("span",{class:"dropdown-arrow",innerHTML:iconChevronDown}),h("div",{class:"mdc-button__touch"})),h("slot",null))}get el(){return getElement(this)}static get style(){return"harmonized-button{\@-webkit-keyframes mdc-ripple-fg-radius-in{0%{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@keyframes mdc-ripple-fg-radius-in{0%{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@-webkit-keyframes mdc-ripple-fg-opacity-in{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@keyframes mdc-ripple-fg-opacity-in{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@-webkit-keyframes mdc-ripple-fg-opacity-out{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}\@keyframes mdc-ripple-fg-opacity-out{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}display:-ms-flexbox;display:flex}harmonized-button .mdc-touch-target-wrapper{display:inline}harmonized-button .mdc-button{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;padding:0 8px 0 8px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;border-radius:4px}harmonized-button .mdc-button::-moz-focus-inner{padding:0;border:0}harmonized-button .mdc-button:active{outline:none}harmonized-button .mdc-button:hover{cursor:pointer}harmonized-button .mdc-button:disabled{background-color:transparent;color:rgba(0,0,0,.37);cursor:default;pointer-events:none}harmonized-button .mdc-button .mdc-button__ripple{border-radius:4px}harmonized-button .mdc-button:not(:disabled){background-color:transparent}harmonized-button .mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] harmonized-button .mdc-button .mdc-button__icon,harmonized-button .mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}harmonized-button .mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;left:0;height:48px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}harmonized-button .mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}harmonized-button .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] harmonized-button .mdc-button__label+.mdc-button__icon,harmonized-button .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}harmonized-button svg.mdc-button__icon{fill:currentColor}harmonized-button .mdc-button--outlined .mdc-button__icon,harmonized-button .mdc-button--raised .mdc-button__icon,harmonized-button .mdc-button--unelevated .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] harmonized-button .mdc-button--outlined .mdc-button__icon,[dir=rtl] harmonized-button .mdc-button--raised .mdc-button__icon,[dir=rtl] harmonized-button .mdc-button--unelevated .mdc-button__icon,harmonized-button .mdc-button--outlined .mdc-button__icon[dir=rtl],harmonized-button .mdc-button--outlined .mdc-button__label+.mdc-button__icon,harmonized-button .mdc-button--raised .mdc-button__icon[dir=rtl],harmonized-button .mdc-button--raised .mdc-button__label+.mdc-button__icon,harmonized-button .mdc-button--unelevated .mdc-button__icon[dir=rtl],harmonized-button .mdc-button--unelevated .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] harmonized-button .mdc-button--outlined .mdc-button__label+.mdc-button__icon,[dir=rtl] harmonized-button .mdc-button--raised .mdc-button__label+.mdc-button__icon,[dir=rtl] harmonized-button .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,harmonized-button .mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl],harmonized-button .mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],harmonized-button .mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}harmonized-button .mdc-button--raised,harmonized-button .mdc-button--unelevated{padding:0 16px 0 16px}harmonized-button .mdc-button--raised:disabled,harmonized-button .mdc-button--unelevated:disabled{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.37)}harmonized-button .mdc-button--raised:not(:disabled),harmonized-button .mdc-button--unelevated:not(:disabled){background-color:#6200ee}\@supports not (-ms-ime-align:auto){harmonized-button .mdc-button--raised:not(:disabled),harmonized-button .mdc-button--unelevated:not(:disabled){background-color:var(--mdc-theme-primary,#6200ee)}}harmonized-button .mdc-button--raised:not(:disabled),harmonized-button .mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary,#fff)}harmonized-button .mdc-button--raised{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);-webkit-transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1)}harmonized-button .mdc-button--raised:focus,harmonized-button .mdc-button--raised:hover{-webkit-box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}harmonized-button .mdc-button--raised:active{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}harmonized-button .mdc-button--raised:disabled{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}harmonized-button .mdc-button--outlined{border-style:solid;padding:0 15px 0 15px;border-width:1px}harmonized-button .mdc-button--outlined:disabled{border-color:rgba(0,0,0,.37)}harmonized-button .mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}harmonized-button .mdc-button--outlined:not(:disabled){border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}harmonized-button .mdc-button--touch{margin-top:6px;margin-bottom:6px}harmonized-button .mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var:1px solid #000;visibility:hidden}harmonized-button .mdc-ripple-surface--test-edge-var-bug:before{border:var(--mdc-ripple-surface-test-edge-var)}harmonized-button .mdc-button{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}harmonized-button .mdc-button .mdc-button__ripple:after,harmonized-button .mdc-button .mdc-button__ripple:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}harmonized-button .mdc-button .mdc-button__ripple:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}harmonized-button .mdc-button.mdc-ripple-upgraded .mdc-button__ripple:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}harmonized-button .mdc-button.mdc-ripple-upgraded .mdc-button__ripple:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}harmonized-button .mdc-button.mdc-ripple-upgraded--unbounded .mdc-button__ripple:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}harmonized-button .mdc-button.mdc-ripple-upgraded--foreground-activation .mdc-button__ripple:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}harmonized-button .mdc-button.mdc-ripple-upgraded--foreground-deactivation .mdc-button__ripple:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}harmonized-button .mdc-button .mdc-button__ripple:after,harmonized-button .mdc-button .mdc-button__ripple:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}harmonized-button .mdc-button.mdc-ripple-upgraded .mdc-button__ripple:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}harmonized-button .mdc-button .mdc-button__ripple:after,harmonized-button .mdc-button .mdc-button__ripple:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){harmonized-button .mdc-button .mdc-button__ripple:after,harmonized-button .mdc-button .mdc-button__ripple:before{background-color:var(--mdc-theme-primary,#6200ee)}}harmonized-button .mdc-button:hover .mdc-button__ripple:before{opacity:.04}harmonized-button .mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,harmonized-button .mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}harmonized-button .mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-button .mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}harmonized-button .mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}harmonized-button .mdc-button .mdc-button__ripple{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;width:100%;height:100%;overflow:hidden}harmonized-button .mdc-button:not(.mdc-button--outlined) .mdc-button__ripple{top:0;left:0}harmonized-button .mdc-button--raised .mdc-button__ripple:after,harmonized-button .mdc-button--raised .mdc-button__ripple:before,harmonized-button .mdc-button--unelevated .mdc-button__ripple:after,harmonized-button .mdc-button--unelevated .mdc-button__ripple:before{background-color:#fff}\@supports not (-ms-ime-align:auto){harmonized-button .mdc-button--raised .mdc-button__ripple:after,harmonized-button .mdc-button--raised .mdc-button__ripple:before,harmonized-button .mdc-button--unelevated .mdc-button__ripple:after,harmonized-button .mdc-button--unelevated .mdc-button__ripple:before{background-color:var(--mdc-theme-on-primary,#fff)}}harmonized-button .mdc-button--raised:hover .mdc-button__ripple:before,harmonized-button .mdc-button--unelevated:hover .mdc-button__ripple:before{opacity:.08}harmonized-button .mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,harmonized-button .mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before,harmonized-button .mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,harmonized-button .mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple:after,harmonized-button .mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-button .mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after,harmonized-button .mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-button--raised.mdc-ripple-upgraded,harmonized-button .mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}harmonized-button .mdc-button{height:36px}harmonized-button .mdc-icon-button{display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:48px;height:48px;padding:12px}harmonized-button .mdc-icon-button img,harmonized-button .mdc-icon-button svg{width:24px;height:24px}harmonized-button .mdc-icon-button:disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light,rgba(0,0,0,.38));cursor:default;pointer-events:none}harmonized-button .mdc-icon-button__icon{display:inline-block}harmonized-button .mdc-icon-button--on .mdc-icon-button__icon,harmonized-button .mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}harmonized-button .mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}harmonized-button .mdc-icon-button{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}harmonized-button .mdc-icon-button:after,harmonized-button .mdc-icon-button:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}harmonized-button .mdc-icon-button:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}harmonized-button .mdc-icon-button.mdc-ripple-upgraded:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}harmonized-button .mdc-icon-button.mdc-ripple-upgraded:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}harmonized-button .mdc-icon-button.mdc-ripple-upgraded--unbounded:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}harmonized-button .mdc-icon-button.mdc-ripple-upgraded--foreground-activation:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}harmonized-button .mdc-icon-button.mdc-ripple-upgraded--foreground-deactivation:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}harmonized-button .mdc-icon-button:after,harmonized-button .mdc-icon-button:before{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}harmonized-button .mdc-icon-button.mdc-ripple-upgraded:after,harmonized-button .mdc-icon-button.mdc-ripple-upgraded:before{top:var(--mdc-ripple-top,calc(50% - 50%));left:var(--mdc-ripple-left,calc(50% - 50%));width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}harmonized-button .mdc-icon-button.mdc-ripple-upgraded:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}harmonized-button .mdc-icon-button:after,harmonized-button .mdc-icon-button:before{background-color:#000}harmonized-button .mdc-icon-button:hover:before{opacity:.04}harmonized-button .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):active:after,harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{opacity:.12}harmonized-button .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}harmonized-button.circle>button{border-radius:50%;-webkit-box-shadow:rgba(0,0,0,.14) 0 2px 2px 0,rgba(0,0,0,.12) 0 1px 5px 0,rgba(0,0,0,.2) 0 3px 1px -2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}harmonized-button .mdc-button:not(:disabled){color:#fff}harmonized-button .mdc-button .mdc-button__label{font-weight:400}harmonized-button .mdc-button.full-width{width:100%}harmonized-button .mdc-button[disabled]:not(:disabled){color:#383838}harmonized-button .mdc-button.mdc-button--raised:not(:disabled){background-color:#282828;color:#fff;color:var(--mdc-theme-text-primary-on-dark,#fff)}harmonized-button .mdc-button.mdc-button--raised .mdc-button__ripple:after,harmonized-button .mdc-button.mdc-button--raised .mdc-button__ripple:before{background-color:#fff}\@supports not (-ms-ime-align:auto){harmonized-button .mdc-button.mdc-button--raised .mdc-button__ripple:after,harmonized-button .mdc-button.mdc-button--raised .mdc-button__ripple:before{background-color:var(--mdc-theme-text-primary-on-dark,#fff)}}harmonized-button .mdc-button.mdc-button--raised:hover .mdc-button__ripple:before{opacity:.08}harmonized-button .mdc-button.mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,harmonized-button .mdc-button.mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-button.mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-button .mdc-button.mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-button.mdc-button--raised.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}harmonized-button .mdc-button .dropdown-arrow svg{margin-right:0}harmonized-button .mdc-icon-button{color:#fff}harmonized-button .mdc-icon-button:after,harmonized-button .mdc-icon-button:before{background-color:#fff}harmonized-button .mdc-icon-button:hover:before{opacity:.08}harmonized-button .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-button .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}harmonized-button .mdc-icon-button[disabled]{color:#383838}harmonized-button .mdc-icon-button[disabled]:after,harmonized-button .mdc-icon-button[disabled]:before{background-color:#383838}harmonized-button .mdc-icon-button[disabled]:hover:before{opacity:.04}harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded--background-focused:before,harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}harmonized-button .mdc-icon-button--sm{width:36px;height:36px;padding:9px;font-size:18px;min-width:36px}harmonized-button .mdc-icon-button--sm img,harmonized-button .mdc-icon-button--sm svg{width:18px;height:18px}harmonized-button .mdc-icon-button--md{width:60px;height:60px;padding:15px;font-size:30px;min-width:60px}harmonized-button .mdc-icon-button--md img,harmonized-button .mdc-icon-button--md svg{width:30px;height:30px}harmonized-button .mdc-icon-button--lg{width:60px;height:60px;padding:15px;font-size:30px;min-width:60px}harmonized-button .mdc-icon-button--lg img,harmonized-button .mdc-icon-button--lg svg{width:30px;height:30px}.harmonized-viewer-theme--light harmonized-button.circle>button{background-color:#fff}.harmonized-viewer-theme--light harmonized-button .mdc-button:not(:disabled){color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-button[disabled]:not(:disabled){color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button{color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:after,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:before{background-color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:hover:before{opacity:.04}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]{color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:after,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:before{background-color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:hover:before{opacity:.08}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.white-text harmonized-button button{color:#fff!important}"}};var candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],candidateSelector=candidateSelectors.join(","),matches="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function tabbable(t,e){e=e||{};var n,i,r,s=[],o=[],u=t.querySelectorAll(candidateSelector);for(e.includeContainer&&matches.call(t,candidateSelector)&&(u=Array.prototype.slice.apply(u)).unshift(t),n=0;n<u.length;n++)isNodeMatchingSelectorTabbable(i=u[n])&&(0===(r=getTabindex(i))?s.push(i):o.push({documentOrder:n,tabIndex:r,node:i}));return o.sort(sortOrderedTabbables).map((function(t){return t.node})).concat(s)}function isNodeMatchingSelectorTabbable(t){return!(!isNodeMatchingSelectorFocusable(t)||isNonTabbableRadio(t)||getTabindex(t)<0)}function isTabbable(t){if(!t)throw new Error("No node provided");return!1!==matches.call(t,candidateSelector)&&isNodeMatchingSelectorTabbable(t)}function isNodeMatchingSelectorFocusable(t){return!(t.disabled||isHiddenInput(t)||isHidden(t))}tabbable.isTabbable=isTabbable,tabbable.isFocusable=isFocusable;var focusableCandidateSelector=candidateSelectors.concat("iframe").join(",");function isFocusable(t){if(!t)throw new Error("No node provided");return!1!==matches.call(t,focusableCandidateSelector)&&isNodeMatchingSelectorFocusable(t)}function getTabindex(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?isContentEditable(t)?0:t.tabIndex:e}function sortOrderedTabbables(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function isContentEditable(t){return"true"===t.contentEditable}function isInput(t){return"INPUT"===t.tagName}function isHiddenInput(t){return isInput(t)&&"hidden"===t.type}function isRadio(t){return isInput(t)&&"radio"===t.type}function isNonTabbableRadio(t){return isRadio(t)&&!isTabbableRadio(t)}function getCheckedRadio(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}function isTabbableRadio(t){if(!t.name)return!0;var e=getCheckedRadio(t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'));return!e||e===t}function isHidden(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}var tabbable_1=tabbable,immutable=extend,hasOwnProperty=Object.prototype.hasOwnProperty,activeFocusDelay;function extend(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}var activeFocusTraps=(trapQueue=[],{activateTrap:function(t){if(trapQueue.length>0){var e=trapQueue[trapQueue.length-1];e!==t&&e.pause()}var n=trapQueue.indexOf(t);-1===n?trapQueue.push(t):(trapQueue.splice(n,1),trapQueue.push(t))},deactivateTrap:function(t){var e=trapQueue.indexOf(t);-1!==e&&trapQueue.splice(e,1),trapQueue.length>0&&trapQueue[trapQueue.length-1].unpause()}}),trapQueue;function focusTrap(t,e){var n=document,i="string"==typeof t?n.querySelector(t):t,r=immutable({returnFocusOnDeactivate:!0,escapeDeactivates:!0},e),s={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},o={activate:function(t){if(!s.active){m(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=n.activeElement;var e=t&&t.onActivate?t.onActivate:r.onActivate;return e&&e(),a(),o}},deactivate:u,pause:function(){!s.paused&&s.active&&(s.paused=!0,h())},unpause:function(){s.paused&&s.active&&(s.paused=!1,m(),a())}};return o;function u(t){if(s.active){clearTimeout(activeFocusDelay),h(),s.active=!1,s.paused=!1,activeFocusTraps.deactivateTrap(o);var e=t&&void 0!==t.onDeactivate?t.onDeactivate:r.onDeactivate;return e&&e(),(t&&void 0!==t.returnFocus?t.returnFocus:r.returnFocusOnDeactivate)&&delay((function(){var t;g((t=s.nodeFocusedBeforeActivation,c("setReturnFocus")||t))})),o}}function a(){if(s.active)return activeFocusTraps.activateTrap(o),activeFocusDelay=delay((function(){g(f())})),n.addEventListener("focusin",d,!0),n.addEventListener("mousedown",l,{capture:!0,passive:!1}),n.addEventListener("touchstart",l,{capture:!0,passive:!1}),n.addEventListener("click",v,{capture:!0,passive:!1}),n.addEventListener("keydown",p,{capture:!0,passive:!1}),o}function h(){if(s.active)return n.removeEventListener("focusin",d,!0),n.removeEventListener("mousedown",l,!0),n.removeEventListener("touchstart",l,!0),n.removeEventListener("click",v,!0),n.removeEventListener("keydown",p,!0),o}function c(t){var e=r[t],i=e;if(!e)return null;if("string"==typeof e&&!(i=n.querySelector(e)))throw new Error("`"+t+"` refers to no known node");if("function"==typeof e&&!(i=e()))throw new Error("`"+t+"` did not return a node");return i}function f(){var t;if(!(t=null!==c("initialFocus")?c("initialFocus"):i.contains(n.activeElement)?n.activeElement:s.firstTabbableNode||c("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return t}function l(t){i.contains(t.target)||(r.clickOutsideDeactivates?u({returnFocus:!tabbable_1.isFocusable(t.target)}):r.allowOutsideClick&&r.allowOutsideClick(t)||t.preventDefault())}function d(t){i.contains(t.target)||t.target instanceof Document||(t.stopImmediatePropagation(),g(s.mostRecentlyFocusedNode||f()))}function p(t){if(!1!==r.escapeDeactivates&&isEscapeEvent(t))return t.preventDefault(),void u();isTabEvent(t)&&function(t){if(m(),t.shiftKey&&t.target===s.firstTabbableNode)return t.preventDefault(),void g(s.lastTabbableNode);t.shiftKey||t.target!==s.lastTabbableNode||(t.preventDefault(),g(s.firstTabbableNode))}(t)}function v(t){r.clickOutsideDeactivates||i.contains(t.target)||r.allowOutsideClick&&r.allowOutsideClick(t)||(t.preventDefault(),t.stopImmediatePropagation())}function m(){var t=tabbable_1(i);s.firstTabbableNode=t[0]||f(),s.lastTabbableNode=t[t.length-1]||f()}function g(t){t!==n.activeElement&&(t&&t.focus?(t.focus(),s.mostRecentlyFocusedNode=t,isSelectableInput(t)&&t.select()):g(f()))}}function isSelectableInput(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}function isEscapeEvent(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}function isTabEvent(t){return"Tab"===t.key||9===t.keyCode}function delay(t){return setTimeout(t,0)}var focusTrap_1=focusTrap;
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function createFocusTrapInstance(t,e){return void 0===e&&(e=focusTrap_1),e(t,{clickOutsideDeactivates:!0,escapeDeactivates:!1,initialFocus:void 0,returnFocusOnDeactivate:!1})}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cssClasses={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",ROOT:"mdc-list"},strings={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+cssClasses.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+cssClasses.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+cssClasses.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+cssClasses.LIST_ITEM_CLASS+" a,\n    ."+cssClasses.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+cssClasses.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]'},numbers={UNSET_INDEX:-1},ELEMENTS_KEY_ALLOWED_IN=["input","button","textarea","select"];function isNumberArray(t){return t instanceof Array}var MDCListFoundation=function(t){function e(n){var i=t.call(this,__assign({},e.defaultAdapter,n))||this;return i.wrapFocus_=!1,i.isVertical_=!0,i.isSingleSelectionList_=!1,i.selectedIndex_=numbers.UNSET_INDEX,i.focusedItemIndex_=numbers.UNSET_INDEX,i.useActivatedClass_=!1,i.ariaCurrentAttrValue_=null,i.isCheckboxList_=!1,i.isRadioList_=!1,i}return __extends(e,t),Object.defineProperty(e,"strings",{get:function(){return strings},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return numbers},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){}}},enumerable:!0,configurable:!0}),e.prototype.layout=function(){0!==this.adapter_.getListItemCount()&&(this.adapter_.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter_.hasRadioAtIndex(0)&&(this.isRadioList_=!0))},e.prototype.setWrapFocus=function(t){this.wrapFocus_=t},e.prototype.setVerticalOrientation=function(t){this.isVertical_=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList_=t},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass_=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex_},e.prototype.setSelectedIndex=function(t){this.isIndexValid_(t)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(t):this.isRadioList_?this.setRadioAtIndex_(t):this.setSingleSelectionAtIndex_(t))},e.prototype.handleFocusIn=function(t,e){e>=0&&this.adapter_.setTabIndexForListItemChildren(e,"0")},e.prototype.handleFocusOut=function(t,e){var n=this;e>=0&&this.adapter_.setTabIndexForListItemChildren(e,"-1"),setTimeout((function(){n.adapter_.isFocusInsideList()||n.setTabindexToFirstSelectedItem_()}),0)},e.prototype.handleKeydown=function(t,e,n){var i="ArrowLeft"===t.key||37===t.keyCode,r="ArrowUp"===t.key||38===t.keyCode,s="ArrowRight"===t.key||39===t.keyCode,o="ArrowDown"===t.key||40===t.keyCode,u="Home"===t.key||36===t.keyCode,a="End"===t.key||35===t.keyCode,h="Enter"===t.key||13===t.keyCode,c="Space"===t.key||32===t.keyCode;if(this.adapter_.isRootFocused())r||a?(t.preventDefault(),this.focusLastElement()):(o||u)&&(t.preventDefault(),this.focusFirstElement());else{var f=this.adapter_.getFocusedElementIndex();if(!(-1===f&&(f=n)<0)){var l;if(this.isVertical_&&o||!this.isVertical_&&s)this.preventDefaultEvent_(t),l=this.focusNextElement(f);else if(this.isVertical_&&r||!this.isVertical_&&i)this.preventDefaultEvent_(t),l=this.focusPrevElement(f);else if(u)this.preventDefaultEvent_(t),l=this.focusFirstElement();else if(a)this.preventDefaultEvent_(t),l=this.focusLastElement();else if((h||c)&&e){var d=t.target;if(d&&"A"===d.tagName&&h)return;this.preventDefaultEvent_(t),this.isSelectableList_()&&this.setSelectedIndexOnAction_(f),this.adapter_.notifyAction(f)}this.focusedItemIndex_=f,void 0!==l&&(this.setTabindexAtIndex_(l),this.focusedItemIndex_=l)}}},e.prototype.handleClick=function(t,e){t!==numbers.UNSET_INDEX&&(this.isSelectableList_()&&this.setSelectedIndexOnAction_(t,e),this.adapter_.notifyAction(t),this.setTabindexAtIndex_(t),this.focusedItemIndex_=t)},e.prototype.focusNextElement=function(t){var e=t+1;if(e>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return t;e=0}return this.adapter_.focusItemAtIndex(e),e},e.prototype.focusPrevElement=function(t){var e=t-1;if(e<0){if(!this.wrapFocus_)return t;e=this.adapter_.getListItemCount()-1}return this.adapter_.focusItemAtIndex(e),e},e.prototype.focusFirstElement=function(){return this.adapter_.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var t=this.adapter_.getListItemCount()-1;return this.adapter_.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,e){this.isIndexValid_(t)&&(e?(this.adapter_.removeClassForElementIndex(t,cssClasses.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(t,strings.ARIA_DISABLED,"false")):(this.adapter_.addClassForElementIndex(t,cssClasses.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(t,strings.ARIA_DISABLED,"true")))},e.prototype.preventDefaultEvent_=function(t){var e=(""+t.target.tagName).toLowerCase();-1===ELEMENTS_KEY_ALLOWED_IN.indexOf(e)&&t.preventDefault()},e.prototype.setSingleSelectionAtIndex_=function(t){if(this.selectedIndex_!==t){var e=cssClasses.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(e=cssClasses.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==numbers.UNSET_INDEX&&this.adapter_.removeClassForElementIndex(this.selectedIndex_,e),this.adapter_.addClassForElementIndex(t,e),this.setAriaForSingleSelectionAtIndex_(t),this.selectedIndex_=t}},e.prototype.setAriaForSingleSelectionAtIndex_=function(t){this.selectedIndex_===numbers.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(t,strings.ARIA_CURRENT));var e=null!==this.ariaCurrentAttrValue_,n=e?strings.ARIA_CURRENT:strings.ARIA_SELECTED;this.selectedIndex_!==numbers.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,n,"false"),this.adapter_.setAttributeForElementIndex(t,n,e?this.ariaCurrentAttrValue_:"true")},e.prototype.setRadioAtIndex_=function(t){this.adapter_.setCheckedCheckboxOrRadioAtIndex(t,!0),this.selectedIndex_!==numbers.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,strings.ARIA_CHECKED,"false"),this.adapter_.setAttributeForElementIndex(t,strings.ARIA_CHECKED,"true"),this.selectedIndex_=t},e.prototype.setCheckboxAtIndex_=function(t){for(var e=0;e<this.adapter_.getListItemCount();e++){var n=!1;t.indexOf(e)>=0&&(n=!0),this.adapter_.setCheckedCheckboxOrRadioAtIndex(e,n),this.adapter_.setAttributeForElementIndex(e,strings.ARIA_CHECKED,n?"true":"false")}this.selectedIndex_=t},e.prototype.setTabindexAtIndex_=function(t){this.focusedItemIndex_===numbers.UNSET_INDEX&&0!==t?this.adapter_.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==t&&this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_,"tabindex","-1"),this.adapter_.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},e.prototype.setTabindexToFirstSelectedItem_=function(){var t=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==numbers.UNSET_INDEX?t=this.selectedIndex_:isNumberArray(this.selectedIndex_)&&this.selectedIndex_.length>0&&(t=this.selectedIndex_.reduce((function(t,e){return Math.min(t,e)})))),this.setTabindexAtIndex_(t)},e.prototype.isIndexValid_=function(t){var e=this;if(t instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===t.length||t.some((function(t){return e.isIndexInRange_(t)}))}if("number"==typeof t){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange_(t)}return!1},e.prototype.isIndexInRange_=function(t){var e=this.adapter_.getListItemCount();return t>=0&&t<e},e.prototype.setSelectedIndexOnAction_=function(t,e){void 0===e&&(e=!0),this.adapter_.listItemAtIndexHasClass(t,cssClasses.LIST_ITEM_DISABLED_CLASS)||(this.isCheckboxList_?this.toggleCheckboxAtIndex_(t,e):this.setSelectedIndex(t))},e.prototype.toggleCheckboxAtIndex_=function(t,e){var n=this.adapter_.isCheckboxCheckedAtIndex(t);e&&this.adapter_.setCheckedCheckboxOrRadioAtIndex(t,n=!n),this.adapter_.setAttributeForElementIndex(t,strings.ARIA_CHECKED,n?"true":"false");var i=this.selectedIndex_===numbers.UNSET_INDEX?[]:this.selectedIndex_.slice();n?i.push(t):i=i.filter((function(e){return e!==t})),this.selectedIndex_=i},e}(MDCFoundation),MDCList=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation_.setVerticalOrientation(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return[].slice.call(this.root_.querySelectorAll("."+cssClasses.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation_.setWrapFocus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation_.setSingleSelection(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation_.getSelectedIndex()},set:function(t){this.foundation_.setSelectedIndex(t)},enumerable:!0,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.handleClick_=this.handleClickEvent_.bind(this),this.handleKeydown_=this.handleKeydownEvent_.bind(this),this.focusInEventListener_=this.handleFocusInEvent_.bind(this),this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this),this.listen("keydown",this.handleKeydown_),this.listen("click",this.handleClick_),this.listen("focusin",this.focusInEventListener_),this.listen("focusout",this.focusOutEventListener_),this.layout(),this.initializeListType()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("click",this.handleClick_),this.unlisten("focusin",this.focusInEventListener_),this.unlisten("focusout",this.focusOutEventListener_)},e.prototype.layout=function(){var t=this.root_.getAttribute(strings.ARIA_ORIENTATION);this.vertical=t!==strings.ARIA_ORIENTATION_HORIZONTAL,[].slice.call(this.root_.querySelectorAll(".mdc-list-item:not([tabindex])")).forEach((function(t){t.setAttribute("tabindex","-1")})),[].slice.call(this.root_.querySelectorAll(strings.FOCUSABLE_CHILD_ELEMENTS)).forEach((function(t){return t.setAttribute("tabindex","-1")})),this.foundation_.layout()},e.prototype.initializeListType=function(){var t=this,e=this.root_.querySelectorAll(strings.ARIA_ROLE_CHECKBOX_SELECTOR),n=this.root_.querySelector("\n      ."+cssClasses.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+cssClasses.LIST_ITEM_SELECTED_CLASS+"\n    "),i=this.root_.querySelector(strings.ARIA_CHECKED_RADIO_SELECTOR);if(e.length){var r=this.root_.querySelectorAll(strings.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=[].map.call(r,(function(e){return t.listElements.indexOf(e)}))}else n?(n.classList.contains(cssClasses.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation_.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(n)):i&&(this.selectedIndex=this.listElements.indexOf(i))},e.prototype.setEnabled=function(t,e){this.foundation_.setEnabled(t,e)},e.prototype.getDefaultFoundation=function(){var t=this;return new MDCListFoundation({addClassForElementIndex:function(e,n){var i=t.listElements[e];i&&i.classList.add(n)},focusItemAtIndex:function(e){var n=t.listElements[e];n&&n.focus()},getAttributeForElementIndex:function(e,n){return t.listElements[e].getAttribute(n)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},hasCheckboxAtIndex:function(e){return!!t.listElements[e].querySelector(strings.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(e){return!!t.listElements[e].querySelector(strings.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(e){return t.listElements[e].querySelector(strings.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root_.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root_},listItemAtIndexHasClass:function(e,n){return t.listElements[e].classList.contains(n)},notifyAction:function(e){t.emit(strings.ACTION_EVENT,{index:e},!0)},removeClassForElementIndex:function(e,n){var i=t.listElements[e];i&&i.classList.remove(n)},setAttributeForElementIndex:function(e,n,i){var r=t.listElements[e];r&&r.setAttribute(n,i)},setCheckedCheckboxOrRadioAtIndex:function(e,n){var i=t.listElements[e].querySelector(strings.CHECKBOX_RADIO_SELECTOR);i.checked=n;var r=document.createEvent("Event");r.initEvent("change",!0,!0),i.dispatchEvent(r)},setTabIndexForListItemChildren:function(e,n){[].slice.call(t.listElements[e].querySelectorAll(strings.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach((function(t){return t.setAttribute("tabindex",n)}))}})},e.prototype.getListItemIndex_=function(t){var e=closest(t.target,"."+cssClasses.LIST_ITEM_CLASS+", ."+cssClasses.ROOT);return e&&matches$1(e,"."+cssClasses.LIST_ITEM_CLASS)?this.listElements.indexOf(e):-1},e.prototype.handleFocusInEvent_=function(t){var e=this.getListItemIndex_(t);this.foundation_.handleFocusIn(t,e)},e.prototype.handleFocusOutEvent_=function(t){var e=this.getListItemIndex_(t);this.foundation_.handleFocusOut(t,e)},e.prototype.handleKeydownEvent_=function(t){var e=this.getListItemIndex_(t);this.foundation_.handleKeydown(t,t.target.classList.contains(cssClasses.LIST_ITEM_CLASS),e)},e.prototype.handleClickEvent_=function(t){var e=this.getListItemIndex_(t),n=!matches$1(t.target,strings.CHECKBOX_RADIO_SELECTOR);this.foundation_.handleClick(e,n)},e}(MDCComponent),cssClasses$1={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},strings$1={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim"},MDCDismissibleDrawerFoundation=function(t){function e(n){var i=t.call(this,__assign({},e.defaultAdapter,n))||this;return i.animationFrame_=0,i.animationTimer_=0,i}return __extends(e,t),Object.defineProperty(e,"strings",{get:function(){return strings$1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses$1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},e.prototype.open=function(){var t=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter_.addClass(cssClasses$1.OPEN),this.adapter_.addClass(cssClasses$1.ANIMATE),this.runNextAnimationFrame_((function(){t.adapter_.addClass(cssClasses$1.OPENING)})),this.adapter_.saveFocus())},e.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter_.addClass(cssClasses$1.CLOSING)},e.prototype.isOpen=function(){return this.adapter_.hasClass(cssClasses$1.OPEN)},e.prototype.isOpening=function(){return this.adapter_.hasClass(cssClasses$1.OPENING)||this.adapter_.hasClass(cssClasses$1.ANIMATE)},e.prototype.isClosing=function(){return this.adapter_.hasClass(cssClasses$1.CLOSING)},e.prototype.handleKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&this.close()},e.prototype.handleTransitionEnd=function(t){var e=cssClasses$1.OPENING,n=cssClasses$1.CLOSING,i=cssClasses$1.OPEN,r=cssClasses$1.ANIMATE,s=cssClasses$1.ROOT;this.isElement_(t.target)&&this.adapter_.elementHasClass(t.target,s)&&(this.isClosing()?(this.adapter_.removeClass(i),this.closed_(),this.adapter_.restoreFocus(),this.adapter_.notifyClose()):(this.adapter_.focusActiveNavigationItem(),this.opened_(),this.adapter_.notifyOpen()),this.adapter_.removeClass(r),this.adapter_.removeClass(e),this.adapter_.removeClass(n))},e.prototype.opened_=function(){},e.prototype.closed_=function(){},e.prototype.runNextAnimationFrame_=function(t){var e=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){e.animationFrame_=0,clearTimeout(e.animationTimer_),e.animationTimer_=setTimeout(t,0)}))},e.prototype.isElement_=function(t){return Boolean(t.classList)},e}(MDCFoundation),MDCModalDrawerFoundation=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.handleScrimClick=function(){this.close()},e.prototype.opened_=function(){this.adapter_.trapFocus()},e.prototype.closed_=function(){this.adapter_.releaseFocus()},e}(MDCDismissibleDrawerFoundation),cssClasses$2=MDCDismissibleDrawerFoundation.cssClasses,strings$2=MDCDismissibleDrawerFoundation.strings,MDCDrawer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"open",{get:function(){return this.foundation_.isOpen()},set:function(t){t?this.foundation_.open():this.foundation_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"list",{get:function(){return this.list_},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){void 0===t&&(t=focusTrap_1),void 0===e&&(e=function(t){return new MDCList(t)});var n=this.root_.querySelector("."+MDCListFoundation.cssClasses.ROOT);n&&(this.list_=e(n),this.list_.wrapFocus=!0),this.focusTrapFactory_=t},e.prototype.initialSyncWithDOM=function(){var t=this,e=cssClasses$2.MODAL;this.scrim_=this.root_.parentNode.querySelector(strings$2.SCRIM_SELECTOR),this.scrim_&&this.root_.classList.contains(e)&&(this.handleScrimClick_=function(){return t.foundation_.handleScrimClick()},this.scrim_.addEventListener("click",this.handleScrimClick_),this.focusTrap_=createFocusTrapInstance(this.root_,this.focusTrapFactory_)),this.handleKeydown_=function(e){return t.foundation_.handleKeydown(e)},this.handleTransitionEnd_=function(e){return t.foundation_.handleTransitionEnd(e)},this.listen("keydown",this.handleKeydown_),this.listen("transitionend",this.handleTransitionEnd_)},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("transitionend",this.handleTransitionEnd_),this.list_&&this.list_.destroy(),this.scrim_&&this.handleScrimClick_&&this.root_.classList.contains(cssClasses$2.MODAL)&&(this.scrim_.removeEventListener("click",this.handleScrimClick_),this.open=!1)},e.prototype.getDefaultFoundation=function(){var t=this,e={addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},hasClass:function(e){return t.root_.classList.contains(e)},elementHasClass:function(t,e){return t.classList.contains(e)},saveFocus:function(){return t.previousFocus_=document.activeElement},restoreFocus:function(){var e=t.previousFocus_;e&&e.focus&&t.root_.contains(document.activeElement)&&e.focus()},focusActiveNavigationItem:function(){var e=t.root_.querySelector("."+MDCListFoundation.cssClasses.LIST_ITEM_ACTIVATED_CLASS);e&&e.focus()},notifyClose:function(){return t.emit(strings$2.CLOSE_EVENT,{},!0)},notifyOpen:function(){return t.emit(strings$2.OPEN_EVENT,{},!0)},trapFocus:function(){return t.focusTrap_.activate()},releaseFocus:function(){return t.focusTrap_.deactivate()}},n=cssClasses$2.DISMISSIBLE,i=cssClasses$2.MODAL;if(this.root_.classList.contains(n))return new MDCDismissibleDrawerFoundation(e);if(this.root_.classList.contains(i))return new MDCModalDrawerFoundation(e);throw new Error("MDCDrawer: Failed to instantiate component. Supported variants are "+n+" and "+i+".")},e}(MDCComponent),code="en",name="English",changeLanguage="Change language",language_changed="Language changed to <b>{{language}}</b>.",loadingManifest="Loading manifest...",fullscreen="Fullscreen",enterFullscreen="Enter fullscreen",exitFullscreen="Exit fullscreen",showInfo="Show details",hideInfo="Hide details",details="Details",pager="Item <b>{{page}}</b> of <b>{{pageCount}}</b>",untitled="Untitled",ok="Okay",title="Title",titleItem="Item title",browserNoVideo="This browser does not support the HTML5 video element.",closeSidebar="Close sidebar",zoomIn="Zoom in",zoomOut="Zoom out",zoomReset="Reset zoom",goToNextPage="Go to next page",goToPrevPage="Go to previous page",pdfIE11NoRenderLine1="Harmonized Viewer could not render the PDF.",pdfIE11NoRenderLine2="Please make sure you have a PDF reader plugin enabled (i.e. Adobe Reader) or use a modern browser that supports PDF rendering.",pdfNoEmbed="Something went wrong displaying this PDF.",errors={"manifest-not-found":"Manifest not found.","request-failed":"Document request failed {{url}}","request-failed-notfound":"Document could not be found {{url}}","contenttype-unsupported":"Content type {{contentType}} is not supported"};
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const en={code,name,changeLanguage,language_changed,loadingManifest,fullscreen,enterFullscreen,exitFullscreen,showInfo,hideInfo,details,pager,untitled,ok,title,titleItem,browserNoVideo,closeSidebar,zoomIn,zoomOut,zoomReset,goToNextPage,goToPrevPage,pdfIE11NoRenderLine1,pdfIE11NoRenderLine2,pdfNoEmbed,errors},en$1=Object.freeze({__proto__:null,code,name,changeLanguage,language_changed,loadingManifest,fullscreen,enterFullscreen,exitFullscreen,showInfo,hideInfo,details,pager,untitled,ok,title,titleItem,browserNoVideo,closeSidebar,zoomIn,zoomOut,zoomReset,goToNextPage,goToPrevPage,pdfIE11NoRenderLine1,pdfIE11NoRenderLine2,pdfNoEmbed,errors,default:en});var code$1="fr",name$1="Franais",changeLanguage$1="Choisir la langue",language_changed$1="Le texte s'affiche maintenant en {{language}}.",loadingManifest$1="Chargement du manifeste...",fullscreen$1="Plein cran",enterFullscreen$1="Ouvrir en mode plein cran",exitFullscreen$1="Quitter le mode plein cran",showInfo$1="Afficher les dtails",hideInfo$1="Cacher les dtails",details$1="Dtails",pager$1="Article <b>{{page}}</b> de <b>{{pageCount}}</b>",untitled$1="Sans titre",ok$1="OK",title$1="Titre",titleItem$1="Titre de l'objet",browserNoVideo$1="Votre navigateur ne peut lire les vidos HTML5.",closeSidebar$1="Fermer la barre latrale",zoomIn$1="Zoom avant",zoomOut$1="Zoom arrire",zoomReset$1="Retour au zoom par dfaut",goToNextPage$1="Page suivante",goToPrevPage$1="Page prcdente",pdfNoIE11Line1="L'affichage des PDF n'est actuellement pas pris en charge par Internet Explorer 11.",pdfNoIE11Line2="Veuillez tlcharger le fichier ou utiliser un navigateur pris en charge (par exemple Chrome, Safari, Firefox, Edge).",errors$1={"manifest-not-found":"Le manifeste n'a pas pu tre trouv.","request-failed":"La requte a chou {{url}}","request-failed-notfound":"Document introuvable {{url}}","contenttype-unsupported":"Le format {{contentType}} n'est pas pris en charge"};const fr={code:code$1,name:name$1,changeLanguage:changeLanguage$1,language_changed:language_changed$1,loadingManifest:loadingManifest$1,fullscreen:fullscreen$1,enterFullscreen:enterFullscreen$1,exitFullscreen:exitFullscreen$1,showInfo:showInfo$1,hideInfo:hideInfo$1,details:details$1,pager:pager$1,untitled:untitled$1,ok:ok$1,title:title$1,titleItem:titleItem$1,browserNoVideo:browserNoVideo$1,closeSidebar:closeSidebar$1,zoomIn:zoomIn$1,zoomOut:zoomOut$1,zoomReset:zoomReset$1,goToNextPage:goToNextPage$1,goToPrevPage:goToPrevPage$1,pdfNoIE11Line1,pdfNoIE11Line2,errors:errors$1},fr$1=Object.freeze({__proto__:null,code:code$1,name:name$1,changeLanguage:changeLanguage$1,language_changed:language_changed$1,loadingManifest:loadingManifest$1,fullscreen:fullscreen$1,enterFullscreen:enterFullscreen$1,exitFullscreen:exitFullscreen$1,showInfo:showInfo$1,hideInfo:hideInfo$1,details:details$1,pager:pager$1,untitled:untitled$1,ok:ok$1,title:title$1,titleItem:titleItem$1,browserNoVideo:browserNoVideo$1,closeSidebar:closeSidebar$1,zoomIn:zoomIn$1,zoomOut:zoomOut$1,zoomReset:zoomReset$1,goToNextPage:goToNextPage$1,goToPrevPage:goToPrevPage$1,pdfNoIE11Line1,pdfNoIE11Line2,errors:errors$1,default:fr}),locales={en:en$1,fr:fr$1},AppConfig={languages:[locales.en,locales.fr],contentTypes:[{formats:["application/json","application/ld+json","text/plain","image/jpeg"],component:"image"},{formats:["application/pdf"],component:"pdf"},{formats:["audio/mp4","video/mp4","application/vnd.ms-sstr+xml"],component:"video"},{formats:["audio/mpeg","audio/wav","audio/ogg"],component:"audio"}],errors:[{code:"manifest-not-found",severity:"fatal"},{code:"manifest-incorrect-format",severity:"fatal"},{code:"request-failed",severity:"fatal"},{code:"request-failed-notfound",severity:"fatal"},{code:"contenttype-unsupported",severity:"fatal"}]};function resolveViewportType(t){if(!t)return;if(!AppConfig.contentTypes)return;const e=AppConfig.contentTypes.find(e=>e.formats&&e.formats.includes(t));return e&&e.component?e.component.toLowerCase():void 0}function isIE11(){return window.navigator.userAgent.indexOf("Trident/")>0}const arrowRight='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M15 9l-2.12 2.12L19.76 18l-6.88 6.88L15 27l9-9z"/></svg>',DrawerComponent=class{constructor(t){registerInstance(this,t),this.shown=!1,this.viewerDrawerToggle=createEvent(this,"viewerDrawerToggle",7)}componentDidLoad(){this.drawer=new MDCDrawer(this.el)}componentDidUnload(){this.drawer&&this.drawer.destroy()}handleOpen(t,e){t!==e&&t&&(this.drawer.open=!0)}handleClose(){this.drawer.open=!1,this.viewerDrawerToggle.emit()}render(){return h(Host,{dir:"rtl",class:"mdc-drawer mdc-drawer--dismissible"},h("div",{dir:"ltr",class:"mdc-drawer__header"},h("div",{class:"mdc-drawer__close"},h("harmonized-button",{icon:arrowRight,title:t("closeSidebar"),"aria-label":t("closeSidebar"),onClick:this.handleClose.bind(this)})),h("div",{class:"mdc-drawer__title"},this.headerTitle)),h("div",{dir:"ltr",class:"mdc-drawer__content"},h("slot",null)),isIE11()&&h("iframe",{src:"about:blank",style:{position:"absolute",overflow:"hidden",top:"0",left:"0",zIndex:"-1",border:"none",minWidth:"100%",minHeight:"100%"}}))}get el(){return getElement(this)}static get watchers(){return{shown:["handleOpen"]}}static get style(){return".mdc-drawer{border-color:rgba(0,0,0,.12);background-color:#fff;border-radius:0 0 0 0;z-index:6;width:256px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-negative:0;flex-shrink:0;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1)}.mdc-drawer .mdc-drawer__title{color:rgba(0,0,0,.87)}.mdc-drawer .mdc-drawer__subtitle,.mdc-drawer .mdc-list-group__subheader,.mdc-drawer .mdc-list-item__graphic{color:rgba(0,0,0,.6)}.mdc-drawer .mdc-list-item{color:rgba(0,0,0,.87)}.mdc-drawer .mdc-list-item--activated .mdc-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-list-item--activated{color:rgba(98,0,238,.87)}.mdc-drawer[dir=rtl],[dir=rtl] .mdc-drawer{border-radius:0 0 0 0}.mdc-drawer .mdc-list-item{border-radius:4px}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl],[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:0;margin-right:256px}.mdc-drawer[dir=rtl],[dir=rtl] .mdc-drawer{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-list-item{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-list-item:first-child{margin-top:2px}.mdc-drawer .mdc-list-item:last-child{margin-bottom:0}.mdc-drawer .mdc-list-group__subheader{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-list-group__subheader:before{display:inline-block;width:0;height:24px;content:\"\";vertical-align:0}.mdc-drawer .mdc-list-divider{margin:3px 0 4px 0}.mdc-drawer .mdc-list-item__graphic,.mdc-drawer .mdc-list-item__text{pointer-events:none}.mdc-drawer--animate{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.mdc-drawer--animate[dir=rtl],[dir=rtl] .mdc-drawer--animate{-webkit-transform:translateX(100%);transform:translateX(100%)}.mdc-drawer--opening{-webkit-transition-duration:.25s;transition-duration:.25s}.mdc-drawer--opening,.mdc-drawer--opening[dir=rtl],[dir=rtl] .mdc-drawer--opening{-webkit-transform:translateX(0);transform:translateX(0)}.mdc-drawer--closing{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition-duration:.2s;transition-duration:.2s}.mdc-drawer--closing[dir=rtl],[dir=rtl] .mdc-drawer--closing{-webkit-transform:translateX(100%);transform:translateX(100%)}.mdc-drawer__header{-ms-flex-negative:0;flex-shrink:0;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title:before{display:inline-block;width:0;height:36px;content:\"\";vertical-align:0}.mdc-drawer__title:after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-drawer__subtitle{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle:before{display:inline-block;width:0;height:20px;content:\"\";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:auto;display:none;position:absolute}.mdc-drawer--dismissible[dir=rtl],[dir=rtl] .mdc-drawer--dismissible{left:auto;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:-ms-flexbox;display:flex}.mdc-drawer-app-content{position:relative}.mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl],[dir=rtl] .mdc-drawer-app-content{margin-left:0;margin-right:0}.mdc-drawer--modal{-webkit-box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);left:0;right:auto;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0,0,0,.32)}.mdc-drawer--modal[dir=rtl],[dir=rtl] .mdc-drawer--modal{left:auto;right:0}.mdc-drawer--modal.mdc-drawer--open{display:-ms-flexbox;display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{-webkit-transition-duration:.25s;transition-duration:.25s;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{-webkit-transition-duration:.2s;transition-duration:.2s;opacity:0}harmonized-drawer{position:absolute;top:0;max-width:256px;background-color:#ece8e8!important;border:1px solid #999!important;border-right:0}harmonized-drawer aside{position:relative;top:0}harmonized-drawer.mdc-drawer{left:inherit;right:0}harmonized-drawer .mdc-drawer__header{position:relative;display:-ms-flexbox;display:flex;padding:0;border-bottom:2px solid #999;background-color:#ccc}harmonized-drawer .mdc-drawer__header>.mdc-drawer__title{-ms-flex:1;flex:1;margin-bottom:0;text-align:center;font-size:14px}harmonized-drawer .mdc-drawer__header>.mdc-drawer__close{position:absolute;top:0;left:0;height:100%}harmonized-drawer .mdc-drawer__header>.mdc-drawer__close>*{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%}harmonized-drawer .mdc-drawer__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase}harmonized-drawer .mdc-drawer__content{padding-left:16px;padding-right:16px}harmonized-drawer .mdc-drawer__content dl{text-align:left}"}},PdfComponent=class{constructor(t){registerInstance(this,t)}supportsActiveXPdf(){return!!this.createActiveXObject("AcroPDF.PDF")||!!this.createActiveXObject("PDF.PdfCtrl")}createActiveXObject(t){let e;try{e=new window.ActiveXObject(t)}catch(n){e=null}return e}render(){return isIE11()?h(Host,{id:"pdf-ie11"},this.supportsActiveXPdf()?h("embed",{src:this.url,type:"application/pdf",height:"100%",width:"100%"},h("span",null,t("pdfNoEmbed"))):h("div",null,h("span",null,t("pdfIE11NoRenderLine1")),h("span",null,t("pdfIE11NoRenderLine2")))):h(Host,{id:"pdf-other"},h("embed",{src:this.url,type:"application/pdf",width:"100%",height:"100%"},h("span",null,t("pdfNoEmbed"))))}get el(){return getElement(this)}static get style(){return"harmonized-embed{position:relative;display:block;width:100%;overflow-x:hidden;overflow-y:auto}harmonized-embed div,harmonized-embed embed,harmonized-embed object{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}harmonized-embed div>span,harmonized-embed embed>span,harmonized-embed object>span{width:100%;padding:0 15px;text-align:center;white-space:pre-wrap}"}};var TypeKeys;!function(t){t.NULL="NULL",t.ERROR="ERROR",t.SET_ERROR="SET_ERROR",t.ADD_LANGUAGE="ADD_LANGUAGE",t.SET_LANGUAGE="SET_LANGUAGE",t.ADD_THEME="ADD_THEME",t.SET_THEME="SET_THEME",t.SET_OPTIONS="SET_OPTIONS",t.SET_ZOOM="SET_ZOOM",t.SET_ZOOM_REQUEST="SET_ZOOM_REQUEST",t.ADD_OVERLAY="ADD_OVERLAY",t.CLEAR_OVERLAYS="CLEAR_OVERLAYS",t.SET_CONFIGURATION="SET_CONFIGURATION",t.FETCHING_MANIFEST="FETCHING_MANIFEST",t.SET_MANIFEST="SET_MANIFEST",t.RAISE_MANIFEST_ERROR="RAISE_MANIFEST_ERROR",t.VIEW_ITEM="VIEW_ITEM",t.LOAD_VIEW="LOAD_VIEW",t.TOGGLE_DRAWER="TOGGLE_DRAWER",t.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN"}(TypeKeys||(TypeKeys={}));const viewItem=t=>(e,n)=>{const i=n().viewport.items;t<0||t>=i.length?console.log(`Invalid item index provided. (value=${t})`):e({type:TypeKeys.VIEW_ITEM,index:t})},loadView=(t,e,n)=>i=>{i({type:TypeKeys.LOAD_VIEW,title:t,metadata:e,index:0,items:n})},toggleFullscreen=()=>t=>{t({type:TypeKeys.TOGGLE_FULLSCREEN})},toggleDrawer=()=>t=>{t({type:TypeKeys.TOGGLE_DRAWER})},global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)lookup[e]=t[e],revLookup[t.charCodeAt(e)]=e;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(t){var e,n,i,r,s,o;inited||init();var u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=new Arr(3*u/4-(s="="===t[u-2]?2:"="===t[u-1]?1:0)),i=s>0?u-4:u;var a=0;for(e=0,n=0;e<i;e+=4,n+=3)r=revLookup[t.charCodeAt(e)]<<18|revLookup[t.charCodeAt(e+1)]<<12|revLookup[t.charCodeAt(e+2)]<<6|revLookup[t.charCodeAt(e+3)],o[a++]=r>>16&255,o[a++]=r>>8&255,o[a++]=255&r;return 2===s?(r=revLookup[t.charCodeAt(e)]<<2|revLookup[t.charCodeAt(e+1)]>>4,o[a++]=255&r):1===s&&(r=revLookup[t.charCodeAt(e)]<<10|revLookup[t.charCodeAt(e+1)]<<4|revLookup[t.charCodeAt(e+2)]>>2,o[a++]=r>>8&255,o[a++]=255&r),o}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[63&t]}function encodeChunk(t,e,n){for(var i=[],r=e;r<n;r+=3)i.push(tripletToBase64((t[r]<<16)+(t[r+1]<<8)+t[r+2]));return i.join("")}function fromByteArray(t){var e;inited||init();for(var n=t.length,i=n%3,r="",s=[],o=0,u=n-i;o<u;o+=16383)s.push(encodeChunk(t,o,o+16383>u?u:o+16383));return 1===i?(r+=lookup[(e=t[n-1])>>2],r+=lookup[e<<4&63],r+="=="):2===i&&(r+=lookup[(e=(t[n-2]<<8)+t[n-1])>>10],r+=lookup[e>>4&63],r+=lookup[e<<2&63],r+="="),s.push(r),s.join("")}function read(t,e,n,i,r){var s,o,u=8*r-i-1,a=(1<<u)-1,h=a>>1,c=-7,f=n?r-1:0,l=n?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=u;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),s-=h}return(d?-1:1)*o*Math.pow(2,s-i)}function write(t,e,n,i,r,s){var o,u,a,h=8*s-r-1,c=(1<<h)-1,f=c>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,p=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+f>=1?l/a:l*Math.pow(2,1-f))*a>=2&&(o++,a/=2),o+f>=c?(u=0,o=c):o+f>=1?(u=(e*a-1)*Math.pow(2,r),o+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,r),o=0));r>=8;t[n+d]=255&u,d+=p,u/=256,r-=8);for(o=o<<r|u,h+=r;h>0;t[n+d]=255&o,d+=p,o/=256,h-=8);t[n+d-p]|=128*v}var toString={}.toString,isArray=Array.isArray||function(t){return"[object Array]"==toString.call(t)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,n)}function from(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,n,i):"string"==typeof e?fromString(t,e,n):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,n,i){return assertSize(e),e<=0?createBuffer(t,e):void 0!==n?"string"==typeof i?createBuffer(t,e).fill(n,i):createBuffer(t,e).fill(n):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function fromString(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(e,n),r=(t=createBuffer(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}function fromArrayLike(t,e){var n=e.length<0?0:0|checked(e.length);t=createBuffer(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function fromArrayBuffer(t,e,n,i){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e),t}function fromObject(t,e){if(internalIsBuffer(e)){var n=0|checked(e.length);return 0===(t=createBuffer(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function internalIsBuffer(t){return!(null==t||!t._isBuffer)}function byteLength(t,e){if(internalIsBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(t).length;default:if(i)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),i=!0}}function slowToString(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,n);case"utf8":case"utf-8":return utf8Slice(this,e,n);case"ascii":return asciiSlice(this,e,n);case"latin1":case"binary":return latin1Slice(this,e,n);case"base64":return base64Slice(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function swap(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function bidirectionalIndexOf(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=Buffer.from(e,i)),internalIsBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,n,i,r);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):arrayIndexOf(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,n,i,r){var s,o=1,u=t.length,a=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,n/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(s=n;s<u;s++)if(h(t,s)===h(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===a)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+a>u&&(n=u-a),s=n;s>=0;s--){for(var f=!0,l=0;l<a;l++)if(h(t,s+l)!==h(e,l)){f=!1;break}if(f)return s}return-1}function hexWrite(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))return o;t[n+o]=u}return o}function utf8Write(t,e,n,i){return blitBuffer(utf8ToBytes(e,t.length-n),t,n,i)}function asciiWrite(t,e,n,i){return blitBuffer(asciiToBytes(e),t,n,i)}function latin1Write(t,e,n,i){return asciiWrite(t,e,n,i)}function base64Write(t,e,n,i){return blitBuffer(base64ToBytes(e),t,n,i)}function ucs2Write(t,e,n,i){return blitBuffer(utf16leToBytes(e,t.length-n),t,n,i)}function base64Slice(t,e,n){return fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function utf8Slice(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var s,o,u,a,h=t[r],c=null,f=h>239?4:h>223?3:h>191?2:1;if(r+f<=n)switch(f){case 1:h<128&&(c=h);break;case 2:128==(192&(s=t[r+1]))&&(a=(31&h)<<6|63&s)>127&&(c=a);break;case 3:o=t[r+2],128==(192&(s=t[r+1]))&&128==(192&o)&&(a=(15&h)<<12|(63&s)<<6|63&o)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:o=t[r+2],u=t[r+3],128==(192&(s=t[r+1]))&&128==(192&o)&&128==(192&u)&&(a=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&u)>65535&&a<1114112&&(c=a)}null===c?(c=65533,f=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=f}return decodeCodePointsArray(i)}Buffer.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,n){return from(null,t,e,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.alloc=function(t,e,n){return alloc(null,t,e,n)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=isBuffer,Buffer.compare=function(t,e){if(!internalIsBuffer(t)||!internalIsBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=Buffer.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!internalIsBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!internalIsBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,n,i,r){if(!internalIsBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(e>>>=0),u=Math.min(s,o),a=this.slice(i,r),h=t.slice(e,n),c=0;c<u;++c)if(a[c]!==h[c]){s=a[c],o=h[c];break}return s<o?-1:o<s?1:0},Buffer.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Buffer.prototype.indexOf=function(t,e,n){return bidirectionalIndexOf(this,t,e,n,!0)},Buffer.prototype.lastIndexOf=function(t,e,n){return bidirectionalIndexOf(this,t,e,n,!1)},Buffer.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return hexWrite(this,t,e,n);case"utf8":case"utf-8":return utf8Write(this,t,e,n);case"ascii":return asciiWrite(this,t,e,n);case"latin1":case"binary":return latin1Write(this,t,e,n);case"base64":return base64Write(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=MAX_ARGUMENTS_LENGTH));return n}function asciiSlice(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function latin1Slice(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function hexSlice(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=toHex(t[s]);return r}function utf16leSlice(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function checkOffset(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,n,i,r,s){if(!internalIsBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-n,2);r<s;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function objectWriteUInt32(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-n,4);r<s;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function checkIEEE754(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(t,e,n,i,r){return r||checkIEEE754(t,e,n,4),write(t,e,n,i,23,4),n+4}function writeDouble(t,e,n,i,r){return r||checkIEEE754(t,e,n,8),write(t,e,n,i,52,8),n+8}Buffer.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Buffer.prototype;else{var r=e-t;n=new Buffer(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+t]}return n},Buffer.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i},Buffer.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var i=e,r=1,s=this[t+--i];i>0&&(r*=256);)s+=this[t+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[e]=255&t;++s<n&&(r*=256);)this[e+s]=t/r&255;return e+n},Buffer.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+n},Buffer.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,t,e,n,r-1,-r)}var s=0,o=1,u=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===u&&0!==this[e+s-1]&&(u=1),this[e+s]=(t/o>>0)-u&255;return e+n},Buffer.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,t,e,n,r-1,-r)}var s=n-1,o=1,u=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===u&&0!==this[e+s+1]&&(u=1),this[e+s]=(t/o>>0)-u&255;return e+n},Buffer.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,n){return writeFloat(this,t,e,!0,n)},Buffer.prototype.writeFloatBE=function(t,e,n){return writeFloat(this,t,e,!1,n)},Buffer.prototype.writeDoubleLE=function(t,e,n){return writeDouble(this,t,e,!0,n)},Buffer.prototype.writeDoubleBE=function(t,e,n){return writeDouble(this,t,e,!1,n)},Buffer.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&n<e&&e<i)for(r=s-1;r>=0;--r)t[r+e]=this[r+n];else if(s<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},Buffer.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=internalIsBuffer(t)?t:utf8ToBytes(new Buffer(t,i).toString()),u=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(t){if((t=stringtrim(t).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],o=0;o<i;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function asciiToBytes(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function utf16leToBytes(t,e){for(var n,i,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,r.push(n%256),r.push(i);return r}function base64ToBytes(t){return toByteArray(base64clean(t))}function blitBuffer(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function isnan(t){return t!=t}function isBuffer(t){return null!=t&&(!!t._isBuffer||isFastBuffer(t)||isSlowBuffer(t))}function isFastBuffer(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function isSlowBuffer(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&isFastBuffer(t.slice(0,0))}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}function nextTick(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(t,e)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title$2="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop$1(){}var on=noop$1,addListener=noop$1,once=noop$1,off=noop$1,removeListener=noop$1,removeAllListeners=noop$1,emit=noop$1;function binding(){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return(new Date).getTime()};function hrtime(t){var e=.001*performanceNow.call(performance$1),n=Math.floor(e),i=Math.floor(e%1*1e9);return t&&(n-=t[0],(i-=t[1])<0&&(n--,i+=1e9)),[n,i]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var browser$1={nextTick,title:title$2,browser,env,argv,version,versions,on,addListener,once,off,removeListener,removeAllListeners,emit,binding,cwd,chdir,umask,hrtime,platform,release,config,uptime},inherits;inherits="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};const inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(t).replace(formatRegExp,(function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}})),o=i[n];n<r;o=i[++n])isNull(o)||!isObject(o)?s+=" "+o:s+=" "+inspect(o);return s}function deprecate(t,e){if(isUndefined(global$1.process))return function(){return deprecate(t,e).apply(this,arguments)};if(!0===browser$1.noDeprecation)return t;var n=!1;return function(){if(!n){if(browser$1.throwDeprecation)throw new Error(e);browser$1.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(t){return isUndefined(debugEnviron)&&(debugEnviron=browser$1.env.NODE_DEBUG||""),t=t.toUpperCase(),debugs[t]||(debugs[t]=new RegExp("\\b"+t+"\\b","i").test(debugEnviron)?function(){var e=format.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:function(){}),debugs[t]}function inspect(t,e){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(e)?n.showHidden=e:e&&_extend(n,e),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"["+inspect.colors[n][0]+"m"+t+"["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t){return t}function arrayToHash(t){var e={};return t.forEach((function(t){e[t]=!0})),e}function formatValue(t,e,n){if(t.customInspect&&e&&isFunction(e.inspect)&&e.inspect!==inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return isString(i)||(i=formatValue(t,i,n)),i}var r=formatPrimitive(t,e);if(r)return r;var s=Object.keys(e),o=arrayToHash(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),isError(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(e);if(0===s.length){if(isFunction(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var u,a="",h=!1,c=["{","}"];return isArray$1(e)&&(h=!0,c=["[","]"]),isFunction(e)&&(a=" [Function"+(e.name?": "+e.name:"")+"]"),isRegExp(e)&&(a=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(a=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(a=" "+formatError(e)),0!==s.length||h&&0!=e.length?n<0?isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=h?formatArray(t,e,n,o,s):s.map((function(i){return formatProperty(t,e,n,o,i,h)})),t.seen.pop(),reduceToSingleString(u,a,c)):c[0]+a+c[1]}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return isNumber(e)?t.stylize(""+e,"number"):isBoolean(e)?t.stylize(""+e,"boolean"):isNull(e)?t.stylize("null","null"):void 0}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,n,i,r){for(var s=[],o=0,u=e.length;o<u;++o)hasOwnProperty$1(e,String(o))?s.push(formatProperty(t,e,n,i,String(o),!0)):s.push("");return r.forEach((function(r){r.match(/^\d+$/)||s.push(formatProperty(t,e,n,i,r,!0))})),s}function formatProperty(t,e,n,i,r,s){var o,u,a;if((a=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?u=t.stylize(a.set?"[Getter/Setter]":"[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),hasOwnProperty$1(i,r)||(o="["+r+"]"),u||(t.seen.indexOf(a.value)<0?(u=isNull(n)?formatValue(t,a.value,null):formatValue(t,a.value,n-1)).indexOf("\n")>-1&&(u=s?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),isUndefined(o)){if(s&&r.match(/^\d+$/))return u;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+u}function reduceToSingleString(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function isArray$1(t){return Array.isArray(t)}function isBoolean(t){return"boolean"==typeof t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}function isNumber(t){return"number"==typeof t}function isString(t){return"string"==typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"==typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"==typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function _extend(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}function hasOwnProperty$1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,timeoutDuration=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(isBrowser&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function microtaskDebounce(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}function taskDebounce(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),timeoutDuration))}}var supportsMicroTasks=isBrowser&&window.Promise,debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction$1(t){return t&&"[object Function]"==={}.toString.call(t)}function getStyleComputedProperty(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function getParentNode(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function getScrollParent(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=getStyleComputedProperty(t);return/(auto|scroll|overlay)/.test(e.overflow+e.overflowY+e.overflowX)?t:getScrollParent(getParentNode(t))}function getReferenceNode(t){return t&&t.referenceNode?t.referenceNode:t}var isIE11$1=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(t){return 11===t?isIE11$1:10===t?isIE10:isIE11$1||isIE10}function getOffsetParent(t){if(!t)return document.documentElement;for(var e=isIE(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===getStyleComputedProperty(n,"position")?getOffsetParent(n):n:t?t.ownerDocument.documentElement:document.documentElement}function isOffsetContainer(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||getOffsetParent(t.firstElementChild)===t)}function getRoot(t){return null!==t.parentNode?getRoot(t.parentNode):t}function findCommonOffsetParent(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);var o=s.commonAncestorContainer;if(t!==o&&e!==o||i.contains(r))return isOffsetContainer(o)?o:getOffsetParent(o);var u=getRoot(t);return u.host?findCommonOffsetParent(u.host,e):findCommonOffsetParent(t,getRoot(e).host)}function getScroll(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;return"BODY"===n||"HTML"===n?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function includeScroll(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=getScroll(e,"top"),r=getScroll(e,"left"),s=n?-1:1;return t.top+=i*s,t.bottom+=i*s,t.left+=r*s,t.right+=r*s,t}function getBordersSize(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function getSize(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],isIE(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function getWindowSizes(t){var e=t.body,n=t.documentElement,i=isIE(10)&&getComputedStyle(n);return{height:getSize("Height",e,n,i),width:getSize("Width",e,n,i)}}var classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function getClientRect(t){return _extends({},t,{right:t.left+t.width,bottom:t.top+t.height})}function getBoundingClientRect(t){var e={};try{if(isIE(10)){e=t.getBoundingClientRect();var n=getScroll(t,"top"),i=getScroll(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(h){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?getWindowSizes(t.ownerDocument):{},o=t.offsetWidth-(s.width||t.clientWidth||r.width),u=t.offsetHeight-(s.height||t.clientHeight||r.height);if(o||u){var a=getStyleComputedProperty(t);o-=getBordersSize(a,"x"),u-=getBordersSize(a,"y"),r.width-=o,r.height-=u}return getClientRect(r)}function getOffsetRectRelativeToArbitraryNode(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=isIE(10),r="HTML"===e.nodeName,s=getBoundingClientRect(t),o=getBoundingClientRect(e),u=getScrollParent(t),a=getStyleComputedProperty(e),h=parseFloat(a.borderTopWidth,10),c=parseFloat(a.borderLeftWidth,10);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=getClientRect({top:s.top-o.top-h,left:s.left-o.left-c,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var l=parseFloat(a.marginTop,10),d=parseFloat(a.marginLeft,10);f.top-=h-l,f.bottom-=h-l,f.left-=c-d,f.right-=c-d,f.marginTop=l,f.marginLeft=d}return(i&&!n?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(f=includeScroll(f,e)),f}function getViewportOffsetRectRelativeToArtbitraryNode(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=getOffsetRectRelativeToArbitraryNode(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:getScroll(n),u=e?0:getScroll(n,"left");return getClientRect({top:o-i.top+i.marginTop,left:u-i.left+i.marginLeft,width:r,height:s})}function isFixed(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===getStyleComputedProperty(t,"position"))return!0;var n=getParentNode(t);return!!n&&isFixed(n)}function getFixedPositionOffsetParent(t){if(!t||!t.parentElement||isIE())return document.documentElement;for(var e=t.parentElement;e&&"none"===getStyleComputedProperty(e,"transform");)e=e.parentElement;return e||document.documentElement}function getBoundaries(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=r?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,getReferenceNode(e));if("viewport"===i)s=getViewportOffsetRectRelativeToArtbitraryNode(o,r);else{var u=void 0;"scrollParent"===i?"BODY"===(u=getScrollParent(getParentNode(e))).nodeName&&(u=t.ownerDocument.documentElement):u="window"===i?t.ownerDocument.documentElement:i;var a=getOffsetRectRelativeToArbitraryNode(u,o,r);if("HTML"!==u.nodeName||isFixed(o))s=a;else{var h=getWindowSizes(t.ownerDocument),c=h.height,f=h.width;s.top+=a.top-a.marginTop,s.bottom=c+a.top,s.left+=a.left-a.marginLeft,s.right=f+a.left}}var l="number"==typeof(n=n||0);return s.left+=l?n:n.left||0,s.top+=l?n:n.top||0,s.right-=l?n:n.right||0,s.bottom-=l?n:n.bottom||0,s}function getArea(t){return t.width*t.height}function computeAutoPlacement(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=getBoundaries(n,i,s,r),u={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},a=Object.keys(u).map((function(t){return _extends({key:t},u[t],{area:getArea(u[t])})})).sort((function(t,e){return e.area-t.area})),h=a.filter((function(t){return t.width>=n.clientWidth&&t.height>=n.clientHeight})),c=h.length>0?h[0].key:a[0].key,f=t.split("-")[1];return c+(f?"-"+f:"")}function getReferenceOffsets(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(n,i?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,getReferenceNode(n)),i)}function getOuterSizes(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function getOppositePlacement(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function getPopperOffsets(t,e,n){n=n.split("-")[0];var i=getOuterSizes(t),r={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",u=s?"left":"top",a=s?"height":"width",h=s?"width":"height";return r[o]=e[o]+e[a]/2-i[a]/2,r[u]=n===u?e[u]-i[h]:e[getOppositePlacement(u)],r}function find(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function findIndex(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=find(t,(function(t){return t[e]===n}));return t.indexOf(i)}function runModifiers(t,e,n){return(void 0===n?t:t.slice(0,findIndex(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&isFunction$1(n)&&(e.offsets.popper=getClientRect(e.offsets.popper),e.offsets.reference=getClientRect(e.offsets.reference),e=n(e,t))})),e}function update(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=computeAutoPlacement(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=getPopperOffsets(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=runModifiers(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function isModifierEnabled(t,e){return t.some((function(t){return t.enabled&&t.name===e}))}function getSupportedPropertyName(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],s=r?""+r+n:t;if(void 0!==document.body.style[s])return s}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(t){var e=t.ownerDocument;return e?e.defaultView:window}function attachToScrollParents(t,e,n,i){var r="BODY"===t.nodeName,s=r?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),r||attachToScrollParents(getScrollParent(s.parentNode),e,n,i),i.push(s)}function setupEventListeners(t,e,n,i){n.updateBound=i,getWindow(t).addEventListener("resize",n.updateBound,{passive:!0});var r=getScrollParent(t);return attachToScrollParents(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function removeEventListeners(t,e){return getWindow(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=removeEventListeners(this.reference,this.state))}function isNumeric(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function setStyles(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&isNumeric(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function setAttributes(t,e){Object.keys(e).forEach((function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function applyStyle(t){return setStyles(t.instance.popper,t.styles),setAttributes(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&setStyles(t.arrowElement,t.arrowStyles),t}function applyStyleOnLoad(t,e,n,i,r){var s=getReferenceOffsets(r,e,t,n.positionFixed),o=computeAutoPlacement(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),setStyles(e,{position:n.positionFixed?"fixed":"absolute"}),n}function getRoundedOffsets(t,e){var n=t.offsets,i=n.popper,r=Math.round,s=Math.floor,o=function(t){return t},u=r(n.reference.width),a=r(i.width),h=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),f=e?h||c||u%2==a%2?r:s:o,l=e?r:o;return{left:f(u%2==1&&a%2==1&&!c&&e?i.left-1:i.left),top:l(i.top),bottom:l(i.bottom),right:f(i.right)}}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function computeStyle(t,e){var n=e.x,i=e.y,r=t.offsets.popper,s=find(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o,u,a=void 0!==s?s:e.gpuAcceleration,h=getOffsetParent(t.instance.popper),c=getBoundingClientRect(h),f={position:r.position},l=getRoundedOffsets(t,window.devicePixelRatio<2||!isFirefox),d="bottom"===n?"top":"bottom",p="right"===i?"left":"right",v=getSupportedPropertyName("transform");if(u="bottom"===d?"HTML"===h.nodeName?-h.clientHeight+l.bottom:-c.height+l.bottom:l.top,o="right"===p?"HTML"===h.nodeName?-h.clientWidth+l.right:-c.width+l.right:l.left,a&&v)f[v]="translate3d("+o+"px, "+u+"px, 0)",f[d]=0,f[p]=0,f.willChange="transform";else{var m="right"===p?-1:1;f[d]=u*("bottom"===d?-1:1),f[p]=o*m,f.willChange=d+", "+p}return t.attributes=_extends({},{"x-placement":t.placement},t.attributes),t.styles=_extends({},f,t.styles),t.arrowStyles=_extends({},t.offsets.arrow,t.arrowStyles),t}function isModifierRequired(t,e,n){var i=find(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var s="`"+e+"`";console.warn("`"+n+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return r}function arrow(t,e){var n;if(!isModifierRequired(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],s=t.offsets,o=s.popper,u=s.reference,a=-1!==["left","right"].indexOf(r),h=a?"height":"width",c=a?"Top":"Left",f=c.toLowerCase(),l=a?"left":"top",d=a?"bottom":"right",p=getOuterSizes(i)[h];u[d]-p<o[f]&&(t.offsets.popper[f]-=o[f]-(u[d]-p)),u[f]+p>o[d]&&(t.offsets.popper[f]+=u[f]+p-o[d]),t.offsets.popper=getClientRect(t.offsets.popper);var v=u[f]+u[h]/2-p/2,m=getStyleComputedProperty(t.instance.popper),g=parseFloat(m["margin"+c],10),w=parseFloat(m["border"+c+"Width"],10),b=v-t.offsets.popper[f]-g-w;return b=Math.max(Math.min(o[h]-p,b),0),t.arrowElement=i,t.offsets.arrow=(defineProperty(n={},f,Math.round(b)),defineProperty(n,l,""),n),t}function getOppositeVariation(t){return"end"===t?"start":"start"===t?"end":t}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=validPlacements.indexOf(t),i=validPlacements.slice(n+1).concat(validPlacements.slice(0,n));return e?i.reverse():i}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function flip(t,e){if(isModifierEnabled(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=getBoundaries(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=getOppositePlacement(i),s=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case BEHAVIORS.FLIP:o=[i,r];break;case BEHAVIORS.CLOCKWISE:o=clockwise(i);break;case BEHAVIORS.COUNTERCLOCKWISE:o=clockwise(i,!0);break;default:o=e.behavior}return o.forEach((function(u,a){if(i!==u||o.length===a+1)return t;i=t.placement.split("-")[0],r=getOppositePlacement(i);var h=t.offsets.popper,c=t.offsets.reference,f=Math.floor,l="left"===i&&f(h.right)>f(c.left)||"right"===i&&f(h.left)<f(c.right)||"top"===i&&f(h.bottom)>f(c.top)||"bottom"===i&&f(h.top)<f(c.bottom),d=f(h.left)<f(n.left),p=f(h.right)>f(n.right),v=f(h.top)<f(n.top),m=f(h.bottom)>f(n.bottom),g="left"===i&&d||"right"===i&&p||"top"===i&&v||"bottom"===i&&m,w=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(w&&"start"===s&&d||w&&"end"===s&&p||!w&&"start"===s&&v||!w&&"end"===s&&m)||!!e.flipVariationsByContent&&(w&&"start"===s&&p||w&&"end"===s&&d||!w&&"start"===s&&m||!w&&"end"===s&&v);(l||g||b)&&(t.flipped=!0,(l||g)&&(i=o[a+1]),b&&(s=getOppositeVariation(s)),t.placement=i+(s?"-"+s:""),t.offsets.popper=_extends({},t.offsets.popper,getPopperOffsets(t.instance.popper,t.offsets.reference,t.placement)),t=runModifiers(t.instance.modifiers,t,"flip"))})),t}function keepTogether(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(r),u=o?"right":"bottom",a=o?"left":"top",h=o?"width":"height";return n[u]<s(i[a])&&(t.offsets.popper[a]=s(i[a])-n[h]),n[a]>s(i[u])&&(t.offsets.popper[a]=s(i[u])),t}function toValue(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+r[1],o=r[2];if(!s)return t;if(0===o.indexOf("%")){var u=void 0;switch(o){case"%p":u=n;break;case"%":case"%r":default:u=i}return getClientRect(u)[e]/100*s}return"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s}function parseOffset(t,e,n,i){var r=[0,0],s=-1!==["right","left"].indexOf(i),o=t.split(/(\+|\-)/).map((function(t){return t.trim()})),u=o.indexOf(find(o,(function(t){return-1!==t.search(/,|\s/)})));o[u]&&-1===o[u].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,h=-1!==u?[o.slice(0,u).concat([o[u].split(a)[0]]),[o[u].split(a)[1]].concat(o.slice(u+1))]:[o];return(h=h.map((function(t,i){var r=(1===i?!s:s)?"height":"width",o=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)}),[]).map((function(t){return toValue(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){isNumeric(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}function offset(t,e){var n,i=e.offset,r=t.offsets,s=r.popper,o=r.reference,u=t.placement.split("-")[0];return n=isNumeric(+i)?[+i,0]:parseOffset(i,s,o,u),"left"===u?(s.top+=n[0],s.left-=n[1]):"right"===u?(s.top+=n[0],s.left+=n[1]):"top"===u?(s.left+=n[0],s.top-=n[1]):"bottom"===u&&(s.left+=n[0],s.top+=n[1]),t.popper=s,t}function preventOverflow(t,e){var n=e.boundariesElement||getOffsetParent(t.instance.popper);t.instance.reference===n&&(n=getOffsetParent(n));var i=getSupportedPropertyName("transform"),r=t.instance.popper.style,s=r.top,o=r.left,u=r[i];r.top="",r.left="",r[i]="";var a=getBoundaries(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=s,r.left=o,r[i]=u,e.boundaries=a;var h=t.offsets.popper,c={primary:function(t){var n=h[t];return h[t]<a[t]&&!e.escapeWithReference&&(n=Math.max(h[t],a[t])),defineProperty({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=h[n];return h[t]>a[t]&&!e.escapeWithReference&&(i=Math.min(h[n],a[t]-("right"===t?h.width:h.height))),defineProperty({},n,i)}};return e.priority.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";h=_extends({},h,c[e](t))})),t.offsets.popper=h,t}function shift(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,s=r.reference,o=r.popper,u=-1!==["bottom","top"].indexOf(n),a=u?"left":"top",h=u?"width":"height",c={start:defineProperty({},a,s[a]),end:defineProperty({},a,s[a]+s[h]-o[h])};t.offsets.popper=_extends({},o,c[i])}return t}function hide(t){if(!isModifierRequired(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=find(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function inner(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,s=i.reference,o=-1!==["left","right"].indexOf(n),u=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=s[n]-(u?r[o?"width":"height"]:0),t.placement=getOppositePlacement(e),t.offsets.popper=getClientRect(r),t}var modifiers={shift:{order:100,enabled:!0,fn:shift},offset:{order:200,enabled:!0,fn:offset,offset:0},preventOverflow:{order:300,enabled:!0,fn:preventOverflow,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:keepTogether},arrow:{order:500,enabled:!0,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:inner},hide:{order:800,enabled:!0,fn:hide},computeStyle:{order:850,enabled:!0,fn:computeStyle,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers},Popper=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_extends({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=_extends({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return _extends({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&isFunction$1(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return createClass(t,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),t}();function _extends$1(){return(_extends$1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}Popper.Utils=("undefined"!=typeof window?window:global$1).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;var version$1="5.1.1";function setInnerHTML(t,e){t[innerHTML()]=e}function isReferenceElement(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function hasOwnProperty$2(t,e){return{}.hasOwnProperty.call(t,e)}function getArrayOfElements(t){return isElement(t)?[t]:isNodeList(t)?arrayFrom(t):Array.isArray(t)?t:arrayFrom(document.querySelectorAll(t))}function getValueAtIndexOrReturn(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?Array.isArray(n)?n[e]:n:i}return t}function getModifier(t,e){return t&&t.modifiers&&t.modifiers[e]}function isType(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function isElement(t){return isType(t,"Element")}function isNodeList(t){return isType(t,"NodeList")}function isMouseEvent(t){return isType(t,"MouseEvent")}function innerHTML(){return"innerHTML"}function invokeWithArgsOrReturn(t,e){return"function"==typeof t?t.apply(void 0,e):t}function setModifierValue(t,e,n,i){t.filter((function(t){return t.name===e}))[0][n]=i}function div(){return document.createElement("div")}function setTransitionDuration(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function setVisibilityState(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function debounce$1(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}function preserveInvocation(t,e,n){t&&t!==e&&t.apply(void 0,n)}function arrayFrom(t){return[].slice.call(t)}function closestCallback(t,e){for(;t;){if(e(t))return t;t=t.parentElement}return null}function includes(t,e){return t.indexOf(e)>-1}function splitBySpaces(t){return t.split(/\s+/).filter(Boolean)}function useIfDefined(t,e){return void 0!==t?t:e}function normalizeToArray(t){return[].concat(t)}function getOwnerDocument(t){var e=normalizeToArray(t)[0];return e&&e.ownerDocument||document}function pushIfUnique(t,e){-1===t.indexOf(e)&&t.push(e)}function appendPxIfNumber(t){return"number"==typeof t?t+"px":t}function unique(t){return t.filter((function(e,n){return t.indexOf(e)===n}))}function getNumber(t){return"number"==typeof t?t:parseFloat(t)}function getUnitsInPx(t,e){var n="string"==typeof e&&includes(e,"rem"),i=t.documentElement;return i&&n?parseFloat(getComputedStyle(i).fontSize||String(16))*getNumber(e):getNumber(e)}function getComputedPadding(t,e,n){void 0===e&&(e=5);var i={top:0,right:0,bottom:0,left:0};return Object.keys(i).reduce((function(i,r){return i[r]="number"==typeof e?e:e[r],t===r&&(i[r]="number"==typeof e?e+n:e[t]+n),i}),i)}var defaultProps={allowHTML:!0,animateFill:!1,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inlinePositioning:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,sticky:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},defaultKeys=Object.keys(defaultProps),POPPER_INSTANCE_DEPENDENCIES=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],setDefaultProps=function(t){Object.keys(t).forEach((function(e){defaultProps[e]=t[e]}))};function getExtendedProps(t){return _extends$1({},t,{},t.plugins.reduce((function(e,n){var i=n.name;return i&&(e[i]=void 0!==t[i]?t[i]:n.defaultValue),e}),{}))}function getDataAttributeProps(t,e){return(e?Object.keys(getExtendedProps(_extends$1({},defaultProps,{plugins:e}))):defaultKeys).reduce((function(e,n){var i=(t.getAttribute("data-tippy-"+n)||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(r){e[n]=i}return e}),{})}function evaluateProps(t,e){var n=_extends$1({},e,{content:invokeWithArgsOrReturn(e.content,[t])},e.ignoreAttributes?{}:getDataAttributeProps(t,e.plugins));return n.interactive&&(n.aria=null),n}var PASSIVE={passive:!0},IOS_CLASS="tippy-iOS",POPPER_CLASS="tippy-popper",TOOLTIP_CLASS="tippy-tooltip",CONTENT_CLASS="tippy-content",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",POPPER_SELECTOR="."+POPPER_CLASS,TOOLTIP_SELECTOR="."+TOOLTIP_CLASS,CONTENT_SELECTOR="."+CONTENT_CLASS,ARROW_SELECTOR="."+ARROW_CLASS,SVG_ARROW_SELECTOR="."+SVG_ARROW_CLASS,currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var t=performance.now();t-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=t}function onWindowBlur(){var t=document.activeElement;isReferenceElement(t)&&t.blur&&!t._tippy.state.isVisible&&t.blur()}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,_extends$1({},PASSIVE,{capture:!0})),window.addEventListener("blur",onWindowBlur)}var isBrowser$1="undefined"!=typeof window&&"undefined"!=typeof document,ua=isBrowser$1?navigator.userAgent:"",isIE$1=/MSIE |Trident\//.test(ua),isUCBrowser=/UCBrowser\//.test(ua),isIOS=isBrowser$1&&/iPhone|iPad|iPod/.test(navigator.platform);function updateIOSClass(t){document.body.classList[t&&isIOS&&currentInput.isTouch?"add":"remove"](IOS_CLASS)}function getBasePlacement(t){return t.split("-")[0]}function addInertia(t){t.setAttribute("data-inertia","")}function removeInertia(t){t.removeAttribute("data-inertia")}function addInteractive(t){t.setAttribute("data-interactive","")}function removeInteractive(t){t.removeAttribute("data-interactive")}function setContent(t,e){isElement(e.content)?(setInnerHTML(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(t[e.allowHTML?"innerHTML":"textContent"]=e.content)}function getChildren(t){return{tooltip:t.querySelector(TOOLTIP_SELECTOR),content:t.querySelector(CONTENT_SELECTOR),arrow:t.querySelector(ARROW_SELECTOR)||t.querySelector(SVG_ARROW_SELECTOR)}}function createArrowElement(t){var e=div();return!0===t?e.className=ARROW_CLASS:(e.className=SVG_ARROW_CLASS,isElement(t)?e.appendChild(t):setInnerHTML(e,t)),e}function createPopperElement(t,e){var n=div();n.className=POPPER_CLASS,n.style.position="absolute",n.style.top="0",n.style.left="0";var i=div();i.className=TOOLTIP_CLASS,i.id="tippy-"+t,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1"),updateTheme(i,"add",e.theme);var r=div();return r.className=CONTENT_CLASS,r.setAttribute("data-state","hidden"),e.interactive&&addInteractive(i),e.arrow&&(i.setAttribute("data-arrow",""),i.appendChild(createArrowElement(e.arrow))),e.inertia&&addInertia(i),setContent(r,e),i.appendChild(r),n.appendChild(i),updatePopperElement(n,e,e),n}function updatePopperElement(t,e,n){var i=getChildren(t),r=i.tooltip,s=i.content,o=i.arrow;t.style.zIndex=""+n.zIndex,r.setAttribute("data-animation",n.animation),r.style.maxWidth=appendPxIfNumber(n.maxWidth),n.role?r.setAttribute("role",n.role):r.removeAttribute("role"),e.content!==n.content&&setContent(s,n),!e.arrow&&n.arrow?(r.appendChild(createArrowElement(n.arrow)),r.setAttribute("data-arrow","")):e.arrow&&!n.arrow?(r.removeChild(o),r.removeAttribute("data-arrow")):e.arrow!==n.arrow&&(r.removeChild(o),r.appendChild(createArrowElement(n.arrow))),!e.interactive&&n.interactive?addInteractive(r):e.interactive&&!n.interactive&&removeInteractive(r),!e.inertia&&n.inertia?addInertia(r):e.inertia&&!n.inertia&&removeInertia(r),e.theme!==n.theme&&(updateTheme(r,"remove",e.theme),updateTheme(r,"add",n.theme))}function updateTransitionEndListener(t,e,n){var i=isUCBrowser&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[e+"EventListener"](i,n)}function updateTheme(t,e,n){splitBySpaces(n).forEach((function(n){t.classList[e](n+"-theme")}))}function isCursorOutsideInteractiveBorder(t,e){var n=e.clientX,i=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.tooltipRect,s=t.interactiveBorder,o=Math.min(e.top,r.top),u=Math.max(e.right,r.right),a=Math.max(e.bottom,r.bottom),h=Math.min(e.left,r.left);return o-i>s||i-a>s||h-n>s||n-u>s}))}var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(t,e){var n,i,r,s=getExtendedProps(evaluateProps(t,e));if(!s.multiple&&t._tippy)return null;var o,u,a,h,c=!1,f=!1,l=0,d=[],p=debounce$1(F,s.interactiveDebounce),v=getOwnerDocument(s.triggerTarget||t),m=idCounter++,g=createPopperElement(m,s),w=getChildren(g),b=unique(s.plugins),y=w.tooltip,T=[y,w.content],E={id:m,reference:t,popper:g,popperChildren:w,popperInstance:null,props:s,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(r)},setProps:function(e){if(!E.state.isDestroyed){x("onBeforeUpdate",[E,e]),j();var n=E.props,i=evaluateProps(t,_extends$1({},E.props,{},e,{ignoreAttributes:!0}));i.ignoreAttributes=useIfDefined(e.ignoreAttributes,n.ignoreAttributes),E.props=i,N(),n.interactiveDebounce!==i.interactiveDebounce&&(M(),p=debounce$1(F,i.interactiveDebounce)),updatePopperElement(g,n,i),E.popperChildren=getChildren(g),n.triggerTarget&&!i.triggerTarget?normalizeToArray(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):i.triggerTarget&&t.removeAttribute("aria-expanded"),R(),E.popperInstance&&(POPPER_INSTANCE_DEPENDENCIES.some((function(t){return hasOwnProperty$2(e,t)&&e[t]!==n[t]}))?(E.popperInstance.destroy(),V(),E.state.isVisible&&E.popperInstance.enableEventListeners()):E.popperInstance.update()),x("onAfterUpdate",[E,e])}},setContent:function(t){E.setProps({content:t})},show:function(t){void 0===t&&(t=getValueAtIndexOrReturn(E.props.duration,0,defaultProps.duration)),E.state.isVisible||E.state.isDestroyed||!E.state.isEnabled||currentInput.isTouch&&!E.props.touch||I().hasAttribute("disabled")||(E.popperInstance||V(),x("onShow",[E],!1),!1!==E.props.onShow(E)&&(P(),g.style.visibility="visible",E.state.isVisible=!0,E.state.isMounted||setTransitionDuration(T.concat(g),0),u=function(){E.state.isVisible&&(setTransitionDuration([g],E.props.updateDuration),setTransitionDuration(T,t),setVisibilityState(T,"visible"),A(),R(),pushIfUnique(mountedInstances,E),updateIOSClass(!0),E.state.isMounted=!0,x("onMount",[E]),function(t){D(t,(function(){E.state.isShown=!0,x("onShown",[E])}))}(t))},function(){l=0;var t,e=E.props.appendTo,n=I();(t=E.props.interactive&&e===defaultProps.appendTo||"parent"===e?n.parentNode:invokeWithArgsOrReturn(e,[n])).contains(g)||t.appendChild(g),setModifierValue(E.popperInstance.modifiers,"flip","enabled",E.props.flip),E.popperInstance.enableEventListeners(),E.popperInstance.update()}()))},hide:function(t){void 0===t&&(t=getValueAtIndexOrReturn(E.props.duration,1,defaultProps.duration)),!E.state.isVisible&&!c||E.state.isDestroyed||!E.state.isEnabled&&!c||(x("onHide",[E],!1),(!1!==E.props.onHide(E)||c)&&(L(),g.style.visibility="hidden",E.state.isVisible=!1,E.state.isShown=!1,setTransitionDuration(T,t),setVisibilityState(T,"hidden"),A(),R(),function(t){D(t,(function(){!E.state.isVisible&&g.parentNode&&g.parentNode.contains(g)&&(E.popperInstance.disableEventListeners(),E.popperInstance.options.placement=E.props.placement,g.parentNode.removeChild(g),0===(mountedInstances=mountedInstances.filter((function(t){return t!==E}))).length&&updateIOSClass(!1),E.state.isMounted=!1,x("onHidden",[E]))}))}(t)))},enable:function(){E.state.isEnabled=!0},disable:function(){E.hide(),E.state.isEnabled=!1},destroy:function(){E.state.isDestroyed||(c=!0,E.clearDelayTimeouts(),E.hide(0),j(),delete t._tippy,E.popperInstance&&E.popperInstance.destroy(),c=!1,E.state.isDestroyed=!0,x("onDestroy",[E]))}};t._tippy=E,g._tippy=E;var S=b.map((function(t){return t.fn(E)}));return N(),R(),s.lazy||V(),x("onCreate",[E]),s.showOnCreate&&q(),g.addEventListener("mouseenter",(function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()})),g.addEventListener("mouseleave",(function(){E.props.interactive&&includes(E.props.trigger,"mouseenter")&&v.addEventListener("mousemove",p)})),E;function C(){var t=E.props.touch;return Array.isArray(t)?t:[t,0]}function O(){return"hold"===C()[0]}function I(){return h||t}function _(t){return E.state.isMounted&&!E.state.isVisible||currentInput.isTouch||!o||"focus"===o.type?0:getValueAtIndexOrReturn(E.props.delay,t?0:1,defaultProps.delay)}function x(t,e,n){var i;void 0===n&&(n=!0),S.forEach((function(n){hasOwnProperty$2(n,t)&&n[t].apply(n,e)})),n&&(i=E.props)[t].apply(i,e)}function A(){var e=E.props.aria;if(e){var n="aria-"+e,i=y.id;normalizeToArray(E.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(E.state.isVisible)t.setAttribute(n,e?e+" "+i:i);else{var r=e&&e.replace(i,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}}))}}function R(){normalizeToArray(E.props.triggerTarget||t).forEach((function(t){E.props.interactive?t.setAttribute("aria-expanded",E.state.isVisible&&t===I()?"true":"false"):t.removeAttribute("aria-expanded")}))}function M(){v.body.removeEventListener("mouseleave",G),v.removeEventListener("mousemove",p),mouseMoveListeners=mouseMoveListeners.filter((function(t){return t!==p}))}function k(t){if(!E.props.interactive||!g.contains(t.target)){if(I().contains(t.target)){if(currentInput.isTouch)return;if(E.state.isVisible&&includes(E.props.trigger,"click"))return}!0===E.props.hideOnClick&&(E.clearDelayTimeouts(),E.hide(),f=!0,setTimeout((function(){f=!1})),E.state.isMounted||L())}}function P(){v.addEventListener("mousedown",k,!0)}function L(){v.removeEventListener("mousedown",k,!0)}function D(t,e){function n(t){t.target===y&&(updateTransitionEndListener(y,"remove",n),e())}if(0===t)return e();updateTransitionEndListener(y,"remove",a),updateTransitionEndListener(y,"add",n),a=n}function $(e,n,i){void 0===i&&(i=!1),normalizeToArray(E.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,i),d.push({node:t,eventType:e,handler:n,options:i})}))}function N(){O()&&($("touchstart",B,PASSIVE),$("touchend",z,PASSIVE)),splitBySpaces(E.props.trigger).forEach((function(t){if("manual"!==t)switch($(t,B),t){case"mouseenter":$("mouseleave",z);break;case"focus":$(isIE$1?"focusout":"blur",H)}}))}function j(){d.forEach((function(t){t.node.removeEventListener(t.eventType,t.handler,t.options)})),d=[]}function B(t){if(E.state.isEnabled&&!U(t)&&!f)if(o=t,h=t.currentTarget,R(),!E.state.isVisible&&isMouseEvent(t)&&mouseMoveListeners.forEach((function(e){return e(t)})),"click"===t.type&&!1!==E.props.hideOnClick&&E.state.isVisible)G(t);else{var e=C(),i=e[1];currentInput.isTouch&&"hold"===e[0]&&i?n=setTimeout((function(){q(t)}),i):q(t)}}function F(e){closestCallback(e.target,(function(e){return e===t||e===g}))||isCursorOutsideInteractiveBorder(arrayFrom(g.querySelectorAll(POPPER_SELECTOR)).concat(g).map((function(t){var e=t._tippy,n=e.popperChildren.tooltip,i=e.props.interactiveBorder;return{popperRect:t.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:i}})),e)&&(M(),G(e))}function z(t){if(!U(t))return E.props.interactive?(v.body.addEventListener("mouseleave",G),v.addEventListener("mousemove",p),void pushIfUnique(mouseMoveListeners,p)):void G(t)}function H(t){t.target===I()&&(E.props.interactive&&t.relatedTarget&&g.contains(t.relatedTarget)||G(t))}function U(t){var e="ontouchstart"in window,n=includes(t.type,"touch"),i=O();return e&&currentInput.isTouch&&i&&!n||currentInput.isTouch&&!i&&n}function V(){var e,n=E.props.popperOptions,i=E.popperChildren.arrow,r=getModifier(n,"flip"),s=getModifier(n,"preventOverflow");function o(t){var n=E.state.currentPlacement;E.state.currentPlacement=t.placement,E.props.flip&&!E.props.flipOnUpdate&&(t.flipped&&(E.popperInstance.options.placement=t.placement),setModifierValue(E.popperInstance.modifiers,"flip","enabled",!1)),y.setAttribute("data-placement",t.placement),!1!==t.attributes["x-out-of-boundaries"]?y.setAttribute("data-out-of-boundaries",""):y.removeAttribute("data-out-of-boundaries");var i=getBasePlacement(t.placement),r=includes(["top","bottom"],i),s=includes(["bottom","right"],i);y.style.top="0",y.style.left="0",y.style[r?"top":"left"]=(s?1:-1)*e+"px",n&&n!==t.placement&&E.popperInstance.update()}var u=_extends$1({eventsEnabled:!1,placement:E.props.placement},n,{modifiers:_extends$1({},n&&n.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(t){e=getUnitsInPx(v,E.props.distance);var n=getBasePlacement(t.placement),i=getComputedPadding(n,s&&s.padding,e),o=getComputedPadding(n,r&&r.padding,e),u=E.popperInstance.modifiers;return setModifierValue(u,"preventOverflow","padding",i),setModifierValue(u,"flip","padding",o),t}},preventOverflow:_extends$1({boundariesElement:E.props.boundary},s),flip:_extends$1({enabled:E.props.flip,behavior:E.props.flipBehavior},r),arrow:_extends$1({element:i,enabled:!!i},getModifier(n,"arrow")),offset:_extends$1({offset:E.props.offset},getModifier(n,"offset"))}),onCreate:function(t){o(t),preserveInvocation(n&&n.onCreate,u.onCreate,[t]),W()},onUpdate:function(t){o(t),preserveInvocation(n&&n.onUpdate,u.onUpdate,[t]),W()}});E.popperInstance=new Popper(t,g,u)}function W(){0===l?(l++,E.popperInstance.update()):u&&1===l&&(l++,u())}function q(t){E.clearDelayTimeouts(),E.popperInstance||V(),t&&x("onTrigger",[E,t]),P();var e=_(!0);e?n=setTimeout((function(){E.show()}),e):E.show()}function G(t){if(E.clearDelayTimeouts(),x("onUntrigger",[E,t]),E.state.isVisible){var e=_(!1);e?i=setTimeout((function(){E.state.isVisible&&E.hide()}),e):r=requestAnimationFrame((function(){E.hide()}))}else L()}}function tippy(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]),n=defaultProps.plugins.concat(e.plugins||n),bindGlobalEventListeners();var i=_extends$1({},defaultProps,{},e,{plugins:n}),r=getArrayOfElements(t).reduce((function(t,e){var n=e&&createTippy(e,i);return n&&t.push(n),t}),[]);return isElement(t)?r[0]:r}tippy.version=version$1,tippy.defaultProps=defaultProps,tippy.setDefaultProps=setDefaultProps,tippy.currentInput=currentInput;var sticky={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(e){return!0===t.props.sticky||t.props.sticky===e}var r=null,s=null;function o(){var u=i("reference")?e.getBoundingClientRect():null,a=i("popper")?n.getBoundingClientRect():null;(u&&areRectsDifferent(r,u)||a&&areRectsDifferent(s,a))&&t.popperInstance.update(),r=u,s=a,t.state.isMounted&&requestAnimationFrame(o)}return{onMount:function(){t.props.sticky&&o()}}}};function areRectsDifferent(t,e){return!t||!e||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left}const ImageComponent=class{constructor(t){registerInstance(this,t),this.preload=!1,this.caption="",this.loading=!1,this.loaded=!1,this.failed=!1,this.props=[],this.imageAdded=createEvent(this,"imageAdded",7),this.imageLoad=createEvent(this,"imageLoad",7),this.store=getContext(this,"store")}async addImageProperty(t){this.props.find(e=>e==t)||(this.props=[...this.props,t])}async removeImageProperty(t){this.props.find(e=>e==t)&&(this.props=this.props.filter(e=>e!=t))}componentWillLoad(){this.store.mapDispatchToProps(this,{viewItem}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{viewport:{itemIndex:e}}=t;return{currentItemIndex:e}})}componentDidUnload(){this.storeUnsubscribe()}handleLoad(t){this.loading=!1,this.loaded=!0,this.createTooltip(),this.imageLoad.emit(t)}handleError(t){this.failed=!0,this.loading=!1,this.loaded=!1}handleClick(){isNumber(this.page)&&this.viewItem(this.page)}componentDidRender(){this.imageAdded.emit(this.el)}createTooltip(){if(this.showTooltip)return this.loaded&&this.caption?(this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),this.tooltip=tippy(this.el,{appendTo:"parent",theme:"harmonized-dark",placement:"bottom",distance:-5,animation:"shift-toward",arrow:!1,sticky:!0,plugins:[sticky],content:this.caption})):void 0}determineThumbnail(t){if(null===this.src||""===this.src||this.failed)return"https://baclac.blob.core.windows.net/cdn/assets/placeholder-unavailable.jpeg";switch(t){case"image":return this.src;case"pdf":return"https://baclac.blob.core.windows.net/cdn/assets/placeholder-pdf.jpeg";case"video":return"https://baclac.blob.core.windows.net/cdn/assets/placeholder-video.jpeg";case"audio":return"https://baclac.blob.core.windows.net/cdn/assets/placeholder-audio.jpeg";default:return"https://baclac.blob.core.windows.net/cdn/assets/placeholder-unavailable.jpeg"}}render(){let e="mdc-image-list__item";e+=this.loading?" is-loading":this.loaded?" is-loaded":this.failed?" is-error":" is-ghost",this.page===this.currentItemIndex&&(e+=" is-active");const n=resolveViewportType(this.contentType),i=this.determineThumbnail(n);return h(Host,{role:"button",class:e,onClick:this.loaded&&this.handleClick.bind(this),title:""==this.caption?t("untitled"):this.caption},h("div",{class:"mdc-image-list__image-aspect-container",role:"list"},h("img",{"data-lazy-load":!0,src:this.preload&&i,"data-src":i,alt:""==this.caption?t("untitled"):this.caption,class:"mdc-image-list__image mdc-elevation--z2",onLoad:this.handleLoad.bind(this),onError:this.handleError.bind(this),style:{opacity:this.loaded?"1":"0"},role:"listitem"}),h("ul",{class:"inv",role:"listitem"},this.props.map(t=>h("li",null,t)))))}get el(){return getElement(this)}static get style(){return"harmonized-image{\@-webkit-keyframes ghost-loading{0%{background-position:100% 50%}to{background-position:0 50%}}\@keyframes ghost-loading{0%{background-position:100% 50%}to{background-position:0 50%}}display:inline-block;position:relative}harmonized-image.is-ghost .mdc-image-list__image-aspect-container,harmonized-image.is-ghost .mdc-image-list__supporting,harmonized-image.is-loading .mdc-image-list__image-aspect-container,harmonized-image.is-loading .mdc-image-list__supporting{background:-webkit-gradient(linear,left top,right top,color-stop(25%,rgba(0,0,0,.05)),color-stop(37%,rgba(0,0,0,.1)),color-stop(63%,rgba(0,0,0,.05)));background:linear-gradient(90deg,rgba(0,0,0,.05) 25%,rgba(0,0,0,.1) 37%,rgba(0,0,0,.05) 63%);background-size:400% 100%;-webkit-animation:ghost-loading 1.4s ease infinite;animation:ghost-loading 1.4s ease infinite}harmonized-image.is-loaded{cursor:pointer}harmonized-image .mdc-image-list__image-aspect-container{opacity:.7;-webkit-filter:grayscale(50%);filter:grayscale(50%);-ms-flex-line-pack:center;align-content:center;-webkit-transition:all .2s ease;transition:all .2s ease}harmonized-image .mdc-image-list__image-aspect-container .mdc-image-list__image{border:1px solid #fff;-webkit-transition:boxShadow 175ms cubic-bezier(.4,0,.2,1);transition:boxShadow 175ms cubic-bezier(.4,0,.2,1)}harmonized-image.is-active .mdc-image-list__image-aspect-container,harmonized-image:hover .mdc-image-list__image-aspect-container{opacity:1;-webkit-filter:grayscale(0);filter:grayscale(0)}harmonized-image .mdc-image-list__supporting{margin:7px 0 0 0;padding:1px 10px;-ms-flex-pack:center;justify-content:center}harmonized-image .mdc-image-list__supporting .mdc-image-list__label{letter-spacing:0;font-size:14px;font-weight:400;line-height:20px;letter-spacing:1px;margin:0;padding:1px 5px;border-radius:1px;text-transform:uppercase}harmonized-image.is-active .mdc-image-list__image,harmonized-image:hover .mdc-image-list__image{opacity:1;-webkit-filter:grayscale(0);filter:grayscale(0)}harmonized-image:focus{outline:none}harmonized-image ul.inv{clip:rect(1px,1px,1px,1px);height:1px;margin:0;overflow:hidden;position:absolute;width:1px}"}};!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document;n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,o=s(r),u=this._rootContainsTarget(r),a=i.entry,h=t&&u&&this._computeTargetAndRootIntersection(r,n),c=i.entry=new e({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:n,intersectionRect:h});a?t&&u?this._hasCrossedThreshold(a,c)&&this._queuedEntries.push(c):a&&a.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var i,r,o,a,h,c,f,l,d=s(e),p=u(e),v=!1;!v;){var m=null,g=1==p.nodeType?window.getComputedStyle(p):{};if("none"==g.display)return;if(p==this.root||p==t?(v=!0,m=n):p!=t.body&&p!=t.documentElement&&"visible"!=g.overflow&&(m=s(p)),m&&(i=m,r=d,void 0,void 0,void 0,void 0,void 0,void 0,o=Math.max(i.top,r.top),a=Math.min(i.bottom,r.bottom),h=Math.max(i.left,r.left),l=a-o,!(d=(f=(c=Math.min(i.right,r.right))-h)>=0&&l>=0&&{top:o,bottom:a,left:h,right:c,width:f,height:l})))break;p=u(p)}return d}},n.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},n.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==n||s==i||s<n!=s<i)return!0}},n.prototype._rootIsInDom=function(){return!this.root||o(t,this.root)},n.prototype._rootContainsTarget=function(e){return o(this.root||t,e)},n.prototype._registerInstance=function(){},n.prototype._unregisterInstance=function(){},window.IntersectionObserver=n,window.IntersectionObserverEntry=e}function e(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect;this.intersectionRatio=n?Number((i.width*i.height/n).toFixed(4)):this.isIntersecting?1:0}function n(t,e){var n,i,r,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function i(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var n=e;n;){if(n==t)return!0;n=u(n)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}();const ImageListComponent=class{constructor(t){registerInstance(this,t),this.children=0}componentDidLoad(){this.observer=this.createObserver(),this.bind()}componentDidUnload(){this.observer.disconnect()}componentDidRender(){this.bind()}handleImageAdded(){this.children=this.el.children.length}createObserver(){return new IntersectionObserver(this.handleObserve)}bind(){Array.from(this.el.querySelectorAll("img[data-lazy-load]")).forEach(t=>this.bindOne(t))}bindOne(t){t&&(this.observer||(this.observer=this.createObserver()),!1===t.classList.contains("is-observed")&&(this.observer.observe(t),t.classList.add("is-observed")))}handleObserve(t,e){t&&e&&t.forEach(t=>{let n=t.target;n&&t.isIntersecting&&(n.classList.remove("is-observed"),n.src=n.dataset.src,e.unobserve(n))})}get el(){return getElement(this)}static get style(){return".harmonized-image-list,.harmonized-image-list .mdc-image-list{display:-ms-flexbox;display:flex;margin:0 auto}.harmonized-image-list .mdc-image-list{-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0}.harmonized-image-list .mdc-image-list__image-aspect-container,.harmonized-image-list .mdc-image-list__item{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.harmonized-image-list .mdc-image-list__item{list-style-type:none}.harmonized-image-list .mdc-image-list__image{width:100%}.harmonized-image-list .mdc-image-list__image-aspect-container .mdc-image-list__image{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;background-repeat:no-repeat;background-position:50%;background-size:cover}.harmonized-image-list .mdc-image-list__image-aspect-container{padding-bottom:calc(100% / 1)}.harmonized-image-list .mdc-image-list__image{border-radius:0}.harmonized-image-list.mdc-image-list--with-text-protection .mdc-image-list__supporting{border-radius:0 0 0 0}.harmonized-image-list .mdc-image-list__supporting{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87));display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;padding:8px 0;line-height:24px}.harmonized-image-list .mdc-image-list__label{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.009375em;text-decoration:inherit;text-transform:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.harmonized-image-list .mdc-image-list--with-text-protection .mdc-image-list__supporting{position:absolute;bottom:0;width:100%;height:48px;padding:0 16px;background:rgba(0,0,0,.6);color:#fff}.harmonized-image-list .mdc-image-list--masonry{display:block}.harmonized-image-list .mdc-image-list--masonry .mdc-image-list__item{-webkit-column-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid-column}.harmonized-image-list .mdc-image-list--masonry .mdc-image-list__image{display:block;height:auto}.harmonized-image-list .mdc-image-list__item{width:calc(100% / 4 - 4.25px);margin:2px}\@media (min-width:480px){.harmonized-image-list .mdc-image-list__item{width:calc(100% / 8 - 4.125px);margin:2px}}\@media (min-width:1280px){.harmonized-image-list .mdc-image-list__item{width:calc(100% / 16 - 4.0625px);margin:2px}}.harmonized-image-list.mdc-image-list{padding:3px 5px 5px 5px}.harmonized-image-list.mdc-image-list .mdc-image-list__item{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;list-style-type:none}.harmonized-image-list.mdc-image-list--horizontal{-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow-x:scroll;overflow-y:hidden}.harmonized-image-list.mdc-image-list--horizontal .mdc-image-list__item{min-width:calc(100% / 4 - 4.2px)}\@media (min-width:480px){.harmonized-image-list.mdc-image-list--horizontal .mdc-image-list__item{min-width:calc(100% / 8 - 4.2px)}}\@media (min-width:1280px){.harmonized-image-list.mdc-image-list--horizontal .mdc-image-list__item{min-width:calc(100% / 16 - 4.2px)}}"}},MessageComponent=class{constructor(t){registerInstance(this,t)}className(t){let e="message";switch(t){case"success":e+=" is-success";break;case"error":e+=" is-danger";break;default:e+=" is-dark"}return e}render(){return h("article",{class:this.className(this.type)},h("div",{class:"message-body"},h("slot",null)))}static get style(){return"harmonized-message{display:block}harmonized-message .message .message-body,harmonized-message .message .message-header{border-radius:0}"}};var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var hasFetch=isFunction$2(global$1.fetch)&&isFunction$2(global$1.ReadableStream),_blobConstructor,xhr;function blobConstructor(){if(void 0!==_blobConstructor)return _blobConstructor;try{new global$1.Blob([new ArrayBuffer(1)]),_blobConstructor=!0}catch(t){_blobConstructor=!1}return _blobConstructor}function checkTypeSupport(t){xhr||(xhr=new global$1.XMLHttpRequest).open("GET",global$1.location.host?"/":"https://example.com");try{return xhr.responseType=t,xhr.responseType===t}catch(e){return!1}}var haveArrayBuffer=void 0!==global$1.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction$2(global$1.ArrayBuffer.prototype.slice),arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer"),msstream=!hasFetch&&haveSlice&&checkTypeSupport("ms-stream"),mozchunkedarraybuffer=!hasFetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),overrideMimeType=isFunction$2(xhr.overrideMimeType),vbArray=isFunction$2(global$1.VBArray);function isFunction$2(t){return"function"==typeof t}function EventHandlers(){}function EventEmitter$1(){EventEmitter$1.init.call(this)}function $getMaxListeners(t){return void 0===t._maxListeners?EventEmitter$1.defaultMaxListeners:t._maxListeners}function emitNone(t,e,n){if(e)t.call(n);else for(var i=t.length,r=arrayClone(t,i),s=0;s<i;++s)r[s].call(n)}function emitOne(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,s=arrayClone(t,r),o=0;o<r;++o)s[o].call(n,i)}function emitTwo(t,e,n,i,r){if(e)t.call(n,i,r);else for(var s=t.length,o=arrayClone(t,s),u=0;u<s;++u)o[u].call(n,i,r)}function emitThree(t,e,n,i,r,s){if(e)t.call(n,i,r,s);else for(var o=t.length,u=arrayClone(t,o),a=0;a<o;++a)u[a].call(n,i,r,s)}function emitMany(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,s=arrayClone(t,r),o=0;o<r;++o)s[o].apply(n,i)}function _addListener(t,e,n,i){var r,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]):(s=t._events=new EventHandlers,t._eventsCount=0),o){if("function"==typeof o?o=s[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),!o.warned&&(r=$getMaxListeners(t))&&r>0&&o.length>r){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,emitWarning(u)}}else o=s[e]=n,++t._eventsCount;return t}function emitWarning(t){"function"==typeof console.warn?console.warn(t):console.log(t)}function _onceWrap(t,e,n){var i=!1;function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}return r.listener=n,r}function listenerCount(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function arrayClone(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}function unwrapListeners(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function BufferList(){this.head=null,this.tail=null,this.length=0}xhr=null,EventHandlers.prototype=Object.create(null),EventEmitter$1.EventEmitter=EventEmitter$1,EventEmitter$1.usingDomains=!1,EventEmitter$1.prototype.domain=void 0,EventEmitter$1.prototype._events=void 0,EventEmitter$1.prototype._maxListeners=void 0,EventEmitter$1.defaultMaxListeners=10,EventEmitter$1.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$1.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},EventEmitter$1.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter$1.prototype.emit=function(t){var e,n,i,r,s,o,u,a="error"===t;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(u=this.domain,a){if(e=arguments[1],!u){if(e instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=u,e.domainThrown=!1,u.emit("error",e),!1}if(!(n=o[t]))return!1;var c="function"==typeof n;switch(i=arguments.length){case 1:emitNone(n,c,this);break;case 2:emitOne(n,c,this,arguments[1]);break;case 3:emitTwo(n,c,this,arguments[1],arguments[2]);break;case 4:emitThree(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),s=1;s<i;s++)r[s-1]=arguments[s];emitMany(n,c,this,r)}return!0},EventEmitter$1.prototype.addListener=function(t,e){return _addListener(this,t,e,!1)},EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener,EventEmitter$1.prototype.prependListener=function(t,e){return _addListener(this,t,e,!0)},EventEmitter$1.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,_onceWrap(this,t,e)),this},EventEmitter$1.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter$1.prototype.removeListener=function(t,e){var n,i,r,s,o;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new EventHandlers:(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,s=n.length;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=n[s].listener,r=s;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete i[t]}else spliceOne(n,r);i.removeListener&&this.emit("removeListener",t,o||e)}return this},EventEmitter$1.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new EventHandlers:delete n[t]),this;if(0===arguments.length){for(var i,r=Object.keys(n),s=0;s<r.length;++s)"removeListener"!==(i=r[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},EventEmitter$1.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:unwrapListeners(e):[]},EventEmitter$1.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter$1.prototype.listenerCount=listenerCount,EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},BufferList.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},BufferList.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},BufferList.prototype.concat=function(t){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var e=Buffer.allocUnsafe(t>>>0),n=this.head,i=0;n;)n.data.copy(e,i),i+=n.data.length,n=n.next;return e};var isBufferEncoding=Buffer.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(t){if(t&&!isBufferEncoding(t))throw new Error("Unknown encoding: "+t)}function StringDecoder(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}function passThroughWrite(t){return t.toString(this.encoding)}function utf16DetectIncompleteChar(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i,r=t.length;if(this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),(i=(e+=t.toString(this.encoding,0,r)).charCodeAt(r=e.length-1))>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,r)}return e},StringDecoder.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},StringDecoder.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.encoding;e+=this.charBuffer.slice(0,this.charReceived).toString(n)}return e},Readable.ReadableState=ReadableState;var debug=debuglog("stream");function prependListener(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function listenerCount$1(t,e){return t.listeners(e).length}function ReadableState(t,e){this.objectMode=!!(t=t||{}).objectMode,e instanceof Duplex&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new StringDecoder(t.encoding),this.encoding=t.encoding)}function Readable(t){if(!(this instanceof Readable))return new Readable(t);this._readableState=new ReadableState(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),EventEmitter$1.call(this)}function readableAddChunk(t,e,n,i,r){var s=chunkInvalid(e,n);if(s)t.emit("error",s);else if(null===n)e.reading=!1,onEofChunk(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&r){var u=new Error("stream.unshift() after end event");t.emit("error",u)}else{var a;!e.decoder||r||i||(n=e.decoder.write(n),a=!e.objectMode&&0===n.length),r||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&emitReadable(t))),maybeReadMore(t,e)}else r||(e.reading=!1);return needMoreData(e)}function needMoreData(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}inherits$1(Readable,EventEmitter$1),Readable.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=Buffer.from(t,e),e=""),readableAddChunk(this,n,t,e,!1)},Readable.prototype.unshift=function(t){return readableAddChunk(this,this._readableState,t,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(t){return this._readableState.decoder=new StringDecoder(t),this._readableState.encoding=t,this};var MAX_HWM=8388608;function computeNewHighWaterMark(t){return t>=MAX_HWM?t=MAX_HWM:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function howMuchToRead(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=computeNewHighWaterMark(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function chunkInvalid(t,e){var n=null;return Buffer.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,emitReadable(t)}}function emitReadable(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(debug("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?nextTick(emitReadable_,t):emitReadable_(t))}function emitReadable_(t){debug("emit readable"),t.emit("readable"),flow(t)}function maybeReadMore(t,e){e.readingMore||(e.readingMore=!0,nextTick(maybeReadMore_,t,e))}function maybeReadMore_(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(debug("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function pipeOnDrain(t){return function(){var e=t._readableState;debug("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,flow(t))}}function nReadingNextTick(t){debug("readable nexttick read 0"),t.read(0)}function resume(t,e){e.resumeScheduled||(e.resumeScheduled=!0,nextTick(resume_,t,e))}function resume_(t,e){e.reading||(debug("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),flow(t),e.flowing&&!e.reading&&t.read(0)}function flow(t){var e=t._readableState;for(debug("flow",e.flowing);e.flowing&&null!==t.read(););}function fromList(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=fromListPartial(t,e.buffer,e.decoder),n);var n}function fromListPartial(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?copyFromBufferString(t,e):copyFromBuffer(t,e),i}function copyFromBufferString(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(r+=o===s.length?s:s.slice(0,t),0==(t-=o)){o===s.length?(++i,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function copyFromBuffer(t,e){var n=Buffer.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),0==(t-=o)){o===s.length?(++r,e.head=i.next?i.next:e.tail=null):(e.head=i,i.data=s.slice(o));break}++r}return e.length-=r,n}function endReadable(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,nextTick(endReadableNT,e,t))}function endReadableNT(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function forEach(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}function indexOf(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function nop(){}function WriteReq(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function WritableState(t,e){Object.defineProperty(this,"buffer",{get:deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(t=t||{}).objectMode,e instanceof Duplex&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){onwrite(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(t){if(!(this instanceof Writable||this instanceof Duplex))return new Writable(t);this._writableState=new WritableState(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),EventEmitter$1.call(this)}function writeAfterEnd(t,e){var n=new Error("write after end");t.emit("error",n),nextTick(e,n)}function validChunk(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):Buffer.isBuffer(n)||"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),nextTick(i,s),r=!1),r}function decodeChunk(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=Buffer.from(e,n)),e}function writeOrBuffer(t,e,n,i,r){n=decodeChunk(e,n,i),Buffer.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var o=e.length<e.highWaterMark;if(o||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new WriteReq(n,i,r),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else doWrite(t,e,!1,s,n,i,r);return o}function doWrite(t,e,n,i,r,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function onwriteError(t,e,n,i,r){--e.pendingcb,n?nextTick(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function onwriteStateUpdate(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function onwrite(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(onwriteStateUpdate(n),e)onwriteError(t,n,i,e,r);else{var s=needFinish(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(t,n),i?nextTick(afterWrite,t,n,s,r):afterWrite(t,n,s,r)}}function afterWrite(t,e,n,i){n||onwriteDrain(t,e),e.pendingcb--,i(),finishMaybe(t,e)}function onwriteDrain(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function clearBuffer(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=new Array(e.bufferedRequestCount),r=e.corkedRequestsFree;r.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;doWrite(t,e,!0,e.length,i,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new CorkedRequest(e)}else{for(;n;){var o=n.chunk;if(doWrite(t,e,!1,e.objectMode?1:o.length,o,n.encoding,n.callback),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function needFinish(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function prefinish(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function finishMaybe(t,e){var n=needFinish(e);return n&&(0===e.pendingcb?(prefinish(t,e),e.finished=!0,t.emit("finish")):prefinish(t,e)),n}function endWritable(t,e,n){e.ending=!0,finishMaybe(t,e),n&&(e.finished?nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function CorkedRequest(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Readable.prototype.read=function(t){debug("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return debug("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?endReadable(this):emitReadable(this),null;if(0===(t=howMuchToRead(t,e))&&e.ended)return 0===e.length&&endReadable(this),null;var i,r=e.needReadable;return debug("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&debug("length less than watermark",r=!0),e.ended||e.reading?debug("reading or ended",r=!1):r&&(debug("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=howMuchToRead(n,e))),null===(i=t>0?fromList(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&endReadable(this)),null!==i&&this.emit("data",i),i},Readable.prototype._read=function(){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,debug("pipe count=%d opts=%j",i.pipesCount,e);var r=e&&!1===e.end?h:o;function s(t){debug("onunpipe"),t===n&&h()}function o(){debug("onend"),t.end()}i.endEmitted?nextTick(r):n.once("end",r),t.on("unpipe",s);var u=pipeOnDrain(n);t.on("drain",u);var a=!1;function h(){debug("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",l),t.removeListener("unpipe",s),n.removeListener("end",o),n.removeListener("end",h),n.removeListener("data",f),a=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}var c=!1;function f(e){debug("ondata"),c=!1,!1!==t.write(e)||c||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==indexOf(i.pipes,t))&&!a&&(debug("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,c=!0),n.pause())}function l(e){debug("onerror",e),v(),t.removeListener("error",l),0===listenerCount$1(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",p),v()}function p(){debug("onfinish"),t.removeListener("close",d),v()}function v(){debug("unpipe"),n.unpipe(t)}return n.on("data",f),prependListener(t,"error",l),t.once("close",d),t.once("finish",p),t.emit("pipe",n),i.flowing||(debug("pipe resume"),n.resume()),t},Readable.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var s=indexOf(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},Readable.prototype.on=function(t,e){var n=EventEmitter$1.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var t=this._readableState;return t.flowing||(debug("resume"),t.flowing=!0,resume(this,t)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",(function(){if(debug("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)})),t.on("data",(function(r){debug("wrapped data"),e.decoder&&(r=e.decoder.write(r)),e.objectMode&&null==r||(e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return forEach(["error","close","destroy","pause","resume"],(function(e){t.on(e,i.emit.bind(i,e))})),i._read=function(e){debug("wrapped _read",e),n&&(n=!1,t.resume())},i},Readable._fromList=fromList,Writable.WritableState=WritableState,inherits$1(Writable,EventEmitter$1),WritableState.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(t,e,n){var i=this._writableState,r=!1;return"function"==typeof e&&(n=e,e=null),Buffer.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=nop),i.ended?writeAfterEnd(this,n):validChunk(this,i,t,n)&&(i.pendingcb++,r=writeOrBuffer(this,i,t,e,n)),r},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||clearBuffer(this,t))},Writable.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Writable.prototype._write=function(t,e,n){n(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,n)},inherits$1(Duplex,Readable);for(var keys=Object.keys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(t){if(!(this instanceof Duplex))return new Duplex(t);Readable.call(this,t),Writable.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(t){t.end()}var rStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function IncomingMessage(t,e,n){var i,r=this;if(Readable.call(r),r._mode=n,r.headers={},r.rawHeaders=[],r.trailers={},r.rawTrailers=[],r.on("end",(function(){browser$1.nextTick((function(){r.emit("close")}))})),"fetch"===n){r._fetchResponse=e,r.url=e.url,r.statusCode=e.status,r.statusMessage=e.statusText;for(var s,o,u=e.headers[Symbol.iterator]();s=(o=u.next()).value,!o.done;)r.headers[s[0].toLowerCase()]=s[1],r.rawHeaders.push(s[0],s[1]);var a=e.body.getReader();(i=function(){a.read().then((function(t){r._destroyed||(t.done?r.push(null):(r.push(new Buffer(t.value)),i()))}))})()}else if(r._xhr=t,r._pos=0,r.url=t.responseURL,r.statusCode=t.status,r.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===r.headers[n]&&(r.headers[n]=[]),r.headers[n].push(e[2])):void 0!==r.headers[n]?r.headers[n]+=", "+e[2]:r.headers[n]=e[2],r.rawHeaders.push(e[1],e[2])}})),r._charset="x-user-defined",!overrideMimeType){var h=r.rawHeaders["mime-type"];if(h){var c=h.match(/;\s*charset=([^;])(;|$)/);c&&(r._charset=c[1].toLowerCase())}r._charset||(r._charset="utf-8")}}function toArrayBuffer(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}function decideMode(t,e){return hasFetch&&e?"fetch":mozchunkedarraybuffer?"moz-chunked-arraybuffer":msstream?"ms-stream":arraybuffer&&t?"arraybuffer":vbArray&&t?"text:vbarray":"text"}function ClientRequest(t){var e,n=this;Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new Buffer(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){n.setHeader(e,t.headers[e])}));var i=!0;if("disable-fetch"===t.mode)i=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}n._mode=decideMode(e,i),n.on("finish",(function(){n._onFinish()}))}inherits$1(IncomingMessage,Readable),IncomingMessage.prototype._read=function(){},IncomingMessage.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==rStates.DONE)break;try{n=new global$1.VBArray(e.responseBody).toArray()}catch(u){}if(null!==n){t.push(new Buffer(n));break}case"text":try{n=e.responseText}catch(u){t._mode="text:vbarray";break}if(n.length>t._pos){var i=n.substr(t._pos);if("x-user-defined"===t._charset){for(var r=new Buffer(i.length),s=0;s<i.length;s++)r[s]=255&i.charCodeAt(s);t.push(r)}else t.push(i,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==rStates.DONE||!e.response)break;n=e.response,t.push(new Buffer(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==rStates.LOADING||!n)break;t.push(new Buffer(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==rStates.LOADING)break;var o=new global$1.MSStreamReader;o.onprogress=function(){o.result.byteLength>t._pos&&(t.push(new Buffer(new Uint8Array(o.result.slice(t._pos)))),t._pos=o.result.byteLength)},o.onload=function(){t.push(null)},o.readAsArrayBuffer(n)}t._xhr.readyState===rStates.DONE&&"ms-stream"!==t._mode&&t.push(null)},inherits$1(ClientRequest,Writable);var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function statusValid(t){try{var e=t.status;return null!==e&&0!==e}catch(n){return!1}}ClientRequest.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===unsafeHeaders.indexOf(n)&&(this._headers[n]={name:t,value:e})},ClientRequest.prototype.getHeader=function(t){return this._headers[t.toLowerCase()].value},ClientRequest.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e,n=t._opts,i=t._headers;if("POST"!==n.method&&"PUT"!==n.method&&"PATCH"!==n.method||(e=blobConstructor()?new global$1.Blob(t._body.map((function(t){return toArrayBuffer(t)})),{type:(i["content-type"]||{}).value||""}):Buffer.concat(t._body).toString()),"fetch"===t._mode){var r=Object.keys(i).map((function(t){return[i[t].name,i[t].value]}));global$1.fetch(t._opts.url,{method:t._opts.method,headers:r,body:e,mode:"cors",credentials:n.withCredentials?"include":"same-origin"}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){t.emit("error",e)}))}else{var s=t._xhr=new global$1.XMLHttpRequest;try{s.open(t._opts.method,t._opts.url,!0)}catch(o){return void browser$1.nextTick((function(){t.emit("error",o)}))}"responseType"in s&&(s.responseType=t._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(i).forEach((function(t){s.setRequestHeader(i[t].name,i[t].value)})),t._response=null,s.onreadystatechange=function(){switch(s.readyState){case rStates.LOADING:case rStates.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(s.onprogress=function(){t._onXHRProgress()}),s.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{s.send(e)}catch(o){return void browser$1.nextTick((function(){t.emit("error",o)}))}}}},ClientRequest.prototype._onXHRProgress=function(){statusValid(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ClientRequest.prototype._connect=function(){this._destroyed||(this._response=new IncomingMessage(this._xhr,this._fetchResponse,this._mode),this.emit("response",this._response))},ClientRequest.prototype._write=function(t,e,n){this._body.push(t),n()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr&&this._xhr.abort()},ClientRequest.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),Writable.prototype.end.call(this,t,e,n)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};
/*! https://mths.be/punycode v1.4.1 by @mathias */
var maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors$2={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(t){throw new RangeError(errors$2[t])}function map(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function mapDomain(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+map((t=t.replace(regexSeparators,".")).split("."),e).join(".")}function ucs2decode(t){for(var e,n,i=[],r=0,s=t.length;r<s;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<s?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function digitToBasic(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function adapt(t,e,n){var i=0;for(t=n?floor(t/damp):t>>1,t+=floor(t/e);t>baseMinusTMin*tMax>>1;i+=base)t=floor(t/baseMinusTMin);return floor(i+(baseMinusTMin+1)*t/(t+skew))}function encode(t){var e,n,i,r,s,o,u,a,h,c,f,l,d,p,v,m=[];for(l=(t=ucs2decode(t)).length,e=initialN,n=0,s=initialBias,o=0;o<l;++o)(f=t[o])<128&&m.push(stringFromCharCode(f));for(i=r=m.length,r&&m.push(delimiter);i<l;){for(u=maxInt,o=0;o<l;++o)(f=t[o])>=e&&f<u&&(u=f);for(u-e>floor((maxInt-n)/(d=i+1))&&error("overflow"),n+=(u-e)*d,e=u,o=0;o<l;++o)if((f=t[o])<e&&++n>maxInt&&error("overflow"),f==e){for(a=n,h=base;!(a<(c=h<=s?tMin:h>=s+tMax?tMax:h-s));h+=base)m.push(stringFromCharCode(digitToBasic(c+(v=a-c)%(p=base-c),0))),a=floor(v/p);m.push(stringFromCharCode(digitToBasic(a,0))),s=adapt(n,d,i==r),n=0,++i}++n,++e}return m.join("")}function toASCII(t){return mapDomain(t,(function(t){return regexNonASCII.test(t)?"xn--"+encode(t):t}))}function hasOwnProperty$3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var isArray$2=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function stringifyPrimitive(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function stringify(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?map$1(objectKeys(t),(function(i){var r=encodeURIComponent(stringifyPrimitive(i))+n;return isArray$2(t[i])?map$1(t[i],(function(t){return r+encodeURIComponent(stringifyPrimitive(t))})).join(e):r+encodeURIComponent(stringifyPrimitive(t[i]))})).join(e):i?encodeURIComponent(stringifyPrimitive(i))+n+encodeURIComponent(stringifyPrimitive(t)):""}function map$1(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var objectKeys=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e};function parse(t,e,n,i){n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e=e||"&");var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var u=t.length;o>0&&u>o&&(u=o);for(var a=0;a<u;++a){var h,c,f,l,d=t[a].replace(s,"%20"),p=d.indexOf(n);p>=0?(h=d.substr(0,p),c=d.substr(p+1)):(h=d,c=""),f=decodeURIComponent(h),l=decodeURIComponent(c),hasOwnProperty$3(r,f)?isArray$2(r[f])?r[f].push(l):r[f]=[r[f],l]:r[f]=l}return r}const require$$0={parse:urlParse,resolve:urlResolve,resolveObject:urlResolveObject,format:urlFormat,Url};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,e,n){if(t&&isObject(t)&&t instanceof Url)return t;var i=new Url;return i.parse(t,e,n),i}function parse$1(t,e,n,i){if(!isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(s);o[0]=o[0].replace(/\\/g,"/");var u=e=o.join(s);if(u=u.trim(),!i&&1===e.split("#").length){var a=simplePathPattern.exec(u);if(a)return t.path=u,t.href=u,t.pathname=a[1],a[2]?(t.search=a[2],t.query=n?parse(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t}var h,c,f,l=protocolPattern.exec(u);if(l){var d=(l=l[0]).toLowerCase();t.protocol=d,u=u.substr(l.length)}if(i||l||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===u.substr(0,2);!p||l&&hostlessProtocol[l]||(u=u.substr(2),t.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){var v,m,g=-1;for(h=0;h<hostEndingChars.length;h++)-1!==(c=u.indexOf(hostEndingChars[h]))&&(-1===g||c<g)&&(g=c);for(-1!==(m=-1===g?u.lastIndexOf("@"):u.lastIndexOf("@",g))&&(v=u.slice(0,m),u=u.slice(m+1),t.auth=decodeURIComponent(v)),g=-1,h=0;h<nonHostChars.length;h++)-1!==(c=u.indexOf(nonHostChars[h]))&&(-1===g||c<g)&&(g=c);-1===g&&(g=u.length),t.host=u.slice(0,g),u=u.slice(g),parseHost(t),t.hostname=t.hostname||"";var w="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!w){var b=t.hostname.split(/\./);for(h=0,f=b.length;h<f;h++){var y=b[h];if(y&&!y.match(hostnamePartPattern)){for(var T="",E=0,S=y.length;E<S;E++)y.charCodeAt(E)>127?T+="x":T+=y[E];if(!T.match(hostnamePartPattern)){var C=b.slice(0,h),O=b.slice(h+1),I=y.match(hostnamePartStart);I&&(C.push(I[1]),O.unshift(I[2])),O.length&&(u="/"+O.join(".")+u),t.hostname=C.join(".");break}}}}t.hostname=t.hostname.length>hostnameMaxLen?"":t.hostname.toLowerCase(),w||(t.hostname=toASCII(t.hostname)),t.host=(t.hostname||"")+(t.port?":"+t.port:""),t.href+=t.host,w&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!unsafeProtocol[d])for(h=0,f=autoEscape.length;h<f;h++){var _=autoEscape[h];if(-1!==u.indexOf(_)){var x=encodeURIComponent(_);x===_&&(x=escape(_)),u=u.split(_).join(x)}}var A=u.indexOf("#");-1!==A&&(t.hash=u.substr(A),u=u.slice(0,A));var R=u.indexOf("?");return-1!==R?(t.search=u.substr(R),t.query=u.substr(R+1),n&&(t.query=parse(t.query)),u=u.slice(0,R)):n&&(t.search="",t.query={}),u&&(t.pathname=u),slashedProtocol[d]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.href=format$1(t),t}function urlFormat(t){return isString(t)&&(t=parse$1({},t)),format$1(t)}function format$1(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=t.protocol||"",i=t.pathname||"",r=t.hash||"",s=!1,o="";t.host?s=e+t.host:t.hostname&&(s=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(s+=":"+t.port)),t.query&&isObject(t.query)&&Object.keys(t.query).length&&(o=stringify(t.query));var u=t.search||o&&"?"+o||"";return n&&":"!==n.substr(-1)&&(n+=":"),t.slashes||(!n||slashedProtocol[n])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),u&&"?"!==u.charAt(0)&&(u="?"+u),n+s+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(u=u.replace("#","%23"))+r}function urlResolve(t,e){return urlParse(t,!1,!0).resolve(e)}function urlResolveObject(t,e){return t?urlParse(t,!1,!0).resolveObject(e):e}function parseHost(t){var e=t.host,n=portPattern.exec(e);n&&(":"!==(n=n[0])&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e)}function request(t,e){"string"==typeof t&&(t=urlParse(t));var n=-1===global$1.location.protocol.search(/^https?:$/)?"http:":"",i=t.protocol||n,r=t.hostname||t.host,s=t.port,o=t.path||"/";r&&-1!==r.indexOf(":")&&(r="["+r+"]"),t.url=(r?i+"//"+r:"")+(s?":"+s:"")+o,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new ClientRequest(t);return e&&u.on("response",e),u}function get$1(t,e){var n=request(t,e);return n.end(),n}function Agent(){}Url.prototype.parse=function(t,e,n){return parse$1(this,t,e,n)},Url.prototype.format=function(){return format$1(this)},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var e=new Url;e.parse(t,!1,!0),t=e}for(var n,i=new Url,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),a=0;a<u.length;a++){var h=u[a];"protocol"!==h&&(i[h]=t[h])}return slashedProtocol[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!slashedProtocol[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var l=c[f];i[l]=t[l]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])i.pathname=t.pathname;else{for(n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),i.pathname=n.join("/")}return i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,(i.pathname||i.search)&&(i.path=(i.pathname||"")+(i.search||"")),i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var d,p=i.pathname&&"/"===i.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=v||p||i.host&&t.pathname,g=m,w=i.pathname&&i.pathname.split("/")||[],b=i.protocol&&!slashedProtocol[i.protocol];if(n=t.pathname&&t.pathname.split("/")||[],b&&(i.hostname="",i.port=null,i.host&&(""===w[0]?w[0]=i.host:w.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=null),m=m&&(""===n[0]||""===w[0])),v)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,w=n;else if(n.length)w||(w=[]),w.pop(),w=w.concat(n),i.search=t.search,i.query=t.query;else if(!isNullOrUndefined(t.search))return b&&(i.hostname=i.host=w.shift(),(d=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=d.shift(),i.host=i.hostname=d.shift())),i.search=t.search,i.query=t.query,isNull(i.pathname)&&isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!w.length)return i.pathname=null,i.path=i.search?"/"+i.search:null,i.href=i.format(),i;for(var y=w.slice(-1)[0],T=(i.host||t.host||w.length>1)&&("."===y||".."===y)||""===y,E=0,S=w.length;S>=0;S--)"."===(y=w[S])?w.splice(S,1):".."===y?(w.splice(S,1),E++):E&&(w.splice(S,1),E--);if(!m&&!g)for(;E--;E)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var C=""===w[0]||w[0]&&"/"===w[0].charAt(0);return b&&(i.hostname=i.host=C?"":w.length?w.shift():"",(d=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=d.shift(),i.host=i.hostname=d.shift())),(m=m||i.host&&w.length)&&!C&&w.unshift(""),w.length?i.pathname=w.join("/"):(i.pathname=null,i.path=null),isNull(i.pathname)&&isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},Url.prototype.parseHost=function(){return parseHost(this)},Agent.defaultMaxSockets=4;var METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};const http={request,get:get$1,Agent,METHODS,STATUS_CODES};var manifesto_1=createCommonjsModule((function(t){t.exports=function t(e,n,i){function r(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof commonjsRequire&&commonjsRequire;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[o]={exports:{}};e[o][0].call(c.exports,(function(t){return r(e[o][1][t]||t)}),c,c.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof commonjsRequire&&commonjsRequire,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(){(function(t){var e,n;!function(t){t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}(e||(e={})),(n=t).HTTPStatusCode||(n.HTTPStatusCode=e)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1),function(t){var e=function(){function t(t){this.value="",t&&(this.value=t.toLowerCase())}return t.prototype.toString=function(){return this.value},t}();t.StringValue=e}(i||(i={})),function(t){var e=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getLength=function(){return this.end-this.start},t}();t.Duration=e}(i||(i={}));var e,n=commonjsGlobal&&commonjsGlobal.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bookmarking=function(){return new e(e.BOOKMARKING.toString())},e.prototype.classifying=function(){return new e(e.CLASSIFYING.toString())},e.prototype.commenting=function(){return new e(e.COMMENTING.toString())},e.prototype.describing=function(){return new e(e.DESCRIBING.toString())},e.prototype.editing=function(){return new e(e.EDITING.toString())},e.prototype.highlighting=function(){return new e(e.HIGHLIGHTING.toString())},e.prototype.identifying=function(){return new e(e.IDENTIFYING.toString())},e.prototype.linking=function(){return new e(e.LINKING.toString())},e.prototype.moderating=function(){return new e(e.MODERATING.toString())},e.prototype.painting=function(){return new e(e.PAINTING.toString())},e.prototype.questioning=function(){return new e(e.QUESTIONING.toString())},e.prototype.replying=function(){return new e(e.REPLYING.toString())},e.prototype.tagging=function(){return new e(e.TAGGING.toString())},e.prototype.transcribing=function(){return new e(e.TRANSCRIBING.toString())},e.BOOKMARKING=new e("oa:bookmarking"),e.CLASSIFYING=new e("oa:classifying"),e.COMMENTING=new e("oa:commenting"),e.DESCRIBING=new e("oa:describing"),e.EDITING=new e("oa:editing"),e.HIGHLIGHTING=new e("oa:highlighting"),e.IDENTIFYING=new e("oa:identifying"),e.LINKING=new e("oa:linking"),e.MODERATING=new e("oa:moderating"),e.PAINTING=new e("sc:painting"),e.QUESTIONING=new e("oa:questioning"),e.REPLYING=new e("oa:replying"),e.TAGGING=new e("oa:tagging"),e.TRANSCRIBING=new e("oad:transcribing"),e}(t.StringValue);t.AnnotationMotivation=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.autoadvance=function(){return new e(e.AUTOADVANCE.toString())},e.prototype.nonav=function(){return new e(e.NONAV.toString())},e.prototype.paged=function(){return new e(e.PAGED.toString())},e.AUTOADVANCE=new e("auto-advance"),e.NONAV=new e("no-nav"),e.PAGED=new e("paged"),e}(t.StringValue);t.Behavior=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.annotation=function(){return new e(e.ANNOTATION.toString())},e.prototype.canvas=function(){return new e(e.CANVAS.toString())},e.prototype.collection=function(){return new e(e.COLLECTION.toString())},e.prototype.manifest=function(){return new e(e.MANIFEST.toString())},e.prototype.range=function(){return new e(e.RANGE.toString())},e.prototype.sequence=function(){return new e(e.SEQUENCE.toString())},e.ANNOTATION=new e("annotation"),e.CANVAS=new e("canvas"),e.COLLECTION=new e("collection"),e.MANIFEST=new e("manifest"),e.RANGE=new e("range"),e.SEQUENCE=new e("sequence"),e}(t.StringValue);t.IIIFResourceType=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.empty=function(){return new e(e.EMPTY.toString())},e.prototype.manuscript=function(){return new e(e.MANUSCRIPT.toString())},e.prototype.monograph=function(){return new e(e.MONOGRAPH.toString())},e.EMPTY=new e(""),e.MANUSCRIPT=new e("manuscript"),e.MONOGRAPH=new e("monograph"),e}(t.StringValue);t.ManifestType=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.pdf=function(){return new e(e.PDF.toString())},e.prototype.doc=function(){return new e(e.DOC.toString())},e.prototype.docx=function(){return new e(e.DOCX.toString())},e.PDF=new e("application/pdf"),e.DOC=new e("application/msword"),e.DOCX=new e("application/vnd.openxmlformats-officedocument.wordprocessingml.document"),e}(t.StringValue);t.RenderingFormat=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.jpg=function(){return new e(e.JPG.toString())},e.prototype.mp4=function(){return new e(e.MP4.toString())},e.prototype.pdf=function(){return new e(e.PDF.toString())},e.prototype.threejs=function(){return new e(e.THREEJS.toString())},e.prototype.webm=function(){return new e(e.WEBM.toString())},e.JPG=new e("image/jpeg"),e.MP4=new e("video/mp4"),e.PDF=new e("application/pdf"),e.THREEJS=new e("application/vnd.threejs+json"),e.WEBM=new e("video/webm"),e}(t.StringValue);t.MediaType=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.canvas=function(){return new e(e.CANVAS.toString())},e.prototype.choice=function(){return new e(e.CHOICE.toString())},e.prototype.document=function(){return new e(e.DOCUMENT.toString())},e.prototype.image=function(){return new e(e.IMAGE.toString())},e.prototype.movingimage=function(){return new e(e.MOVINGIMAGE.toString())},e.prototype.physicalobject=function(){return new e(e.PHYSICALOBJECT.toString())},e.prototype.sound=function(){return new e(e.SOUND.toString())},e.prototype.text=function(){return new e(e.TEXT.toString())},e.CANVAS=new e("canvas"),e.CHOICE=new e("choice"),e.DOCUMENT=new e("document"),e.IMAGE=new e("image"),e.MOVINGIMAGE=new e("movingimage"),e.PHYSICALOBJECT=new e("physicalobject"),e.SOUND=new e("sound"),e.TEXT=new e("textualbody"),e}(t.StringValue);t.ResourceType=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.auth1Clickthrough=function(){return new e(e.AUTH1CLICKTHROUGH.toString())},e.prototype.auth1External=function(){return new e(e.AUTH1EXTERNAL.toString())},e.prototype.auth1Kiosk=function(){return new e(e.AUTH1KIOSK.toString())},e.prototype.auth1Login=function(){return new e(e.AUTH1LOGIN.toString())},e.prototype.auth1Logout=function(){return new e(e.AUTH1LOGOUT.toString())},e.prototype.auth1Probe=function(){return new e(e.AUTH1PROBE.toString())},e.prototype.auth1Token=function(){return new e(e.AUTH1TOKEN.toString())},e.prototype.autoComplete=function(){return new e(e.AUTOCOMPLETE.toString())},e.prototype.iiif1ImageLevel1=function(){return new e(e.IIIF1IMAGELEVEL1.toString())},e.prototype.iiif1ImageLevel2=function(){return new e(e.IIIF1IMAGELEVEL2.toString())},e.prototype.iiif2ImageLevel1=function(){return new e(e.IIIF2IMAGELEVEL1.toString())},e.prototype.iiif2ImageLevel2=function(){return new e(e.IIIF2IMAGELEVEL2.toString())},e.prototype.ixif=function(){return new e(e.IXIF.toString())},e.prototype.login=function(){return new e(e.AUTHLOGIN.toString())},e.prototype.clickThrough=function(){return new e(e.AUTHCLICKTHROUGH.toString())},e.prototype.restricted=function(){return new e(e.AUTHRESTRICTED.toString())},e.prototype.logout=function(){return new e(e.AUTHLOGOUT.toString())},e.prototype.otherManifestations=function(){return new e(e.OTHERMANIFESTATIONS.toString())},e.prototype.search=function(){return new e(e.SEARCH.toString())},e.prototype.stanfordIIIFImageCompliance1=function(){return new e(e.STANFORDIIIFIMAGECOMPLIANCE1.toString())},e.prototype.stanfordIIIFImageCompliance2=function(){return new e(e.STANFORDIIIFIMAGECOMPLIANCE2.toString())},e.prototype.stanfordIIIFImageConformance1=function(){return new e(e.STANFORDIIIFIMAGECONFORMANCE1.toString())},e.prototype.stanfordIIIFImageConformance2=function(){return new e(e.STANFORDIIIFIMAGECONFORMANCE2.toString())},e.prototype.stanfordIIIF1ImageCompliance1=function(){return new e(e.STANFORDIIIF1IMAGECOMPLIANCE1.toString())},e.prototype.stanfordIIIF1ImageCompliance2=function(){return new e(e.STANFORDIIIF1IMAGECOMPLIANCE2.toString())},e.prototype.stanfordIIIF1ImageConformance1=function(){return new e(e.STANFORDIIIF1IMAGECONFORMANCE1.toString())},e.prototype.stanfordIIIF1ImageConformance2=function(){return new e(e.STANFORDIIIF1IMAGECONFORMANCE2.toString())},e.prototype.token=function(){return new e(e.AUTHTOKEN.toString())},e.prototype.trackingExtensions=function(){return new e(e.TRACKINGEXTENSIONS.toString())},e.prototype.uiExtensions=function(){return new e(e.UIEXTENSIONS.toString())},e.prototype.printExtensions=function(){return new e(e.PRINTEXTENSIONS.toString())},e.prototype.shareExtensions=function(){return new e(e.SHAREEXTENSIONS.toString())},e.STANFORDIIIFIMAGECOMPLIANCE0=new e("http://library.stanford.edu/iiif/image-api/compliance.html#level0"),e.STANFORDIIIFIMAGECOMPLIANCE1=new e("http://library.stanford.edu/iiif/image-api/compliance.html#level1"),e.STANFORDIIIFIMAGECOMPLIANCE2=new e("http://library.stanford.edu/iiif/image-api/compliance.html#level2"),e.STANFORDIIIFIMAGECONFORMANCE0=new e("http://library.stanford.edu/iiif/image-api/conformance.html#level0"),e.STANFORDIIIFIMAGECONFORMANCE1=new e("http://library.stanford.edu/iiif/image-api/conformance.html#level1"),e.STANFORDIIIFIMAGECONFORMANCE2=new e("http://library.stanford.edu/iiif/image-api/conformance.html#level2"),e.STANFORDIIIF1IMAGECOMPLIANCE0=new e("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0"),e.STANFORDIIIF1IMAGECOMPLIANCE1=new e("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1"),e.STANFORDIIIF1IMAGECOMPLIANCE2=new e("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2"),e.STANFORDIIIF1IMAGECONFORMANCE0=new e("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0"),e.STANFORDIIIF1IMAGECONFORMANCE1=new e("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1"),e.STANFORDIIIF1IMAGECONFORMANCE2=new e("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2"),e.IIIF1IMAGELEVEL0=new e("http://iiif.io/api/image/1/level0.json"),e.IIIF1IMAGELEVEL0PROFILE=new e("http://iiif.io/api/image/1/profiles/level0.json"),e.IIIF1IMAGELEVEL1=new e("http://iiif.io/api/image/1/level1.json"),e.IIIF1IMAGELEVEL1PROFILE=new e("http://iiif.io/api/image/1/profiles/level1.json"),e.IIIF1IMAGELEVEL2=new e("http://iiif.io/api/image/1/level2.json"),e.IIIF1IMAGELEVEL2PROFILE=new e("http://iiif.io/api/image/1/profiles/level2.json"),e.IIIF2IMAGELEVEL0=new e("http://iiif.io/api/image/2/level0.json"),e.IIIF2IMAGELEVEL0PROFILE=new e("http://iiif.io/api/image/2/profiles/level0.json"),e.IIIF2IMAGELEVEL1=new e("http://iiif.io/api/image/2/level1.json"),e.IIIF2IMAGELEVEL1PROFILE=new e("http://iiif.io/api/image/2/profiles/level1.json"),e.IIIF2IMAGELEVEL2=new e("http://iiif.io/api/image/2/level2.json"),e.IIIF2IMAGELEVEL2PROFILE=new e("http://iiif.io/api/image/2/profiles/level2.json"),e.AUTHCLICKTHROUGH=new e("http://iiif.io/api/auth/0/login/clickthrough"),e.AUTHLOGIN=new e("http://iiif.io/api/auth/0/login"),e.AUTHLOGOUT=new e("http://iiif.io/api/auth/0/logout"),e.AUTHRESTRICTED=new e("http://iiif.io/api/auth/0/login/restricted"),e.AUTHTOKEN=new e("http://iiif.io/api/auth/0/token"),e.AUTH1CLICKTHROUGH=new e("http://iiif.io/api/auth/1/clickthrough"),e.AUTH1EXTERNAL=new e("http://iiif.io/api/auth/1/external"),e.AUTH1KIOSK=new e("http://iiif.io/api/auth/1/kiosk"),e.AUTH1LOGIN=new e("http://iiif.io/api/auth/1/login"),e.AUTH1LOGOUT=new e("http://iiif.io/api/auth/1/logout"),e.AUTH1PROBE=new e("http://iiif.io/api/auth/1/probe"),e.AUTH1TOKEN=new e("http://iiif.io/api/auth/1/token"),e.AUTOCOMPLETE=new e("http://iiif.io/api/search/0/autocomplete"),e.SEARCH=new e("http://iiif.io/api/search/0/search"),e.TRACKINGEXTENSIONS=new e("http://universalviewer.io/tracking-extensions-profile"),e.UIEXTENSIONS=new e("http://universalviewer.io/ui-extensions-profile"),e.PRINTEXTENSIONS=new e("http://universalviewer.io/print-extensions-profile"),e.SHAREEXTENSIONS=new e("http://universalviewer.io/share-extensions-profile"),e.OTHERMANIFESTATIONS=new e("http://iiif.io/api/otherManifestations.json"),e.IXIF=new e("http://wellcomelibrary.org/ld/ixif/0/alpha.json"),e}(t.StringValue);t.ServiceProfile=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.leftToRight=function(){return new e(e.LEFTTORIGHT.toString())},e.prototype.rightToLeft=function(){return new e(e.RIGHTTOLEFT.toString())},e.prototype.topToBottom=function(){return new e(e.TOPTOBOTTOM.toString())},e.prototype.bottomToTop=function(){return new e(e.BOTTOMTOTOP.toString())},e.LEFTTORIGHT=new e("left-to-right"),e.RIGHTTOLEFT=new e("right-to-left"),e.TOPTOBOTTOM=new e("top-to-bottom"),e.BOTTOMTOTOP=new e("bottom-to-top"),e}(t.StringValue);t.ViewingDirection=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.continuous=function(){return new e(e.CONTINUOUS.toString())},e.prototype.empty=function(){return new e(e.EMPTY.toString())},e.prototype.individuals=function(){return new e(e.INDIVIDUALS.toString())},e.prototype.nonPaged=function(){return new e(e.NONPAGED.toString())},e.prototype.paged=function(){return new e(e.PAGED.toString())},e.prototype.top=function(){return new e(e.TOP.toString())},e.CONTINUOUS=new e("continuous"),e.EMPTY=new e(""),e.INDIVIDUALS=new e("individuals"),e.NONPAGED=new e("non-paged"),e.PAGED=new e("paged"),e.TOP=new e("top"),e}(t.StringValue);t.ViewingHint=e}(i||(i={})),function(t){var e=function(){function t(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return t.prototype.getProperty=function(t){var e=null;return this.__jsonld&&((e=this.__jsonld[t])||(e=this.__jsonld["@"+t])),e},t}();t.JSONLDResource=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.options=n,i}return n(i,e),i.prototype.getIIIFResourceType=function(){return new t.IIIFResourceType(t.Utils.normaliseType(this.getProperty("type")))},i.prototype.getLabel=function(){var e=this.getProperty("label");return e?t.LanguageMap.parse(e,this.options.locale):[]},i.prototype.getDefaultLabel=function(){return t.LanguageMap.getValue(this.getLabel())},i.prototype.getMetadata=function(){var e=this.getProperty("metadata"),n=[];if(!e)return n;for(var i=0;i<e.length;i++){var r=e[i],s=new t.LabelValuePair(this.options.locale);s.parse(r),n.push(s)}return n},i.prototype.getRendering=function(t){var e=this.getRenderings();"string"!=typeof t&&(t=t.toString());for(var n=0;n<e.length;n++){var i=e[n];if(i.getFormat().toString()===t)return i}return null},i.prototype.getRenderings=function(){var e,n=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return n;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)n.push(new t.Rendering(e[i],this.options));return n},i.prototype.getService=function(e){return t.Utils.getService(this,e)},i.prototype.getServices=function(){return t.Utils.getServices(this)},i.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new t.Thumbnail(e,this.options):null},i.prototype.isAnnotation=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.ANNOTATION.toString()},i.prototype.isCanvas=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.CANVAS.toString()},i.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.COLLECTION.toString()},i.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.MANIFEST.toString()},i.prototype.isRange=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.RANGE.toString()},i.prototype.isSequence=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.SEQUENCE.toString()},i}(t.JSONLDResource);t.ManifestResource=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getFormat=function(){var e=this.getProperty("format");return e?new t.MediaType(e.toLowerCase()):null},i.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var n=0;n<this.__jsonld.resources.length;n++){var i=new t.Annotation(this.__jsonld.resources[n],this.options);e.push(i)}return e},i.prototype.getType=function(){var e=this.getProperty("type");return e?new t.ResourceType(t.Utils.normaliseType(e)):null},i.prototype.getWidth=function(){return this.getProperty("width")},i.prototype.getHeight=function(){return this.getProperty("height")},i.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},i.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},i}(t.ManifestResource);t.Resource=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getCanonicalImageUri=function(e){var n,i=null,r="default",s=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])i=this.externalResource.data["@id"],s||(s=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(r="native");else{var o=this.getImages();if(o&&o.length){var u=o[0].getResource(),a=u.getServices();if(s||(s=u.getWidth()),a.length){var h=a[0];i=h.id,r=t.Utils.getImageQuality(h.getProfile())}else if(s===u.getWidth())return u.id}if(!i){var c=this.getProperty("thumbnail");if(c){if("string"==typeof c)return c;if(c["@id"])return c["@id"];if(c.length)return c[0].id}}}return n=s+",",i&&i.endsWith("/")&&(i=i.substr(0,i.length-1)),[i,"full",n,0,r+".jpg"].join("/")},i.prototype.getMaxDimensions=function(){var e,n=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(t){return t.maxWidth}))[0])&&(n=new t.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),n},i.prototype.getContent=function(){var e=[],n=this.__jsonld.items||this.__jsonld.content;if(!n)return e;var i=null;if(n.length&&(i=new t.AnnotationPage(n[0],this.options)),!i)return e;for(var r=i.getItems(),s=0;s<r.length;s++){var o=new t.Annotation(r[s],this.options);e.push(o)}return e},i.prototype.getDuration=function(){return this.getProperty("duration")},i.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var n=0;n<this.__jsonld.images.length;n++){var i=new t.Annotation(this.__jsonld.images[n],this.options);e.push(i)}return e},i.prototype.getIndex=function(){return this.getProperty("index")},i.prototype.getOtherContent=function(){var e=this,n=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(t){return t&&("sc:AnnotationList","string"==typeof(e=t["@type"])&&e.toLowerCase()==e.toLowerCase());var e})).map((function(n,i){return new t.AnnotationList(n.label||"Annotation list "+i,n,e.options)})).map((function(t){return t.load()}));return Promise.all(n)},i.prototype.getWidth=function(){return this.getProperty("width")},i.prototype.getHeight=function(){return this.getProperty("height")},i}(t.Resource);t.Canvas=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.index=-1,i.isLoaded=!1,i.options=Object.assign({defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1},n),i}return n(i,e),i.prototype.getAttribution=function(){console.warn("getAttribution will be deprecated, use getRequiredStatement instead.");var e=this.getProperty("attribution");return e?t.LanguageMap.parse(e,this.options.locale):[]},i.prototype.getDescription=function(){var e=this.getProperty("description");return e?t.LanguageMap.parse(e,this.options.locale):[]},i.prototype.getIIIFResourceType=function(){return new t.IIIFResourceType(t.Utils.normaliseType(this.getProperty("type")))},i.prototype.getLogo=function(){var t=this.getProperty("logo");return t?"string"==typeof t?t:(Array.isArray(t)&&t.length&&(t=t[0]),t["@id"]||t.id):null},i.prototype.getLicense=function(){return t.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},i.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},i.prototype.getRelated=function(){return this.getProperty("related")},i.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},i.prototype.getTrackingLabel=function(){var e=this.getService(t.ServiceProfile.TRACKINGEXTENSIONS);return e?e.getProperty("trackingLabel"):""},i.prototype.getDefaultTree=function(){return this.defaultTree=new t.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},i.prototype.getRequiredStatement=function(){var e=null,n=this.getProperty("requiredStatement");if(n)(e=new t.LabelValuePair(this.options.locale)).parse(n);else{var i=this.getAttribution();i&&((e=new t.LabelValuePair(this.options.locale)).value=i)}return e},i.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.COLLECTION.toString()},i.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===t.IIIFResourceType.MANIFEST.toString()},i.prototype.load=function(){var e=this;return new Promise((function(n){if(e.isLoaded)n(e);else{var i=e.options;i.navDate=e.getNavDate();var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),t.Utils.loadResource(r).then((function(r){e.parentLabel=t.LanguageMap.getValue(e.getLabel(),i.locale);var s=t.Deserialiser.parse(r,i);(e=Object.assign(e,s)).index=i.index,n(e)}))}}))},i}(t.ManifestResource);t.IIIFResource=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),s=0;s<r.length;s++)i._parseRanges(r[s],String(s));return i}return n(i,e),i.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new t.Canvas(e,this.options)),e},i.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e?new t.Behavior(e):null},i.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=t.Utils.normaliseType(t.TreeNodeType.MANIFEST.toString()),!this.isLoaded)return this.defaultTree;var n=this.getTopRanges();return n.length&&n[0].getTree(this.defaultTree),t.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},i.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var n=0;n<this.__jsonld.structures.length;n++){var i=this.__jsonld.structures[n];i.viewingHint===t.ViewingHint.TOP.toString()&&e.push(i)}if(!e.length){var r={};r.ranges=this.__jsonld.structures,e.push(r)}}return e},i.prototype.getTopRanges=function(){return this._topRanges},i.prototype._getRangeById=function(t){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];if(n["@id"]===t||n.id===t)return n}return null},i.prototype._parseRanges=function(e,n,i){var r,s=null;if("string"==typeof e&&(e=this._getRangeById(s=e)),e){(r=new t.Range(e,this.options)).parentRange=i,r.path=n,i?i.items.push(r):this._topRanges.push(r);var o=e.items||e.members;if(o)for(var u=0;u<o.length;u++){var a=o[u];a["@type"]&&"sc:range"===a["@type"].toLowerCase()||a.type&&"range"===a.type.toLowerCase()?this._parseRanges(a,n+"/"+u,r):(a["@type"]&&"sc:canvas"===a["@type"].toLowerCase()||a.type&&"canvas"===a.type.toLowerCase())&&(r.canvases||(r.canvases=[]),r.canvases.push(a.id||a["@id"]))}else if(e.ranges)for(u=0;u<e.ranges.length;u++)this._parseRanges(e.ranges[u],n+"/"+u,r)}else console.warn("Range:",s,"does not exist")},i.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var t=this.getTopRanges(),e=function(e){var i=t[e];i.id&&n._allRanges.push(i);var r=function(t,e){t.add(e);var n=e.getRanges();return n.length?n.reduce(r,t):t},s=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(s)},n=this,i=0;i<t.length;i++)e(i);return this._allRanges},i.prototype.getRangeById=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}return null},i.prototype.getRangeByPath=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.path===t)return i}return null},i.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var n=0;n<e.length;n++){var i=new t.Sequence(e[n],this.options);this.items.push(i)}else this.__jsonld.items&&(i=new t.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},i.prototype.getSequenceByIndex=function(t){return this.getSequences()[t]},i.prototype.getTotalSequences=function(){return this.getSequences().length},i.prototype.getManifestType=function(){var e=this.getService(t.ServiceProfile.UIEXTENSIONS);return new t.ManifestType(e?e.getProperty("manifestType"):"")},i.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},i.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e.toString()===t.ViewingHint.PAGED.toString();var n=this.getBehavior();return!!n&&n.toString()===t.Behavior.PAGED.toString()},i.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new t.ViewingDirection(this.getProperty("viewingDirection")):null},i.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new t.ViewingHint(this.getProperty("viewingHint")):null},i}(t.IIIFResource);t.Manifest=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return n(i,e),i.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(t){return t.isCollection()}))},i.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(t){return t.isManifest()}))},i.prototype.getCollectionByIndex=function(t){for(var e,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Collection index not found")},i.prototype.getManifestByIndex=function(t){for(var e,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Manifest index not found")},i.prototype.getTotalCollections=function(){return this.getCollections().length},i.prototype.getTotalManifests=function(){return this.getManifests().length},i.prototype.getTotalItems=function(){return this.items.length},i.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new t.ViewingDirection(this.getProperty("viewingDirection")):t.ViewingDirection.LEFTTORIGHT},i.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=t.Utils.normaliseType(t.TreeNodeType.COLLECTION.toString()),this._parseManifests(this),this._parseCollections(this),t.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},i.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var n=0;n<e.getManifests().length;n++){var i=e.getManifests()[n],r=i.getDefaultTree();r.label=i.parentLabel||t.LanguageMap.getValue(i.getLabel(),this.options.locale)||"manifest "+(n+1),r.navDate=i.getNavDate(),r.data.id=i.id,r.data.type=t.Utils.normaliseType(t.TreeNodeType.MANIFEST.toString()),e.defaultTree.addNode(r)}},i.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var n=0;n<e.getCollections().length;n++){var i=e.getCollections()[n],r=i.getDefaultTree();r.label=i.parentLabel||t.LanguageMap.getValue(i.getLabel(),this.options.locale)||"collection "+(n+1),r.navDate=i.getNavDate(),r.data.id=i.id,r.data.type=t.Utils.normaliseType(t.TreeNodeType.COLLECTION.toString()),e.defaultTree.addNode(r)}},i}(t.IIIFResource);t.Collection=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return n(i,e),i.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},i.prototype.getDuration=function(){var e,n;if(this.canvases&&this.canvases.length)for(var i=0;i<this.canvases.length;i++){var r=t.Utils.getTemporalComponent(this.canvases[i]);r&&r.length>1&&(0===i&&(e=Number(r[0])),i===this.canvases.length-1&&(n=Number(r[1])))}else{var s=this.getRanges();for(i=0;i<s.length;i++){var o=s[i].getDuration();o&&(0===i&&(e=o.start),i===s.length-1&&(n=o.end))}}if(void 0!==e&&void 0!==n)return new t.Duration(e,n)},i.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(t){return t.isRange()}))},i.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e?new t.Behavior(e):null},i.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new t.ViewingDirection(this.getProperty("viewingDirection")):null},i.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new t.ViewingHint(this.getProperty("viewingHint")):null},i.prototype.getTree=function(e){e.data=this,this.treeNode=e;var n=this.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i],s=new t.TreeNode;e.addNode(s),this._parseTreeNode(s,r)}return t.Utils.generateTreeNodeIds(e),e},i.prototype.spansTime=function(t){var e=this.getDuration();return!!(e&&t>=e.start&&t<=e.end)},i.prototype._parseTreeNode=function(e,n){e.label=t.LanguageMap.getValue(n.getLabel(),this.options.locale),e.data=n,e.data.type=t.Utils.normaliseType(t.TreeNodeType.RANGE.toString()),n.treeNode=e;var i=n.getRanges();if(i&&i.length)for(var r=0;r<i.length;r++){var s=i[r],o=s.getBehavior();if(!o||o.toString()!==t.Behavior.NONAV.toString()){var u=new t.TreeNode;e.addNode(u),this._parseTreeNode(u,s)}}},i}(t.ManifestResource);t.Range=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getFormat=function(){return new t.RenderingFormat(this.getProperty("format"))},i}(t.ManifestResource);t.Rendering=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return n(i,e),i.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var n=0;n<e.length;n++)(i=new t.Canvas(e[n],this.options)).index=n,this.items.push(i);else if(this.__jsonld)for(n=0;n<this.__jsonld.length;n++){var i;(i=new t.Canvas(this.__jsonld[n],this.options)).index=n,this.items.push(i)}return this.items},i.prototype.getCanvasById=function(e){for(var n=0;n<this.getTotalCanvases();n++){var i=this.getCanvasByIndex(n),r=t.Utils.normaliseUrl(i.id);if(t.Utils.normaliseUrl(e)===r)return i}return null},i.prototype.getCanvasByIndex=function(t){return this.getCanvases()[t]},i.prototype.getCanvasIndexById=function(t){for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return null},i.prototype.getCanvasIndexByLabel=function(e,n){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),n&&(e+="r"));for(var i,r,s=/(\d*)\D+(\d*)/,o=0;o<this.getTotalCanvases();o++){var u=this.getCanvasByIndex(o);if(t.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return o;if((i=s.exec(e))&&(r=i[2])&&new RegExp("^"+i[1]+"\\D+"+r+"$").test(u.getLabel().toString()))return o}return-1},i.prototype.getLastCanvasLabel=function(e){for(var n=this.getTotalCanvases()-1;n>=0;n--){var i=this.getCanvasByIndex(n),r=t.LanguageMap.getValue(i.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(r))return r}else if(r)return r}return this.options.defaultLabel},i.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},i.prototype.getNextPageIndex=function(e,n){var i;if(n){var r=this.getPagedIndices(e),s=this.getViewingDirection();i=s&&s.toString()===t.ViewingDirection.RIGHTTOLEFT.toString()?r[0]+1:r[r.length-1]+1}else i=e+1;return i>this.getLastPageIndex()?-1:i},i.prototype.getPagedIndices=function(e,n){var i=[];if(n){i=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var r=this.getViewingDirection();r&&r.toString()===t.ViewingDirection.RIGHTTOLEFT.toString()&&(i=i.reverse())}else i.push(e);return i},i.prototype.getPrevPageIndex=function(e,n){var i;if(n){var r=this.getPagedIndices(e),s=this.getViewingDirection();i=s&&s.toString()===t.ViewingDirection.RIGHTTOLEFT.toString()?r[r.length-1]-1:r[0]-1}else i=e-1;return i},i.prototype.getStartCanvasIndex=function(){var t=this.getStartCanvas();if(t)for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return 0},i.prototype.getThumbs=function(e){console.warn("getThumbs will be deprecated, use getThumbnails instead");for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var s=this.getCanvasByIndex(r),o=new t.Thumb(e,s);n.push(o)}return n},i.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var t=this.getCanvases(),e=0;e<t.length;e++){var n=t[e].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},i.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},i.prototype.getTotalCanvases=function(){return this.getCanvases().length},i.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new t.ViewingDirection(this.getProperty("viewingDirection")):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},i.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new t.ViewingHint(this.getProperty("viewingHint")):null},i.prototype.isCanvasIndexOutOfRange=function(t){return t>this.getTotalCanvases()-1},i.prototype.isFirstCanvas=function(t){return 0===t},i.prototype.isLastCanvas=function(t){return t===this.getTotalCanvases()-1},i.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},i.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e.toString()===t.ViewingHint.PAGED.toString()},i.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},i}(t.ManifestResource);t.Sequence=e}(i||(i={})),function(t){var e=function(){function e(){}return e.parse=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),this.parseJson(t,e)},e.parseJson=function(t,e){var n;if(e&&e.navDate&&!isNaN(e.navDate.getTime())&&(t.navDate=e.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":n=this.parseCollection(t,e);break;case"sc:Manifest":n=this.parseManifest(t,e);break;default:return null}else switch(t.type){case"Collection":n=this.parseCollection(t,e);break;case"Manifest":n=this.parseManifest(t,e);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,n){var i=new t.Collection(e,n);return n?(i.index=n.index||0,n.resource&&(i.parentCollection=n.resource.parentCollection)):i.index=0,this.parseCollections(i,n),this.parseManifests(i,n),this.parseItems(i,n),i},e.parseCollections=function(t,e){var n;if(t.__jsonld.collections?n=t.__jsonld.collections:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"collection"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){e&&(e.index=i);var r=this.parseCollection(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},e.parseManifest=function(e,n){return new t.Manifest(e,n)},e.parseManifests=function(t,e){var n;if(t.__jsonld.manifests?n=t.__jsonld.manifests:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"manifest"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},e.parseItem=function(t,e){if(t["@type"]){if("sc:manifest"===t["@type"].toLowerCase())return this.parseManifest(t,e);if("sc:collection"===t["@type"].toLowerCase())return this.parseCollection(t,e)}else if(t.type){if("manifest"===t.type.toLowerCase())return this.parseManifest(t,e);if("collection"===t.type.toLowerCase())return this.parseCollection(t,e)}return null},e.parseItems=function(t,e){var n=t.__jsonld.members||t.__jsonld.items;if(n)for(var i=function(i){e&&(e.index=i);var s=r.parseItem(n[i],e);return s?t.items.filter((function(t){return t.id===s.id}))[0]?"continue":(s.index=i,s.parentCollection=t,void t.items.push(s)):{value:void 0}},r=this,s=0;s<n.length;s++){var o=i(s);if("object"==typeof o)return o.value}},e}();t.Deserialiser=e;var n=function(){function t(){}return t.serialise=function(){return""},t}();t.Serialiser=n}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?new t.ServiceProfile(e[0]):new t.ServiceProfile(e)},i.prototype.getConfirmLabel=function(){return t.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},i.prototype.getDescription=function(){return t.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},i.prototype.getFailureDescription=function(){return t.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},i.prototype.getFailureHeader=function(){return t.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},i.prototype.getHeader=function(){return t.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},i.prototype.getServiceLabel=function(){return t.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},i.prototype.getInfoUri=function(){var t=this.id;return t.endsWith("/")||(t+="/"),t+"info.json"},i}(t.ManifestResource);t.Service=e}(i||(i={})),function(t){t.Thumb=function(e,n){this.data=n,this.index=n.index,this.width=e;var i=n.getHeight()/n.getWidth();this.height=i?Math.floor(this.width*i):e,this.uri=n.getCanonicalImageUri(e),this.label=t.LanguageMap.getValue(n.getLabel())}}(i||(i={})),function(t){var e=function(){function e(t,e){this.label=t,this.data=e||{},this.nodes=[]}return e.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},e.prototype.isCollection=function(){return this.data.type===t.Utils.normaliseType(t.TreeNodeType.COLLECTION.toString())},e.prototype.isManifest=function(){return this.data.type===t.Utils.normaliseType(t.TreeNodeType.MANIFEST.toString())},e.prototype.isRange=function(){return this.data.type===t.Utils.normaliseType(t.TreeNodeType.RANGE.toString())},e}();t.TreeNode=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.collection=function(){return new e(e.COLLECTION.toString())},e.prototype.manifest=function(){return new e(e.MANIFEST.toString())},e.prototype.range=function(){return new e(e.RANGE.toString())},e.COLLECTION=new e("collection"),e.MANIFEST=new e("manifest"),e.RANGE=new e("range"),e}(t.StringValue);t.TreeNodeType=e}(i||(i={}));var i,r=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function u(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,u)}a((i=i.apply(t,e||[])).next())}))},s=commonjsGlobal&&commonjsGlobal.__generator||function(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(u){s=[6,u],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=require$$0;!function(t){var e=function(){function e(){}return e.getMediaType=function(t){return(t=(t=t.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){var n=e.toString();return n===t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString()||n===t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString()||n===t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString()||n===t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString()||n===t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString()||n===t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString()||n===t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString()||n===t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString()||n===t.ServiceProfile.IIIF1IMAGELEVEL1.toString()||n===t.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString()||n===t.ServiceProfile.IIIF1IMAGELEVEL2.toString()||n===t.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString()?"native":"default"},e.getInexactLocale=function(t){return-1!==t.indexOf("-")?t.substr(0,t.indexOf("-")):t},e.getLocalisedValue=function(t,e){if(!Array.isArray(t))return t;for(var n=0;n<t.length;n++){var i=t[n];if(e===i["@language"])return i["@value"]}var r=e.substr(0,e.indexOf("-"));for(n=0;n<t.length;n++){var s=t[n];if(s["@language"]===r)return s["@value"]}return null},e.generateTreeNodeIds=function(t,n){void 0===n&&(n=0),t.id=t.parentNode?t.parentNode.id+"-"+n:"0";for(var i=0;i<t.nodes.length;i++)e.generateTreeNodeIds(t.nodes[i],i)},e.normaliseType=function(t){return-1!==(t=t.toLowerCase()).indexOf(":")?t.split(":")[1]:t},e.normaliseUrl=function(t){return-1!==(t=t.substr(t.indexOf("://"))).indexOf("#")&&(t=t.split("#")[0]),t},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(n){return"string"==typeof n&&(n=new t.ServiceProfile(n)),!!(e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},e.isLevel0ImageProfile=function(n){return"string"==typeof n&&(n=new t.ServiceProfile(n)),!!(e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL0.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString()))},e.isLevel1ImageProfile=function(n){return"string"==typeof n&&(n=new t.ServiceProfile(n)),!!(e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL1.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString()))},e.isLevel2ImageProfile=function(n){return"string"==typeof n&&(n=new t.ServiceProfile(n)),!!(e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL2.toString())||e.normalisedUrlsMatch(n.toString(),t.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},e.loadResource=function(t){return new Promise((function(e,n){var i,r=o.parse(t),s={host:r.hostname,port:r.port,path:r.path,method:"GET",withCredentials:!1};switch(r.protocol){case"https:":(i=http.request(s,(function(t){var n="";t.on("data",(function(t){n+=t})),t.on("end",(function(){e(n)}))}))).on("error",(function(t){n(t)})),i.end();break;case"dat:":var u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&e(u.response)},u.open("GET",t,!0),u.send();break;default:(i=http.request(s,(function(t){var n="";t.on("data",(function(t){n+=t})),t.on("end",(function(){e(n)}))}))).on("error",(function(t){n(t)})),i.end()}}))},e.loadExternalResourcesAuth1=function(t,n,i,r,s,o,u,a){return new Promise((function(h,c){var f=t.map((function(t){return e.loadExternalResourceAuth1(t,n,i,r,s,o,u,a)}));Promise.all(f).then((function(){h(t)})).catch((function(t){c(t)}))}))},e.loadExternalResourceAuth1=function(t,n,i,o,u,a,h,c){return r(this,void 0,void 0,(function(){var r;return s(this,(function(s){switch(s.label){case 0:return[4,o(t)];case 1:return(r=s.sent())?[4,t.getData(r)]:[3,6];case 2:return s.sent(),t.status!==HTTPStatusCode.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,i,u,a,h,c)];case 4:s.sent(),s.label=5;case 5:if(t.status===HTTPStatusCode.OK||t.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return s.sent(),t.status!==HTTPStatusCode.MOVED_TEMPORARILY&&t.status!==HTTPStatusCode.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,i,u,a,h,c)];case 8:s.sent(),s.label=9;case 9:if(t.status===HTTPStatusCode.OK||t.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,i,o,u,a,h){return r(this,void 0,void 0,(function(){var r,c,f,l,d,p,v,m;return s(this,(function(s){switch(s.label){case 0:return t.isAccessControlled()?((r=t.externalService)&&(r.options=t.options),(c=t.kioskService)&&(c.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(l=t.loginService)&&(l.options=t.options),t.isResponseHandled||t.status!==HTTPStatusCode.MOVED_TEMPORARILY?[3,2]:[4,a(t)]):[2,t];case 1:return s.sent(),[2,t];case 2:return d=null,p=null,(d=r)?(p=d,[4,e.attemptResourceWithToken(t,i,d)]):[3,4];case 3:return s.sent(),[2,t];case 4:return(d=c)?(p=d,(v=n(d))?[4,o(v)]:[3,7]):[3,7];case 5:return s.sent(),[4,e.attemptResourceWithToken(t,i,d)];case 6:return s.sent(),[2,t];case 7:return(d=f)?(p=d,[4,u(t,d)]):[3,11];case 8:return(m=s.sent())?[4,o(m)]:[3,11];case 9:return s.sent(),[4,e.attemptResourceWithToken(t,i,d)];case 10:return s.sent(),[2,t];case 11:return(d=l)?(p=d,[4,u(t,d)]):[3,15];case 12:return(m=s.sent())?[4,o(m)]:[3,15];case 13:return s.sent(),[4,e.attemptResourceWithToken(t,i,d)];case 14:return s.sent(),[2,t];case 15:return p&&h(t,p),[2]}}))}))},e.attemptResourceWithToken=function(e,n,i){return r(this,void 0,void 0,(function(){var r,o;return s(this,(function(s){switch(s.label){case 0:return(r=i.getService(t.ServiceProfile.AUTH1TOKEN.toString()))?[4,n(e,r)]:[3,3];case 1:return(o=s.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return s.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,i,r,s,o,u,a,h,c){return new Promise((function(f,l){var d=t.map((function(t){return e.loadExternalResourceAuth09(t,n,i,r,s,o,u,a,h,c)}));Promise.all(d).then((function(){f(t)})).catch((function(t){l(t)}))}))},e.loadExternalResourceAuth09=function(t,n,i,r,s,o,u,a,h,c){return new Promise((function(f,l){c&&c.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(i(t)),f(r(t))):s(t).then((function(){o(t,!0).then((function(n){t.getData(n).then((function(){f(h(t))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))})):f(t)})).catch((function(t){l(e.createInternalServerError(t))})):a(t,n).then((function(c){c?t.getData(c).then((function(){t.status===HTTPStatusCode.OK?f(h(t)):e.authorize(t,n,i,r,s,o,u,a).then((function(){f(h(t))})).catch((function(){l(e.createAuthorizationFailedError())}))})).catch((function(){l(e.createAuthorizationFailedError())})):e.authorize(t,n,i,r,s,o,u,a).then((function(){f(h(t))})).catch((function(){l(e.createAuthorizationFailedError())}))})).catch((function(){l(e.createAuthorizationFailedError())}))}))},e.createError=function(t,e){var n=new Error;return n.message=e,n.name=t,n},e.createAuthorizationFailedError=function(){return e.createError(manifesto.StatusCodes.AUTHORIZATION_FAILED.toString(),"Authorization failed")},e.createRestrictedError=function(){return e.createError(manifesto.StatusCodes.RESTRICTED.toString(),"Restricted")},e.createInternalServerError=function(t){return e.createError(manifesto.StatusCodes.INTERNAL_SERVER_ERROR.toString(),t)},e.authorize=function(t,n,i,r,s,o,u,a){return new Promise((function(h,c){t.getData().then((function(){t.isAccessControlled()?a(t,n).then((function(a){a?t.getData(a).then((function(){t.status===HTTPStatusCode.OK?h(t):e.showAuthInteraction(t,n,i,r,s,o,u,h,c)})).catch((function(t){c(e.createInternalServerError(t))})):o(t,!1).then((function(a){a?u(t,a,n).then((function(){t.getData(a).then((function(){t.status===HTTPStatusCode.OK?h(t):e.showAuthInteraction(t,n,i,r,s,o,u,h,c)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,i,r,s,o,u,h,c)}))})).catch((function(t){c(e.createInternalServerError(t))})):h(t)}))}))},e.showAuthInteraction=function(t,n,i,r,s,o,u,a,h){t.status!==HTTPStatusCode.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then((function(){o(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){a(t)})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})):s(t).then((function(){o(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){a(t)})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})):a(t)},e.getService=function(t,e){var n=this.getServices(t);"string"!=typeof e&&(e=e.toString());for(var i=0;i<n.length;i++){var r=n[i];if(r.getProfile().toString()===e)return r}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var r=0;r<Object.keys(t).length;r++)if("object"==typeof t[Object.keys(t)[r]]){var s=e.traverseAndFind(t[Object.keys(t)[r]],n,i);if(null!=s)return s}},e.getServices=function(e){var n,i=[];if(!(n=e.__jsonld?e.__jsonld.service:e.service))return i;Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var s=n[r];if("string"==typeof s){var o=this.getResourceById(e.options.resource,s);o&&i.push(new t.Service(o.__jsonld||o,e.options))}else i.push(new t.Service(s,e.options))}return i},e.getTemporalComponent=function(t){var e=/t=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},e}();t.Utils=e}(i||(i={})),function(t){t.Language=function(t,e){this.value=Array.isArray(t)?1===t.length?t[0]:t.join("<br/>"):t,this.locale=e}}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.parse=function(e,n){var i,r=[];if(!e)return r;if(Array.isArray(e))for(var s=0;s<e.length;s++){var o=e[s];i="string"==typeof o?new t.Language(o,n):new t.Language(o["@value"],o["@language"]||n),r.push(i)}else{if("string"==typeof e)return i=new t.Language(e,n),r.push(i),r;e["@value"]?(i=new t.Language(e["@value"],e["@language"]||n),r.push(i)):Object.keys(e).forEach((function(n){if(!e[n].length)throw new Error("language must have a value");i=new t.Language(e[n],n),r.push(i)}))}return r},i.getValue=function(e,n){if(e.length){if(n){var i=e.filter((function(e){return e.locale===n||t.Utils.getInexactLocale(e.locale)===t.Utils.getInexactLocale(n)}))[0];if(i)return i.value}return e[0].value}return null},i}(Array);t.LanguageMap=e}(i||(i={})),function(t){var e=function(){function e(t){this.defaultLocale=t}return e.prototype.parse=function(e){this.resource=e,this.label=t.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=t.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?t.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var n=this;if(this.label&&this.label.length){var i=this.label.filter((function(e){return e.locale===n.defaultLocale||e.locale===t.Utils.getInexactLocale(n.defaultLocale)}))[0];i&&(i.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),t.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var n=this;if(this.value&&this.value.length){var i=this.value.filter((function(e){return e.locale===n.defaultLocale||e.locale===t.Utils.getInexactLocale(n.defaultLocale)}))[0];i&&(i.value=e)}},e}();t.LabelValuePair=e}(i||(i={})),function(t){t.Size=function(t,e){this.width=t,this.height=e}}(i||(i={})),commonjsGlobal.manifesto=commonjsGlobal.Manifesto=t.exports={AnnotationMotivation:new i.AnnotationMotivation,Behavior:new i.Behavior,IIIFResourceType:new i.IIIFResourceType,LabelValuePair:i.LabelValuePair,Language:i.Language,LanguageMap:i.LanguageMap,ManifestType:new i.ManifestType,MediaType:new i.MediaType,RenderingFormat:new i.RenderingFormat,ResourceType:new i.ResourceType,ServiceProfile:new i.ServiceProfile,Size:i.Size,TreeNode:i.TreeNode,TreeNodeType:new i.TreeNodeType,Utils:i.Utils,ViewingDirection:new i.ViewingDirection,ViewingHint:new i.ViewingHint,Annotation:i.Annotation,AnnotationBody:i.AnnotationBody,AnnotationList:i.AnnotationList,AnnotationPage:i.AnnotationPage,Canvas:i.Canvas,Collection:i.Collection,Duration:i.Duration,Manifest:i.Manifest,Range:i.Range,Sequence:i.Sequence,Service:i.Service,Thumbnail:i.Thumbnail,Thumb:i.Thumb,StatusCodes:{AUTHORIZATION_FAILED:1,FORBIDDEN:2,INTERNAL_SERVER_ERROR:3,RESTRICTED:4},create:function(t,e){return i.Deserialiser.parse(t,e)},loadManifest:function(t){return i.Utils.loadResource(t)}},n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getBody=function(){var e=[],n=this.getProperty("body");if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++)if((s=n[i]).items)for(var r=0;r<s.items.length;r++)e.push(new t.AnnotationBody(s.items[r],this.options));else e.push(new t.AnnotationBody(s,this.options));else if(n.items)for(i=0;i<n.items.length;i++){var s;e.push(new t.AnnotationBody(s=n.items[i],this.options))}else e.push(new t.AnnotationBody(n,this.options));return e},i.prototype.getMotivation=function(){var e=this.getProperty("motivation");return e?new t.AnnotationMotivation(e.toLowerCase()):null},i.prototype.getOn=function(){return this.getProperty("on")},i.prototype.getTarget=function(){return this.getProperty("target")},i.prototype.getResource=function(){return new t.Resource(this.getProperty("resource"),this.options)},i}(t.ManifestResource);t.Annotation=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getFormat=function(){var e=this.getProperty("format");return e?new t.MediaType(t.Utils.getMediaType(e)):null},i.prototype.getType=function(){return this.getProperty("type")?new t.ResourceType(t.Utils.normaliseType(this.getProperty("type"))):null},i.prototype.getWidth=function(){return this.getProperty("width")},i.prototype.getHeight=function(){return this.getProperty("height")},i}(t.ManifestResource);t.AnnotationBody=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(e){function i(t,n,i){var r=e.call(this,n)||this;return r.label=t,r.options=i,r}return n(i,e),i.prototype.getIIIFResourceType=function(){return new t.IIIFResourceType(t.Utils.normaliseType(this.getProperty("type")))},i.prototype.getLabel=function(){return this.label},i.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(n){return new t.Annotation(n,e.options)}))},i.prototype.load=function(){var e=this;return new Promise((function(n,i){if(e.isLoaded)n(e);else{var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),t.Utils.loadResource(r).then((function(t){e.__jsonld=JSON.parse(t),e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,n(e)})).catch(i)}}))},i}(t.JSONLDResource);t.AnnotationList=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype.getItems=function(){return this.getProperty("items")},e}(t.ManifestResource);t.AnnotationPage=e}(i||(i={})),n=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t.Resource);t.Thumbnail=e}(i||(i={}))}));const NavigationComponent=class{constructor(t){registerInstance(this,t),this.cols=10,this.rows=1,this.autoResize=!1,this.currentItemIndex=0,this.items=[],this.loadedImageCount=0,this.updatedEvent=createEvent(this,"hvNavigationUpdated",7),this.store=getContext(this,"store")}componentWillLoad(){this.store.mapDispatchToProps(this,{viewItem}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{viewport:{itemIndex:e,items:n}}=t;return{currentItemIndex:e,items:n}})}componentDidLoad(){this.resize()}componentDidUpdate(){this.imageList||(this.imageList=this.el.querySelector(".harmonized-image-list")),this.resize(),this.scaleScroll(),this.updatedEvent.emit()}componentDidUnload(){this.storeUnsubscribe()}handleKeyDown(t){"ArrowRight"===t.key||"ArrowDown"==t.key?this.viewItem(this.currentItemIndex+1):"ArrowLeft"!==t.key&&"ArrowUp"!=t.key||this.viewItem(this.currentItemIndex-1),"ArrowDown"!=t.key&&"ArrowUp"!=t.key||(t.preventDefault(),t.stopPropagation())}handleThumbnailClick(t){this.viewItem(t)}handleThumbnailLoad(t){this.autoResize&&this.resize()}handleResize(){this.autoResize&&this.resize()}scaleScroll(){const t=this.el.querySelector(`harmonized-image[page="${this.currentItemIndex}"]`);this.imageList&&t&&(t.offsetLeft<this.imageList.scrollLeft?this.imageList.scrollLeft=this.imageList.scrollLeft-t.clientWidth-4:t.offsetLeft+t.clientWidth>this.imageList.scrollLeft+this.imageList.clientWidth&&(this.imageList.scrollLeft+=t.clientWidth+4))}resize(){}getListTopOffset(){const t=this.el.querySelector(".harmonized-image-list");return t?this.getComputedStyle(t,"padding-top")+this.getComputedStyle(t,"padding-bottom")+this.getComputedStyle(t,"margin-top")+this.getComputedStyle(t,"margin-bottom"):0}getComputedStyle(t,e){if(!t||!e)return;const n=window.getComputedStyle(t,null).getPropertyValue(e).match(/(([-0-9\.]+)+)/gi);return n?Number(n[0]):void 0}render(){return this.items.length<=1?null:h("harmonized-image-list",{class:`harmonized-image-list mdc-image-list mdc-image-list--horizontal mdc-image-list--${this.cols}col`,tabindex:0},this.items.map((e,n)=>h("harmonized-image",{src:e.thumbnail,contentType:e.contentType,page:n,caption:t(e.label),"show-caption":!1,"show-tooltip":!1,preload:n<16,onImageLoad:this.handleThumbnailLoad.bind(this)})))}get el(){return getElement(this)}static get style(){return"harmonized-navigation{display:block;-ms-flex:0 0 auto;flex:0 0 auto;overflow-y:hidden;background-color:#cecacb}harmonized-navigation harmonized-image-list .mdc-image-list__image{padding:0;background:#181818}harmonized-navigation harmonized-image-list .mdc-image-list__supporting .mdc-image-list__label{color:#9f9f9f;letter-spacing:0}harmonized-navigation harmonized-image-list harmonized-image{position:relative}harmonized-navigation harmonized-image-list harmonized-image.is-active .mdc-image-list__image-aspect-container .mdc-image-list__image,harmonized-navigation harmonized-image-list harmonized-image:hover .mdc-image-list__image-aspect-container .mdc-image-list__image{-webkit-box-shadow:0 0 1.25px 2px #5772ff;box-shadow:0 0 1.25px 2px #5772ff}harmonized-navigation harmonized-image-list harmonized-image.is-active .mdc-image-list__supporting .mdc-image-list__label,harmonized-navigation harmonized-image-list harmonized-image:hover .mdc-image-list__supporting .mdc-image-list__label{color:#181818}harmonized-drawer harmonized-navigation{height:100%}"}};var openseadragon=createCommonjsModule((function(module){function OpenSeadragon(t){return new OpenSeadragon.Viewer(t)}var $,fullScreenApi;!function(t){t.version={versionStr:"2.4.1",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("1",10)};var e,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,r=Object.prototype.hasOwnProperty;t.isFunction=function(e){return"function"===t.type(e)},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isWindow=function(t){return t&&"object"==typeof t&&"setInterval"in t},t.type=function(t){return null==t?String(t):n[i.call(t)]||"object"},t.isPlainObject=function(e){if(!e||"object"!==OpenSeadragon.type(e)||e.nodeType||t.isWindow(e))return!1;if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var i in e)n=i;return void 0===n||r.call(e,n)},t.isEmptyObject=function(t){for(var e in t)return!1;return!0},t.freezeObject=function(e){return t.freezeObject=Object.freeze?Object.freeze:function(t){return t},t.freezeObject(e)},t.supportsCanvas=(e=document.createElement("canvas"),!(!t.isFunction(e.getContext)||!e.getContext("2d"))),t.isCanvasTainted=function(t){var e=!1;try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){e=!0}return e},t.pixelDensityRatio=function(){if(t.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()}(OpenSeadragon),function($){$.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},u=arguments.length,a=!1,h=1;for("boolean"==typeof o&&(a=o,o=arguments[1]||{},h=2),"object"==typeof o||OpenSeadragon.isFunction(o)||(o={}),u===h&&(o=this,--h);h<u;h++)if(null!==(t=arguments[h])||void 0!==t)for(e in t)n=o[e],o!==(i=t[e])&&(a&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,s=n&&OpenSeadragon.isArray(n)?n:[]):s=n&&OpenSeadragon.isPlainObject(n)?n:{},o[e]=OpenSeadragon.extend(a,s,i)):void 0!==i&&(o[e]=i));return o};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var t=navigator.userAgent;return"string"==typeof t&&(-1!==t.indexOf("iPhone")||-1!==t.indexOf("iPad")||-1!==t.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(t,e){return function(){var n=arguments;return void 0===n&&(n=[]),e.apply(t,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t},getElementPosition:function(t){var e,n,i=new $.Point;for(n=getOffsetParent(t=$.getElement(t),e="fixed"==$.getElementStyle(t).position);n;)i.x+=t.offsetLeft,i.y+=t.offsetTop,e&&(i=i.plus($.getPageScroll())),n=getOffsetParent(t=n,e="fixed"==$.getElementStyle(t).position);return i},getElementOffset:function(t){var e,n,i=(t=$.getElement(t))&&t.ownerDocument,r={top:0,left:0};return i?(e=i.documentElement,void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),new $.Point(r.left+((n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow)).pageXOffset||e.scrollLeft)-(e.clientLeft||0),r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0))):new $.Point},getElementSize:function(t){return t=$.getElement(t),new $.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=$.getElement(t)).currentStyle}:function(t){return t=$.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var e={};return $.getCssPropertyWithVendorPrefix=function(t){if(void 0!==e[t])return e[t];var n=document.createElement("div").style,i=null;if(void 0!==n[t])i=t;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],s=$.capitalizeFirstLetter(t),o=0;o<r.length;o++){var u=r[o]+s;if(void 0!==n[u]){i=u;break}}return e[t]=i,i},$.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},positiveModulo:function(t,e){var n=t%e;return n<0&&(n+=e),n},pointInElement:function(t,e){t=$.getElement(t);var n=$.getElementOffset(t),i=$.getElementSize(t);return e.x>=n.x&&e.x<n.x+i.x&&e.y<n.y+i.y&&e.y>=n.y},getEvent:function(t){return $.getEvent=t?function(t){return t}:function(){return window.event},$.getEvent(t)},getMousePosition:function(t){if("number"==typeof t.pageX)$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.pageX,e.y=t.pageY,e};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,e}}return $.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(e.scrollLeft||e.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)$.setPageScroll=function(t){window.scrollTo(t.x,t.y)};else{var e=$.getPageScroll();if(e.x===t.x&&e.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=$.getPageScroll();if(n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.body.scrollLeft=t.x,document.body.scrollTop=t.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(n=$.getPageScroll()).x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y});$.setPageScroll=function(){}}return $.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!e.clientWidth&&!e.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(t){t=$.getElement(t);var e=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(e[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(e[1].style,{display:"table-row"}),$.extend(e[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),e[0].appendChild(e[1]),e[1].appendChild(e[2]),e[2].appendChild(t),e[0]},makeNeutralElement:function(t){var e=document.createElement(t),n=e.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",e},now:function(){return $.now=Date.now?Date.now:function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(t){return $.makeTransparentImage=function(t){var e=$.makeNeutralElement("img");return e.src=t,e},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(t){var e=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",e.onload=function(){n.style.width=n.style.width||e.width+"px",n.style.height=n.style.height||e.height+"px",e.onload=null,e=null},e.src=t,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')",n}),$.makeTransparentImage(t)},setElementOpacity:function(t,e,n){var i;t=$.getElement(t),n&&!$.Browser.alpha&&(e=Math.round(e)),$.Browser.opacity?t.style.opacity=e<1?e:"":e<1?(i=Math.round(100*e),t.style.filter="alpha(opacity="+i+")"):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=$.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},addClass:function(t,e){(t=$.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=" "+e):t.className=e},indexOf:function(t,e,n){return this.indexOf=Array.prototype.indexOf?function(t,e,n){return t.indexOf(e,n)}:function(t,e,n){var i,r,s=n||0;if(!t)throw new TypeError;if(0===(r=t.length)||s>=r)return-1;for(s<0&&(s=r-Math.abs(s)),i=s;i<r;i++)if(t[i]===e)return i;return-1},this.indexOf(t,e,n)},removeClass:function(t,e){var n,i,r=[];for(n=(t=$.getElement(t)).className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==e&&r.push(n[i]);t.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(t,e,n,i){(t=$.getElement(t)).addEventListener(e,n,i)};if(window.attachEvent)return function(t,e,n){(t=$.getElement(t)).attachEvent("on"+e,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(t,e,n,i){(t=$.getElement(t)).removeEventListener(e,n,i)};if(window.detachEvent)return function(t,e,n){(t=$.getElement(t)).detachEvent("on"+e,n)};throw new Error("No known event model.")}(),cancelEvent:function(t){t=$.getEvent(t),$.cancelEvent=t.preventDefault?function(t){t.preventDefault()}:function(t){(t=$.getEvent(t)).cancel=!0,t.returnValue=!1},$.cancelEvent(t)},stopEvent:function(t){t=$.getEvent(t),$.stopEvent=t.stopPropagation?function(t){t.stopPropagation()}:function(t){(t=$.getEvent(t)).cancelBubble=!0},$.stopEvent(t)},createCallback:function(t,e){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return e.apply(t,r)}},getUrlParameter:function(t){return URLPARAMS[t]||null},getUrlProtocol:function(t){var e=t.match(/^([a-z]+:)\/\//i);return null===e?window.location.protocol:e[1].toLowerCase()},createAjaxRequest:function(t){var e;try{e=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}if(e)$.createAjaxRequest=window.XMLHttpRequest?function(t){return t?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(t)},makeAjaxRequest:function(t,e,n){var i,r,s;$.isPlainObject(t)&&(e=t.success,n=t.error,i=t.withCredentials,r=t.headers,s=t.responseType||null,t=t.url);var o=$.getUrlProtocol(t),u=$.createAjaxRequest("file:"===o);if(!$.isFunction(e))throw new Error("makeAjaxRequest requires a success callback");u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=function(){},u.status>=200&&u.status<300||0===u.status&&"http:"!==o&&"https:"!==o?e(u):($.console.log("AJAX request returned %d: %s",u.status,t),$.isFunction(n)&&n(u)))};try{if(u.open("GET",t,!0),s&&(u.responseType=s),r)for(var a in r)r.hasOwnProperty(a)&&r[a]&&u.setRequestHeader(a,r[a]);i&&(u.withCredentials=!0),u.send(null)}catch(f){var h=f.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==f.number&&-2147024891==f.number&&(h+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",f.name,h),u.onreadystatechange=function(){},window.XDomainRequest){var c=new XDomainRequest;if(c){c.onload=function(){$.isFunction(e)&&e({responseText:c.responseText,status:200,statusText:"OK"})},c.onerror=function(){$.isFunction(n)&&n({responseText:c.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{c.open("GET",t),c.send()}catch(l){$.isFunction(n)&&n(u,f)}}}else $.isFunction(n)&&n(u,f)}return u},jsonp:function(t){var e,n=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+$.now(),s=window[r],o=t.param||"callback",u=t.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,"$1"+r+"$2"),n+=(/\?/.test(n)?"&":"?")+o+"="+r,window[r]=function(t){if(s)window[r]=s;else try{delete window[r]}catch(e){}u&&$.isFunction(u)&&u(t)},e=document.createElement("script"),void 0===t.async&&!1===t.async||(e.async="async"),t.scriptCharset&&(e.charset=t.scriptCharset),e.src=n,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,i&&e.parentNode&&i.removeChild(e),e=void 0)},i.insertBefore(e,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)$.parseXml=function(t){return(new DOMParser).parseFromString(t,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(t){var e=null;return(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),e}}return $.parseXml(t)},parseJSON:function(string){return $.parseJSON=window.JSON&&window.JSON.parse?window.JSON.parse:function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(t){return!!FILEFORMATS[(t=t||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var t=navigator.appVersion,e=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(e.substring(e.indexOf("MSIE")+5,e.indexOf(";",e.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(e.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(e.substring(e.indexOf("Firefox")+8))):e.indexOf("Safari")>=0?($.Browser.vendor=e.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(e.substring(e.substring(0,e.indexOf("Safari")).lastIndexOf("/")+1,e.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(t)}var n,i,r,s=window.location.search.substring(1).split("&");for(r=0;r<s.length;r++)(i=(n=s[r]).indexOf("="))>0&&(URLPARAMS[n.substring(0,i)]=decodeURIComponent(n.substring(i+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(){};function getOffsetParent(t,e){return e&&t!=document.body?document.body:t.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(e&&n)$.requestAnimationFrame=function(){return e.apply(t,arguments)},$.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,r=[],s=[],o=0;$.requestAnimationFrame=function(t){return r.push([++o,t]),i||(i=setInterval((function(){if(r.length){var t=$.now(),e=s;for(s=r,r=e;s.length;)s.shift()[1](t)}else clearInterval(i),i=void 0}),20)),o},$.cancelAnimationFrame=function(t){var e,n;for(e=0,n=r.length;e<n;e+=1)if(r[e][0]===t)return void r.splice(e,1);for(e=0,n=s.length;e<n;e+=1)if(s[e][0]===t)return void s.splice(e,1)}}}(window)}(OpenSeadragon),function(t,e){module.exports?module.exports=e():t.OpenSeadragon=e()}(commonjsGlobal,(function(){return OpenSeadragon})),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(t){return t.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(t){return t.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(t){return t.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(t){return t.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(t){return t.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(t,e,n,i){var r=this;i=i||1;var s=0,o=function(n){++s===i&&r.removeHandler(t,o),e(n)};this.addHandler(t,o,n)},addHandler:function(e,n,i){var r=this.events[e];r||(this.events[e]=r=[]),n&&t.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(e,n){var i,r=this.events[e],s=[];if(r&&t.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&s.push(r[i]);this.events[e]=s}},removeAllHandlers:function(t){if(t)this.events[t]=[];else for(var e in this.events)this.events[e]=[]},getHandler:function(t){var e=this.events[t];return e&&e.length?(e=1===e.length?[e[0]]:Array.apply(null,e),function(t,n){var i,r=e.length;for(i=0;i<r;i++)e[i]&&(n.eventSource=t,n.userData=e[i].userData,e[i].handler(n))}):null},raiseEvent:function(t,e){var n=this.getHandler(t);n&&(e||(e={}),n(this,e))}}}(OpenSeadragon),function(t){var e,n,i,r,s,o,u=[],a={};function h(e){var n,i=a[e.hash],r=i.activePointersLists.length;for(n=0;n<r;n++)i.activePointersLists[n].captureCount>0&&(t.removeEvent(t.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[n].captureCount=0);for(n=0;n<r;n++)i.activePointersLists.pop()}function c(e){var n,i,r=a[e.hash];if(r.tracking){for(i=0;i<t.MouseTracker.subscribeEvents.length;i++)t.removeEvent(e.element,n=t.MouseTracker.subscribeEvents[i],r[n],!1);h(e),r.tracking=!1}}function f(e,n){var i=a[e.hash];if("pointerevent"===n)return{upName:t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===n)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===n)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function l(e,n,i){var r,s=e.getActivePointersListByType(n);s.captureCount+=i||1,1===s.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.setCapture(!0):(r=f(e,t.MouseTracker.havePointerEvents?"pointerevent":n),wt&&bt(window.top)&&t.addEvent(window.top,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function d(e,n,i){var r,s=e.getActivePointersListByType(n);s.captureCount-=i||1,0===s.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.releaseCapture():(r=f(e,t.MouseTracker.havePointerEvents?"pointerevent":n),wt&&bt(window.top)&&t.removeEvent(window.top,r.upName,r.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function p(e){var n;if(t.MouseTracker.unprefixedPointerEvents)n=e.pointerType;else switch(e.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function v(e){return t.getMousePosition(e)}function m(t,e){return g(v(t),e)}function g(e,n){var i=t.getElementOffset(n);return e.minus(i)}function w(e,n){return new t.Point((e.x+n.x)/2,(e.y+n.y)/2)}function b(e,n){e.clickHandler&&t.cancelEvent(n)}function y(e,n){e.dblClickHandler&&t.cancelEvent(n)}function T(e,n){e.keyDownHandler&&(n=t.getEvent(n),e.keyDownHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData})||t.cancelEvent(n))}function E(e,n){e.keyUpHandler&&(n=t.getEvent(n),e.keyUpHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData})||t.cancelEvent(n))}function S(e,n){e.keyHandler&&(n=t.getEvent(n),e.keyHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData})||t.cancelEvent(n))}function C(e,n){e.focusHandler&&(n=t.getEvent(n),!1===e.focusHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n))}function O(e,n){e.blurHandler&&(n=t.getEvent(n),!1===e.blurHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n))}function I(t,e){x(t,e,e)}function _(e,n){var i={target:(n=t.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};i.deltaY="mousewheel"==t.MouseTracker.wheelEventName?-n.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:n.detail,x(e,i,n)}function x(e,n,i){var r;r=n.deltaY<0?1:-1,e.scrollHandler&&!1===e.scrollHandler({eventSource:e,pointerType:"mouse",position:m(n,e.element),scroll:r,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(i)}function A(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function R(e,n){k(e,n=t.getEvent(n))}function M(e,n){(n=t.getEvent(n)).currentTarget===n.relatedTarget||A(n.currentTarget,n.relatedTarget)||k(e,n)}function k(e,n){dt(e,n,[{id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:v(n),currentTime:t.now()}])}function P(e,n){D(e,n=t.getEvent(n))}function L(e,n){(n=t.getEvent(n)).currentTarget===n.relatedTarget||A(n.currentTarget,n.relatedTarget)||D(e,n)}function D(e,n){pt(e,n,[{id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:v(n),currentTime:t.now()}])}function $(e){return t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?1===e?0:2===e?2:4===e?1:-1:e}function N(e,n){vt(e,n=t.getEvent(n),[{id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:v(n),currentTime:t.now()}],$(n.button))&&(t.stopEvent(n),l(e,"mouse")),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler)&&t.cancelEvent(n)}function j(t,e){F(t,e)}function B(e,n){F(e,n),t.stopEvent(n)}function F(e,n){mt(e,n=t.getEvent(n),[{id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:v(n),currentTime:t.now()}],$(n.button))&&d(e,"mouse")}function z(t,e){U(t,e)}function H(e,n){U(e,n),t.stopEvent(n)}function U(e,n){gt(e,n=t.getEvent(n),[{id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:v(n),currentTime:t.now()}])}function V(t,e,n){var i,r=n.getLength(),s=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)s.push(n.getByIndex(i));s.length>0&&(mt(t,e,s,0),n.captureCount=1,d(t,n.type),pt(t,e,s))}}function W(e,n){var i,r,s,o,a=n.changedTouches.length,h=[],c=e.getActivePointersListByType("touch");for(i=t.now(),c.getLength()>n.touches.length-a&&(t.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),V(e,n,c)),r=0;r<a;r++)h.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:v(n.changedTouches[r]),currentTime:i});for(dt(e,n,h),r=0;r<u.length;r++)if(u[r]!==e&&u[r].isTracking()&&A(u[r].element,e.element)){for(o=[],s=0;s<a;s++)o.push({id:n.changedTouches[s].identifier,type:"touch",currentPos:v(n.changedTouches[s]),currentTime:i});dt(u[r],n,o)}vt(e,n,h,0)&&(t.stopEvent(n),l(e,"touch",a)),t.cancelEvent(n)}function q(t,e){K(t,e)}function G(e,n){K(e,n),t.stopEvent(n)}function K(e,n){var i,r,s,o,a=n.changedTouches.length,h=[];for(i=t.now(),r=0;r<a;r++)h.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:v(n.changedTouches[r]),currentTime:i});for(mt(e,n,h,0)&&d(e,"touch",a),pt(e,n,h),r=0;r<u.length;r++)if(u[r]!==e&&u[r].isTracking()&&A(u[r].element,e.element)){for(o=[],s=0;s<a;s++)o.push({id:n.changedTouches[s].identifier,type:"touch",currentPos:v(n.changedTouches[s]),currentTime:i});pt(u[r],n,o)}t.cancelEvent(n)}function Z(t,e){Y(t,e)}function X(e,n){Y(e,n),t.stopEvent(n)}function Y(e,n){var i,r=n.changedTouches.length,s=[];for(i=0;i<r;i++)s.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:v(n.changedTouches[i]),currentTime:t.now()});gt(e,n,s),t.cancelEvent(n)}function Q(t,e){var n=t.getActivePointersListByType("touch");V(t,e,n)}function J(t,e){return e.stopPropagation(),e.preventDefault(),!1}function tt(t,e){return e.stopPropagation(),e.preventDefault(),!1}function et(e,n){n.currentTarget===n.relatedTarget||A(n.currentTarget,n.relatedTarget)||dt(e,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:v(n),currentTime:t.now()}])}function nt(e,n){n.currentTarget===n.relatedTarget||A(n.currentTarget,n.relatedTarget)||pt(e,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:v(n),currentTime:t.now()}])}function it(e,n){var i;vt(e,n,[i={id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:v(n),currentTime:t.now()}],n.button)&&(t.stopEvent(n),l(e,i.type)),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.cancelEvent(n)}function rt(t,e){ot(t,e)}function st(e,n){e.getActivePointersListByType(p(n)).getById(n.pointerId)&&ot(e,n),t.stopEvent(n)}function ot(e,n){var i;mt(e,n,[i={id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:v(n),currentTime:t.now()}],n.button)&&d(e,i.type)}function ut(t,e){ht(t,e)}function at(e,n){e.getActivePointersListByType(p(n)).getById(n.pointerId)&&ht(e,n),t.stopEvent(n)}function ht(e,n){gt(e,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:v(n),currentTime:t.now()}])}function ct(t,e){!function(t,e,n){mt(t,e,n,0),pt(t,e,n)}(t,e,[{id:e.pointerId,type:p(e)}])}function ft(t,e){return e.hasOwnProperty("isPrimary")||(e.isPrimary=0===t.getLength()),e.speed=0,e.direction=0,e.contactPos=e.currentPos,e.contactTime=e.currentTime,e.lastPos=e.currentPos,e.lastTime=e.currentTime,t.add(e)}function lt(t,e){var n,i;return t.getById(e.id)?(n=t.removeById(e.id),e.hasOwnProperty("isPrimary")||(i=t.getPrimary())||(i=t.getByIndex(0))&&(i.isPrimary=!0)):n=t.getLength(),n}function dt(e,n,i){var r,s,o,u=e.getActivePointersListByType(i[0].type),a=i.length;for(r=0;r<a;r++)(o=u.getById((s=i[r]).id))?(o.insideElement=!0,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime,s=o):(s.captured=!1,s.insideElementPressed=!1,s.insideElement=!0,ft(u,s)),e.enterHandler&&!1===e.enterHandler({eventSource:e,pointerType:s.type,position:g(s.currentPos,e.element),buttons:u.buttons,pointers:e.getActivePointerCount(),insideElementPressed:s.insideElementPressed,buttonDownAny:0!==u.buttons,isTouchEvent:"touch"===s.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n)}function pt(e,n,i){var r,s,o,u=e.getActivePointersListByType(i[0].type),a=i.length;for(r=0;r<a;r++)(o=u.getById((s=i[r]).id))&&(o.captured?(o.insideElement=!1,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime):lt(u,o),s=o),e.exitHandler&&!1===e.exitHandler({eventSource:e,pointerType:s.type,position:g(s.currentPos,e.element),buttons:u.buttons,pointers:e.getActivePointerCount(),insideElementPressed:!!o&&o.insideElementPressed,buttonDownAny:0!==u.buttons,isTouchEvent:"touch"===s.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n)}function vt(e,n,i,r){var s,o,u,h=a[e.hash],c=e.getActivePointersListByType(i[0].type),f=i.length;void 0!==n.buttons?c.buttons=n.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===r?c.buttons+=1:1===r?c.buttons+=4:2===r?c.buttons+=2:3===r?c.buttons+=8:4===r?c.buttons+=16:5===r&&(c.buttons+=32):0===r?c.buttons|=1:1===r?c.buttons|=4:2===r?c.buttons|=2:3===r?c.buttons|=8:4===r?c.buttons|=16:5===r&&(c.buttons|=32);var l=e.getActivePointersListsExceptType(i[0].type);for(s=0;s<l.length;s++)V(e,n,l[s]);if(0!==r)return e.nonPrimaryPressHandler&&!1===e.nonPrimaryPressHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),button:r,buttons:c.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n),!1;for(s=0;s<f;s++)(u=c.getById((o=i[s]).id))?(u.captured=!0,u.insideElementPressed=!0,u.insideElement=!0,u.contactPos=o.currentPos,u.contactTime=o.currentTime,u.lastPos=u.currentPos,u.lastTime=u.currentTime,u.currentPos=o.currentPos,u.currentTime=o.currentTime,o=u):(o.captured=!0,o.insideElementPressed=!0,o.insideElement=!0,ft(c,o)),c.addContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(e,o),1===c.contacts?e.pressHandler&&!1===e.pressHandler({eventSource:e,pointerType:o.type,position:g(o.contactPos,e.element),buttons:c.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n):2===c.contacts&&e.pinchHandler&&"touch"===o.type&&(h.pinchGPoints=c.asArray(),h.lastPinchDist=h.currentPinchDist=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos),h.lastPinchCenter=h.currentPinchCenter=w(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos));return!0}function mt(e,n,i,r){var s,o,u,h,c,f,l=a[e.hash],d=e.getActivePointersListByType(i[0].type),p=i.length,v=!1,m=!1;if(void 0!==n.buttons?d.buttons=n.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===r?d.buttons-=1:1===r?d.buttons-=4:2===r?d.buttons-=2:3===r?d.buttons-=8:4===r?d.buttons-=16:5===r&&(d.buttons-=32):0===r?d.buttons^=-2:1===r?d.buttons^=-5:2===r?d.buttons^=-3:3===r?d.buttons^=-9:4===r?d.buttons^=-17:5===r&&(d.buttons^=-33),0!==r){e.nonPrimaryReleaseHandler&&!1===e.nonPrimaryReleaseHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),button:r,buttons:d.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n);var b=e.getActivePointersListByType("mouse");return V(e,n,b),!1}for(u=0;u<p;u++)(c=d.getById((h=i[u]).id))&&(c.captured&&(c.captured=!1,v=!0,m=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=h.currentPos,c.currentTime=h.currentTime,c.insideElement||lt(d,c),s=c.currentPos,o=c.currentTime,m?(d.removeContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(e,c),0===d.contacts?(e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:c.type,position:g(s,e.element),buttons:d.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n),e.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===e.dragEndHandler({eventSource:e,pointerType:c.type,position:g(c.currentPos,e.element),speed:c.speed,direction:c.direction,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n),(e.clickHandler||e.dblClickHandler)&&c.insideElement&&(f=o-c.contactTime<=e.clickTimeThreshold&&c.contactPos.distanceTo(s)<=e.clickDistThreshold,e.clickHandler&&!1===e.clickHandler({eventSource:e,pointerType:c.type,position:g(c.currentPos,e.element),quick:f,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n),e.dblClickHandler&&f&&(d.clicks++,1===d.clicks?(l.lastClickPos=s,l.dblClickTimeOut=setTimeout((function(){d.clicks=0}),e.dblClickTimeThreshold)):2===d.clicks&&(clearTimeout(l.dblClickTimeOut),d.clicks=0,l.lastClickPos.distanceTo(s)<=e.dblClickDistThreshold&&!1===e.dblClickHandler({eventSource:e,pointerType:c.type,position:g(c.currentPos,e.element),shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n),l.lastClickPos=null)))):2===d.contacts&&e.pinchHandler&&"touch"===c.type&&(l.pinchGPoints=d.asArray(),l.lastPinchDist=l.currentPinchDist=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos),l.lastPinchCenter=l.currentPinchCenter=w(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos))):e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:c.type,position:g(s,e.element),buttons:d.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n));return v}function gt(e,n,i){var r,s,o,u,h,c=a[e.hash],f=e.getActivePointersListByType(i[0].type),l=i.length;for(void 0!==n.buttons&&(f.buttons=n.buttons),r=0;r<l;r++)(o=f.getById((s=i[r]).id))?(s.hasOwnProperty("isPrimary")&&(o.isPrimary=s.isPrimary),o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime):(s.captured=!1,s.insideElementPressed=!1,s.insideElement=!0,ft(f,s));e.stopHandler&&"mouse"===i[0].type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){!function(t,e,n){t.stopHandler&&t.stopHandler({eventSource:t,pointerType:n,position:m(e,t.element),buttons:t.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:e,preventDefaultAction:!1,userData:t.userData})}(e,n,i[0].type)}),e.stopDelay)),0===f.contacts?e.moveHandler&&!1===e.moveHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),buttons:f.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n):1===f.contacts?(e.moveHandler&&(o=f.asArray()[0],!1===e.moveHandler({eventSource:e,pointerType:o.type,position:g(o.currentPos,e.element),buttons:f.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n)),e.dragHandler&&(h=(o=f.asArray()[0]).currentPos.minus(o.lastPos),!1===e.dragHandler({eventSource:e,pointerType:o.type,position:g(o.currentPos,e.element),buttons:f.buttons,delta:h,speed:o.speed,direction:o.direction,shift:n.shiftKey,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n))):2===f.contacts&&(e.moveHandler&&(u=f.asArray(),!1===e.moveHandler({eventSource:e,pointerType:u[0].type,position:g(w(u[0].currentPos,u[1].currentPos),e.element),buttons:f.buttons,isTouchEvent:"touch"===u[0].type,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n)),e.pinchHandler&&"touch"===i[0].type&&(h=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos))!=c.currentPinchDist&&(c.lastPinchDist=c.currentPinchDist,c.currentPinchDist=h,c.lastPinchCenter=c.currentPinchCenter,c.currentPinchCenter=w(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos),!1===e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:c.pinchGPoints,lastCenter:g(c.lastPinchCenter,e.element),center:g(c.currentPinchCenter,e.element),lastDistance:c.lastPinchDist,distance:c.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData})&&t.cancelEvent(n)))}t.MouseTracker=function(e){u.push(this);var n=arguments;t.isPlainObject(e)||(e={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=t.getElement(e.element),this.clickTimeThreshold=e.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=e.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=e.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=e.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=e.userData||null,this.stopDelay=e.stopDelay||50,this.enterHandler=e.enterHandler||null,this.exitHandler=e.exitHandler||null,this.pressHandler=e.pressHandler||null,this.nonPrimaryPressHandler=e.nonPrimaryPressHandler||null,this.releaseHandler=e.releaseHandler||null,this.nonPrimaryReleaseHandler=e.nonPrimaryReleaseHandler||null,this.moveHandler=e.moveHandler||null,this.scrollHandler=e.scrollHandler||null,this.clickHandler=e.clickHandler||null,this.dblClickHandler=e.dblClickHandler||null,this.dragHandler=e.dragHandler||null,this.dragEndHandler=e.dragEndHandler||null,this.pinchHandler=e.pinchHandler||null,this.stopHandler=e.stopHandler||null,this.keyDownHandler=e.keyDownHandler||null,this.keyUpHandler=e.keyUpHandler||null,this.keyHandler=e.keyHandler||null,this.focusHandler=e.focusHandler||null,this.blurHandler=e.blurHandler||null;var i=this;a[this.hash]={click:function(t){b(i,t)},dblclick:function(t){y(i,t)},keydown:function(t){T(i,t)},keyup:function(t){E(i,t)},keypress:function(t){S(i,t)},focus:function(t){C(i,t)},blur:function(t){O(i,t)},wheel:function(t){I(i,t)},mousewheel:function(t){_(i,t)},DOMMouseScroll:function(t){_(i,t)},MozMousePixelScroll:function(t){_(i,t)},mouseenter:function(t){R(i,t)},mouseleave:function(t){P(i,t)},mouseover:function(t){M(i,t)},mouseout:function(t){L(i,t)},mousedown:function(t){N(i,t)},mouseup:function(t){j(i,t)},mouseupcaptured:function(t){B(i,t)},mousemove:function(t){z(i,t)},mousemovecaptured:function(t){H(i,t)},touchstart:function(t){W(i,t)},touchend:function(t){q(i,t)},touchendcaptured:function(t){G(i,t)},touchmove:function(t){Z(i,t)},touchmovecaptured:function(t){X(i,t)},touchcancel:function(t){Q(i,t)},gesturestart:function(t){J(0,t)},gesturechange:function(t){tt(0,t)},pointerover:function(t){et(i,t)},MSPointerOver:function(t){et(i,t)},pointerout:function(t){nt(i,t)},MSPointerOut:function(t){nt(i,t)},pointerdown:function(t){it(i,t)},MSPointerDown:function(t){it(i,t)},pointerup:function(t){rt(i,t)},MSPointerUp:function(t){rt(i,t)},pointermove:function(t){ut(i,t)},MSPointerMove:function(t){ut(i,t)},pointercancel:function(t){ct(i,t)},MSPointerCancel:function(t){ct(i,t)},pointerupcaptured:function(t){st(i,t)},pointermovecaptured:function(t){at(i,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},e.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){var t;for(c(this),this.element=null,t=0;t<u.length;t++)if(u[t]===this){u.splice(t,1);break}a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(e){return e?function(e){var n,i,r=a[e.hash];if(!r.tracking){for(i=0;i<t.MouseTracker.subscribeEvents.length;i++)t.addEvent(e.element,n=t.MouseTracker.subscribeEvents[i],r[n],!1);h(e),r.tracking=!0}}(this):c(this),this},getActivePointersListsExceptType:function(t){for(var e=a[this.hash],n=[],i=0;i<e.activePointersLists.length;++i)e.activePointersLists[i].type!==t&&n.push(e.activePointersLists[i]);return n},getActivePointersListByType:function(e){var n,i,r=a[this.hash],s=r.activePointersLists.length;for(n=0;n<s;n++)if(r.activePointersLists[n].type===e)return r.activePointersLists[n];return i=new t.MouseTracker.GesturePointList(e),r.activePointersLists.push(i),i},getActivePointerCount:function(){var t,e=a[this.hash],n=e.activePointersLists.length,i=0;for(t=0;t<n;t++)i+=e.activePointersLists[t].getLength();return i},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},t.MouseTracker.resetAllMouseTrackers=function(){for(var t=0;t<u.length;t++)u[t].isTracking()&&(u[t].setTracking(!1),u[t].setTracking(!0))},t.MouseTracker.gesturePointVelocityTracker=(e=[],n=0,i=0,r=function(t,e){return t.hash.toString()+e.type+e.id.toString()},s=function(){var n,r,s,o,u,a=e.length,h=t.now();for(o=h-i,i=h,n=0;n<a;n++)(s=(r=e[n]).gPoint).direction=Math.atan2(s.currentPos.y-r.lastPos.y,s.currentPos.x-r.lastPos.x),u=r.lastPos.distanceTo(s.currentPos),r.lastPos=s.currentPos,s.speed=1e3*u/(o+1)*.75+.25*s.speed},{addPoint:function(o,u){var a=r(o,u);e.push({guid:a,gPoint:u,lastPos:u.currentPos}),1===e.length&&(i=t.now(),n=window.setInterval(s,50))},removePoint:function(t,i){var s,o=r(t,i),u=e.length;for(s=0;s<u;s++)if(e[s].guid===o){e.splice(s,1),0==--u&&window.clearInterval(n);break}}}),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor==t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.MouseTracker.supportsMouseCapture=(o=document.createElement("div"),t.isFunction(o.setCapture)&&t.isFunction(o.releaseCapture)),t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",t.MouseTracker.wheelEventName],"DOMMouseScroll"==t.MouseTracker.wheelEventName&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||t.Browser.vendor!==t.BROWSERS.IE)?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.unprefixedPointerEvents=!0,t.MouseTracker.maxTouchPoints=navigator.maxTouchPoints?navigator.maxTouchPoints:0,t.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),t.MouseTracker.unprefixedPointerEvents=!1,t.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints?navigator.msMaxTouchPoints:0,t.MouseTracker.haveMouseEnter=!1):(t.MouseTracker.havePointerEvents=!1,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?(t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),t.MouseTracker.haveMouseEnter=!0):(t.MouseTracker.subscribeEvents.push("mouseover","mouseout"),t.MouseTracker.haveMouseEnter=!1),t.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.maxTouchPoints=10),t.MouseTracker.GesturePointList=function(t){this._gPoints=[],this.type=t,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(t){return this._gPoints.push(t)},removeById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t){this._gPoints.splice(e,1);break}return this._gPoints.length},getByIndex:function(t){return t<this._gPoints.length?this._gPoints[t]:null},getById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t)return this._gPoints[e];return null},getPrimary:function(){var t,e=this._gPoints.length;for(t=0;t<e;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var wt=function(){try{return window.self!==window.top}catch(t){return!0}}();function bt(t){try{return t.addEventListener&&t.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(e,n,i){var r=e.parentNode;"number"==typeof n&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=e,this.anchor=n.anchor,this.container=i,this.anchor==t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==t.ControlAnchor.TOP_RIGHT||this.anchor==t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor==t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){t.setElementOpacity(this.element[t.SIGNAL]&&t.Browser.vendor==t.BROWSERS.IE?this.element:this.wrapper,e,!0)}}}(OpenSeadragon),function(t){function e(t,e){var n,i=t.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==e)return n;return-1}t.ControlDock=function(e){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(1e6*Math.random()),container:t.makeNeutralElement("div"),controls:[]},e),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)this.controls[n=r[i]]=t.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(n,i){var r=null;if(!(e(this,n=t.getElement(n))>=0)){switch(i.anchor){case t.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case t.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new t.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){var i=e(this,n=t.getElement(n));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var t;for(t=this.controls.length-1;t>=0;t--)if(this.controls[t].isVisible())return!0;return!1},setControlsEnabled:function(t){var e;for(e=this.controls.length-1;e>=0;e--)this.controls[e].setVisible(t);return this}}}(OpenSeadragon),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(t){var e={},n=1;function i(e){return e=t.getElement(e),new t.Point(0===e.clientWidth?1:e.clientWidth,0===e.clientHeight?1:e.clientHeight)}function r(e,n){if(n instanceof t.Overlay)return n;var i=null;if(n.element)i=t.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=t.getElement(n.id))||((i=document.createElement("a")).href="#/overlay/"+r),i.id=r,t.addClass(i,n.className?n.className:"openseadragon-overlay")}var s=n.location,o=n.width,u=n.height;if(!s){var a=n.x,h=n.y;if(void 0!==n.px){var c=e.viewport.imageToViewportRectangle(new t.Rect(n.px,n.py,o||0,u||0));a=c.x,h=c.y,o=void 0!==o?c.width:void 0,u=void 0!==u?c.height:void 0}s=new t.Point(a,h)}var f=n.placement;return f&&"string"===t.type(f)&&(f=t.Placement[n.placement.toUpperCase()]),new t.Overlay({element:i,location:s,placement:f,onDraw:n.onDraw,checkResize:n.checkResize,width:o,height:u,rotationMode:n.rotationMode})}function s(t,e){var n;for(n=t.length-1;n>=0;n--)if(t[n].element===e)return n;return-1}function o(e,n){return t.requestAnimationFrame((function(){n(e)}))}function u(e){e.autoHideControls&&(e.controlsShouldFade=!0,e.controlsFadeBeginTime=t.now()+e.controlsFadeDelay,window.setTimeout((function(){!function e(n){t.requestAnimationFrame((function(){!function(n){var i,r;if(n.controlsShouldFade){for(i=1-(t.now()-n.controlsFadeBeginTime)/n.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),r=n.controls.length-1;r>=0;r--)n.controls[r].autoFade&&n.controls[r].setOpacity(i);i>0&&e(n)}}(n)}))}(e)}),e.controlsFadeDelay))}function a(t){var e;for(t.controlsShouldFade=!1,e=t.controls.length-1;e>=0;e--)t.controls[e].setOpacity(1)}function h(){a(this)}function c(){u(this)}function f(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function l(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.setRotation(t.positiveModulo(this.viewport.flipped?this.viewport.degrees-this.rotationIncrement:this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.setRotation(t.positiveModulo(this.viewport.flipped?this.viewport.degrees+this.rotationIncrement:this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function d(t){var e;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var n={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&t.quick&&(e=this.gestureSettingsByDeviceType(t.pointerType)).clickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())}function p(t){var e,n={tracker:t.eventSource,position:t.position,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(e=this.gestureSettingsByDeviceType(t.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())}function v(t){var e,n={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(e=this.gestureSettingsByDeviceType(t.pointerType),this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewport.flipped&&(t.delta.x=-t.delta.x),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(t.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),s=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=s.x&&(t.delta.x=0),r.y!=s.y&&(t.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta.negate()),e.flickEnabled&&!this.constrainDuringPan)}}function m(e){if(!e.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(e.pointerType);if(n.flickEnabled&&e.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*e.speed*Math.cos(e.direction));var r=0;this.panVertical&&(r=n.flickMomentum*e.speed*Math.sin(e.direction));var s=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),o=this.viewport.pointFromPixel(new t.Point(s.x-i,s.y-r));this.viewport.panTo(o,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:e.eventSource,position:e.position,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function g(t){this.raiseEvent("canvas-enter",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function w(e){window.location!=window.parent.location&&t.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(t){this.raiseEvent("canvas-press",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function y(t){this.raiseEvent("canvas-release",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function T(t){this.raiseEvent("canvas-nonprimary-press",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function E(t){this.raiseEvent("canvas-nonprimary-release",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function S(t){var e,n,i;if(!t.preventDefaultAction&&this.viewport&&((e=this.gestureSettingsByDeviceType(t.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(t.center,!0),i=this.viewport.pointFromPixel(t.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(t.distance/t.lastDistance,n,!0),e.zoomToRefPoint&&this.viewport.panBy(i,!0),this.viewport.applyConstraints()),e.pinchRotate)){var r=Math.atan2(t.gesturePoints[0].currentPos.y-t.gesturePoints[1].currentPos.y,t.gesturePoints[0].currentPos.x-t.gesturePoints[1].currentPos.x),s=Math.atan2(t.gesturePoints[0].lastPos.y-t.gesturePoints[1].lastPos.y,t.gesturePoints[0].lastPos.x-t.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(r-s)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:t.eventSource,gesturePoints:t.gesturePoints,lastCenter:t.lastCenter,center:t.center,lastDistance:t.lastDistance,distance:t.distance,shift:t.shift,originalEvent:t.originalEvent}),!1}function C(e){var n,i,r;if((r=t.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=r,this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x),!e.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(e.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,e.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(e.pointerType))&&n.scrollToZoom)return!1}function O(t){e[this.hash].mouseInside=!0,a(this),this.raiseEvent("container-enter",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function I(t){t.pointers<1&&(e[this.hash].mouseInside=!1,e[this.hash].animating||u(this)),this.raiseEvent("container-exit",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function _(t){!function(t){if(!t._opening){if(t.autoResize){var n=i(t.container),r=e[t.hash].prevContainerSize;if(!n.equals(r)){var s=t.viewport;if(t.preserveImageSizeOnResize){var o=r.x/n.x,h=s.getZoom()*o,c=s.getCenter();s.resize(n,!1),s.zoomTo(h,null,!0),s.panTo(c,!0)}else{var f=s.getBounds();s.resize(n,!0),s.fitBoundsWithConstraints(f,!0)}e[t.hash].prevContainerSize=n,e[t.hash].forceRedraw=!0}}var l=t.viewport.update(),d=t.world.update()||l;l&&t.raiseEvent("viewport-change"),t.referenceStrip&&(d=t.referenceStrip.update(t.viewport)||d),!e[t.hash].animating&&d&&(t.raiseEvent("animation-start"),a(t)),(d||e[t.hash].forceRedraw||t.world.needsDraw())&&(function(t){t.imageLoader.clear(),t.drawer.clear(),t.world.draw(),t.raiseEvent("update-viewport",{})}(t),t._drawOverlays(),t.navigator&&t.navigator.update(t.viewport),e[t.hash].forceRedraw=!1,d&&t.raiseEvent("animation")),e[t.hash].animating&&!d&&(t.raiseEvent("animation-finish"),e[t.hash].mouseInside||u(t)),e[t.hash].animating=d}}(t),t._updateRequestId=!!t.isOpen()&&o(t,_)}function x(t,e){return t?t+e:e}function A(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=this.zoomPerSecond,e[this.hash].zooming=!0,k(this)}function R(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=1/this.zoomPerSecond,e[this.hash].zooming=!0,k(this)}function M(){e[this.hash].zooming=!1}function k(e){t.requestAnimationFrame(t.delegate(e,P))}function P(){var n,i;e[this.hash].zooming&&this.viewport&&(n=t.now(),i=Math.pow(e[this.hash].zoomFactor,(n-e[this.hash].lastZoomTime)/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),e[this.hash].lastZoomTime=n,k(this))}function L(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function D(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function $(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function N(){this.viewport&&this.viewport.goHome()}function j(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function B(){if(this.viewport){var e=this.viewport.getRotation();e=t.positiveModulo(this.viewport.flipped?e+this.rotationIncrement:e-this.rotationIncrement,360),this.viewport.setRotation(e)}}function F(){if(this.viewport){var e=this.viewport.getRotation();e=t.positiveModulo(this.viewport.flipped?e-this.rotationIncrement:e+this.rotationIncrement,360),this.viewport.setRotation(e)}}function z(){this.viewport.toggleFlip()}function H(){var t=this._sequenceIndex-1;this.navPrevNextWrap&&t<0&&(t+=this.tileSources.length),this.goToPage(t)}function U(){var t=this._sequenceIndex+1;this.navPrevNextWrap&&t>=this.tileSources.length&&(t=0),this.goToPage(t)}t.Viewer=function(r){var s,a,h=arguments,c=this;if(t.isPlainObject(r)||(r={id:h[0],xmlPath:h.length>1?h[1]:void 0,prefixUrl:h.length>2?h[2]:void 0,controls:h.length>3?h[3]:void 0,overlays:h.length>4?h[4]:void 0}),r.config&&(t.extend(!0,r,r.config),delete r.config),t.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},t.DEFAULT_SETTINGS,r),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==e[this.hash]&&t.console.warn("Hash "+this.hash+" has already been used."),e[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",(function(e){var n=t.getString("Errors.OpenFailed",e.eventSource,e.message);c._showMessage(n)})),t.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(a=this.canvas.style).width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px",t.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(t){t.width="100%",t.height="100%",t.position="relative",t.overflow="hidden",t.left="0px",t.top="0px",t.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:t.delegate(this,f),keyHandler:t.delegate(this,l),clickHandler:t.delegate(this,d),dblClickHandler:t.delegate(this,p),dragHandler:t.delegate(this,v),dragEndHandler:t.delegate(this,m),enterHandler:t.delegate(this,g),exitHandler:t.delegate(this,w),pressHandler:t.delegate(this,b),releaseHandler:t.delegate(this,y),nonPrimaryPressHandler:t.delegate(this,T),nonPrimaryReleaseHandler:t.delegate(this,E),scrollHandler:t.delegate(this,C),pinchHandler:t.delegate(this,S)}),this.outerTracker=new t.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,O),exitHandler:t.delegate(this,I)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),e[this.hash].prevContainerSize=i(this.container),this.world=new t.World({viewer:this}),this.world.addHandler("add-item",(function(){c.source=c.world.getItemAt(0).source,e[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=o(c,_))})),this.world.addHandler("remove-item",(function(){c.source=c.world.getItemCount()?c.world.getItemAt(0).source:null,e[c.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(){c.source=c.world.getItemAt(0).source})),this.viewport=new t.Viewport({containerSize:e[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(s=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(s,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(s=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(s,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new t.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),s=0;s<this.customControls.length;s++)this.addControl(this.customControls[s].id,{anchor:this.customControls[s].anchor});t.requestAnimationFrame((function(){u(c)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(e){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(e)},openTileSource:function(e){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(e)},open:function(e,n){var i=this;if(this.close(),e){if(this.sequenceMode&&t.isArray(e))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=e,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(t.isArray(e)||(e=[e]),e.length){this._opening=!0;for(var s,o=e.length,u=0,a=0,h=function(){if(u+a===o)if(u){!i._firstOpen&&i.preserveViewport||(i.viewport.goHome(!0),i.viewport.update()),i._firstOpen=!1;var t=e[0];if(t.tileSource&&(t=t.tileSource),i.overlays&&!i.preserveOverlays)for(var n=0;n<i.overlays.length;n++)i.currentOverlays[n]=r(i,i.overlays[n]);i._drawOverlays(),i._opening=!1,i.raiseEvent("open",{source:t})}else i._opening=!1,i.raiseEvent("open-failed",s)},c=function(e){t.isPlainObject(e)&&e.tileSource||(e={tileSource:e}),void 0!==e.index&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete e.index),void 0===e.collectionImmediately&&(e.collectionImmediately=!0);var n=e.success;e.success=function(t){if(u++,e.tileSource.overlays)for(var r=0;r<e.tileSource.overlays.length;r++)i.addOverlay(e.tileSource.overlays[r]);n&&n(t),h()};var r=e.error;e.error=function(t){a++,s||(s=t),r&&r(t),h()},i.addTiledImage(e)},f=0;f<e.length;f++)c(e[f]);return this}}},close:function(){return e[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),e[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(e[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),e[this.hash]=null,delete e[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(t){return this.innerTracker.setTracking(t),this.outerTracker.setTracking(t),this.raiseEvent("mouse-enabled",{enabled:t}),this},areControlsEnabled:function(){var t,e=this.controls.length;for(t=0;t<this.controls.length;t++)e=e&&this.controls[t].isVisible();return e},setControlsEnabled:function(t){return t?a(this):u(this),this.raiseEvent("controls-enabled",{enabled:t}),this},setDebugMode:function(t){for(var e=0;e<this.world.getItemCount();e++)this.world.getItemAt(e).debugMode=t;this.debugMode=t,this.forceRedraw()},isFullPage:function(){return e[this.hash].fullPage},setFullPage:function(n){var i,r,s=document.body,o=s.style,u=document.documentElement.style,a=this;if(n==this.isFullPage())return this;var h={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",h),h.preventDefaultAction)return this;if(n){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=o.margin,this.docMargin=u.margin,o.margin="0",u.margin="0",this.bodyPadding=o.padding,this.docPadding=u.padding,o.padding="0",u.padding="0",this.bodyWidth=o.width,this.docWidth=u.width,o.width="100%",u.width="100%",this.bodyHeight=o.height,this.docHeight=u.height,o.height="100%",u.height="100%",this.previousBody=[],e[this.hash].prevElementParent=this.element.parentNode,e[this.hash].prevNextSibling=this.element.nextSibling,e[this.hash].prevElementWidth=this.element.style.width,e[this.hash].prevElementHeight=this.element.style.height,i=s.childNodes.length,r=0;r<i;r++)this.previousBody.push(s.childNodes[0]),s.removeChild(s.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,s.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),s.appendChild(this.element),this.element.style.height=t.getWindowSize().y+"px",this.element.style.width=t.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),e[this.hash].fullPage=!0,t.delegate(this,O)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,o.margin=this.bodyMargin,u.margin=this.docMargin,o.padding=this.bodyPadding,u.padding=this.docPadding,o.width=this.bodyWidth,u.width=this.docWidth,o.height=this.bodyHeight,u.height=this.docHeight,s.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)s.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),e[this.hash].prevElementParent.insertBefore(this.element,e[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(s.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=e[this.hash].prevElementWidth,this.element.style.height=e[this.hash].prevElementHeight;var c=0,f=function(){t.setPageScroll(a.pageScroll);var e=t.getPageScroll();++c<10&&(e.x!==a.pageScroll.x||e.y!==a.pageScroll.y)&&t.requestAnimationFrame(f)};t.requestAnimationFrame(f),e[this.hash].fullPage=!1,t.delegate(this,I)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(e){var n=this;if(!t.supportsFullScreen)return this.setFullPage(e);if(t.isFullScreen()===e)return this;var i={fullScreen:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(e){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var e=t.isFullScreen();e||(t.removeEvent(document,t.fullScreenEventName,r),t.removeEvent(document,t.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout((function(){n.navigator.update(n.viewport)})),n.raiseEvent("full-screen",{fullScreen:e})};t.addEvent(document,t.fullScreenEventName,r),t.addEvent(document,t.fullScreenErrorEventName,r),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(t){return this.container.style.visibility=t?"":"hidden",this.raiseEvent("visible",{visible:t}),this},addTiledImage:function(e){t.console.assert(e,"[Viewer.addTiledImage] options is required"),t.console.assert(e.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!e.replace||e.index>-1&&e.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;e.replace&&(e.replaceItem=n.world.getItemAt(e.index)),this._hideMessage(),void 0===e.placeholderFillStyle&&(e.placeholderFillStyle=this.placeholderFillStyle),void 0===e.opacity&&(e.opacity=this.opacity),void 0===e.preload&&(e.preload=this.preload),void 0===e.compositeOperation&&(e.compositeOperation=this.compositeOperation),void 0===e.crossOriginPolicy&&(e.crossOriginPolicy=void 0!==e.tileSource.crossOriginPolicy?e.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===e.ajaxWithCredentials&&(e.ajaxWithCredentials=this.ajaxWithCredentials),void 0===e.loadTilesWithAjax&&(e.loadTilesWithAjax=this.loadTilesWithAjax),null==e.ajaxHeaders?e.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(e.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(e.ajaxHeaders=t.extend({},this.ajaxHeaders,e.ajaxHeaders));var i={options:e};function r(t){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&s(i),n.raiseEvent("add-item-failed",t),e.error&&e.error(t)}function s(t){n.collectionMode&&(n.world.arrange({immediately:t.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function o(){for(var e,i,r;n._loadQueue.length&&(e=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),e.options.replace){var o=n.world.getIndexOfItem(e.options.replaceItem);-1!=o&&(e.options.index=o),n.world.removeItem(e.options.replaceItem)}i=new t.TiledImage({viewer:n,source:e.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:e.options.x,y:e.options.y,width:e.options.width,height:e.options.height,fitBounds:e.options.fitBounds,fitBoundsPlacement:e.options.fitBoundsPlacement,clip:e.options.clip,placeholderFillStyle:e.options.placeholderFillStyle,opacity:e.options.opacity,preload:e.options.preload,degrees:e.options.degrees,compositeOperation:e.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:e.options.crossOriginPolicy,ajaxWithCredentials:e.options.ajaxWithCredentials,loadTilesWithAjax:e.options.loadTilesWithAjax,ajaxHeaders:e.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(i,{index:e.options.index}),0===n._loadQueue.length&&s(e),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(r=t.extend({},e.options,{replace:!1,originalTiledImage:i,tileSource:e.tileSource}),n.navigator.addTiledImage(r)),e.options.success&&e.options.success({item:i})}}t.isArray(e.tileSource)?setTimeout((function(){r({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:e.tileSource,options:e})})):(this._loadQueue.push(i),function(e,n,i,r,s){var o=e;if("string"==t.type(n))if(n.match(/^\s*<.*>\s*$/))n=t.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var u=t.parseJSON(n);n=u}catch(h){}function a(t,e){t.ready?r(t):(t.addHandler("ready",(function(){r(t)})),t.addHandler("open-failed",(function(t){s({message:t.message,source:e})})))}setTimeout((function(){if("string"==t.type(n))(n=new t.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,ajaxHeaders:e.ajaxHeaders,useCanvas:e.useCanvas,success:function(t){r(t.tileSource)}})).addHandler("open-failed",(function(t){s(t)}));else if(t.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===e.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=e.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=e.useCanvas),t.isFunction(n.getTileUrl)){var u=new t.TileSource(n);u.getTileUrl=n.getTileUrl,r(u)}else{var h=t.TileSource.determineType(o,n);if(!h)return void s({message:"Unable to load TileSource",source:n});var c=h.prototype.configure.apply(o,[n]);a(new h(c),n)}else a(n,n)}))}(this,e.tileSource,e,(function(t){i.tileSource=t,o()}),(function(t){t.options=e,r(t),o()})))},addSimpleImage:function(e){t.console.assert(e,"[Viewer.addSimpleImage] options is required"),t.console.assert(e.url,"[Viewer.addSimpleImage] options.url is required");var n=t.extend({},e,{tileSource:{type:"image",url:e.url}});delete n.url,this.addTiledImage(n)},addLayer:function(e){var n=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=t.extend({},e,{success:function(t){n.raiseEvent("add-layer",{options:e,drawer:t.item})},error:function(t){n.raiseEvent("add-layer-failed",t)}});return this.addTiledImage(i),this},getLayerAtLevel:function(e){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(e)},getLevelOfLayer:function(e){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(e)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(e,n){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(e,n)},removeLayer:function(e){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(e)},forceRedraw:function(){return e[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var e=t.delegate(this,h),n=t.delegate(this,c),i=t.delegate(this,U),r=t.delegate(this,H),s=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:x(this.prefixUrl,s.previous.REST),srcGroup:x(this.prefixUrl,s.previous.GROUP),srcHover:x(this.prefixUrl,s.previous.HOVER),srcDown:x(this.prefixUrl,s.previous.DOWN),onRelease:r,onFocus:e,onBlur:n}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:x(this.prefixUrl,s.next.REST),srcGroup:x(this.prefixUrl,s.next.GROUP),srcHover:x(this.prefixUrl,s.next.HOVER),srcDown:x(this.prefixUrl,s.next.DOWN),onRelease:i,onFocus:e,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var e=t.delegate(this,A),n=t.delegate(this,M),i=t.delegate(this,L),r=t.delegate(this,R),s=t.delegate(this,D),o=t.delegate(this,N),u=t.delegate(this,j),a=t.delegate(this,B),f=t.delegate(this,F),l=t.delegate(this,z),d=t.delegate(this,h),p=t.delegate(this,c),v=this.navImages,m=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(g=!1),this.showZoomControl&&(m.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:x(this.prefixUrl,v.zoomIn.REST),srcGroup:x(this.prefixUrl,v.zoomIn.GROUP),srcHover:x(this.prefixUrl,v.zoomIn.HOVER),srcDown:x(this.prefixUrl,v.zoomIn.DOWN),onPress:e,onRelease:n,onClick:i,onEnter:e,onExit:n,onFocus:d,onBlur:p})),m.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:x(this.prefixUrl,v.zoomOut.REST),srcGroup:x(this.prefixUrl,v.zoomOut.GROUP),srcHover:x(this.prefixUrl,v.zoomOut.HOVER),srcDown:x(this.prefixUrl,v.zoomOut.DOWN),onPress:r,onRelease:n,onClick:s,onEnter:r,onExit:n,onFocus:d,onBlur:p}))),this.showHomeControl&&m.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:x(this.prefixUrl,v.home.REST),srcGroup:x(this.prefixUrl,v.home.GROUP),srcHover:x(this.prefixUrl,v.home.HOVER),srcDown:x(this.prefixUrl,v.home.DOWN),onRelease:o,onFocus:d,onBlur:p})),this.showFullPageControl&&m.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:x(this.prefixUrl,v.fullpage.REST),srcGroup:x(this.prefixUrl,v.fullpage.GROUP),srcHover:x(this.prefixUrl,v.fullpage.HOVER),srcDown:x(this.prefixUrl,v.fullpage.DOWN),onRelease:u,onFocus:d,onBlur:p})),this.showRotationControl&&(m.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:x(this.prefixUrl,v.rotateleft.REST),srcGroup:x(this.prefixUrl,v.rotateleft.GROUP),srcHover:x(this.prefixUrl,v.rotateleft.HOVER),srcDown:x(this.prefixUrl,v.rotateleft.DOWN),onRelease:a,onFocus:d,onBlur:p})),m.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:x(this.prefixUrl,v.rotateright.REST),srcGroup:x(this.prefixUrl,v.rotateright.GROUP),srcHover:x(this.prefixUrl,v.rotateright.HOVER),srcDown:x(this.prefixUrl,v.rotateright.DOWN),onRelease:f,onFocus:d,onBlur:p}))),this.showFlipControl&&m.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:x(this.prefixUrl,v.flip.REST),srcGroup:x(this.prefixUrl,v.flip.GROUP),srcHover:x(this.prefixUrl,v.flip.HOVER),srcDown:x(this.prefixUrl,v.flip.DOWN),onRelease:l,onFocus:d,onBlur:p})),g&&(this.buttons=new t.ButtonGroup({buttons:m,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",t.delegate(this,$)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(t){return this.tileSources&&t>=0&&t<this.tileSources.length&&(this._sequenceIndex=t,this._updateSequenceButtons(t),this.open(this.tileSources[t]),this.referenceStrip&&this.referenceStrip.setFocus(t),this.raiseEvent("page",{page:t})),this},addOverlay:function(e,n,i,o){var u;if(u=t.isPlainObject(e)?e:{element:e,location:n,placement:i,onDraw:o},e=t.getElement(u.element),s(this.currentOverlays,e)>=0)return this;var a=r(this,u);return this.currentOverlays.push(a),a.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:e,location:u.location,placement:u.placement}),this},updateOverlay:function(n,i,r){var o;return n=t.getElement(n),(o=s(this.currentOverlays,n))>=0&&(this.currentOverlays[o].update(i,r),e[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=t.getElement(n),(i=s(this.currentOverlays,n))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),e[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return e[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(e){var n;return e=t.getElement(e),(n=s(this.currentOverlays,e))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(t){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==t?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(t>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(e){this._hideMessage();var n=t.makeNeutralElement("div");n.appendChild(document.createTextNode(e)),this.messageDiv=t.makeCenteredNode(n),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var t=this.messageDiv;t&&(t.parentNode.removeChild(t),delete this.messageDiv)},gestureSettingsByDeviceType:function(t){switch(t){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var t,e=this.currentOverlays.length;for(t=0;t<e;t++)this.currentOverlays[t].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(t){function e(t){var e={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",e),!e.preventDefaultAction&&t.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var n=this.viewport.pointFromPixel(t.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(t){var e={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",e),!e.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewer.viewport.flipped&&(t.delta.x=-t.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(t){t.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(t){return this.viewer.raiseEvent("navigator-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),!1}function s(t,e){o(t,"rotate("+e+"deg)")}function o(t,e){t.style.webkitTransform=e,t.style.mozTransform=e,t.style.msTransform=e,t.style.oTransform=e,t.style.transform=e}t.Navigator=function(o){var u,a,h,c,f=o.viewer,l=this;function d(t){s(l.displayRegionContainer,t),s(l.displayRegion,-t),l.viewport.setRotation(t)}o.id?(this.element=document.getElementById(o.id),o.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(o.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),o.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:o.autoFade},o.position&&("BOTTOM_RIGHT"==o.position?o.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==o.position?o.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==o.position?o.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==o.position?o.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:"ABSOLUTE"==o.position&&(o.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,o.controlOptions.top=o.top,o.controlOptions.left=o.left,o.controlOptions.height=o.height,o.controlOptions.width=o.width))),this.element.id=o.id,this.element.className+=" navigator",(o=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},o,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:o.autoResize,minZoomImageRatio:1,background:o.background,opacity:o.opacity,borderColor:o.borderColor,displayRegionColor:o.displayRegionColor})).minPixelRatio=this.minPixelRatio=f.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),o.controlOptions.anchor!=t.ControlAnchor.NONE&&(c=this.borderWidth,(h=this.element.style).margin="0px",h.border=c+"px solid "+o.borderColor,h.padding="0px",h.background=o.background,h.opacity=o.opacity,h.overflow="hidden"),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(t,e){t.position="relative",t.top="0px",t.left="0px",t.fontSize="0px",t.overflow="hidden",t.border=e+"px solid "+o.displayRegionColor,t.margin="0px",t.padding="0px",t.background="transparent",t.float="left",t.cssFloat="left",t.styleFloat="left",t.zIndex=999999999,t.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",f.addControl(this.element,o.controlOptions),this._resizeWithViewer=o.controlOptions.anchor!=t.ControlAnchor.ABSOLUTE&&o.controlOptions.anchor!=t.ControlAnchor.NONE,this._resizeWithViewer&&(o.width&&o.height?(this.element.style.height="number"==typeof o.height?o.height+"px":o.height,this.element.style.width="number"==typeof o.width?o.width+"px":o.width):(u=t.getElementSize(f.element),this.element.style.height=Math.round(u.y*o.sizeRatio)+"px",this.element.style.width=Math.round(u.x*o.sizeRatio)+"px",this.oldViewerSize=u),a=t.getElementSize(this.element),this.elementArea=a.x*a.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[o]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),o.navigatorRotate&&(d(o.viewer.viewport?o.viewer.viewport.getRotation():o.viewer.degrees||0),o.viewer.addHandler("rotate",(function(t){d(t.degrees)}))),this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),clickHandler:t.delegate(this,e),releaseHandler:t.delegate(this,i),scrollHandler:t.delegate(this,r)}),this.addHandler("reset-size",(function(){l.viewport&&l.viewport.goHome(!0)})),f.world.addHandler("item-index-change",(function(t){window.setTimeout((function(){var e=l.world.getItemAt(t.previousIndex);l.world.setItemIndex(e,t.newIndex)}),1)})),f.world.addHandler("remove-item",(function(t){var e=l._getMatchingItem(t.item);e&&l.world.removeItem(e)})),this.update(f.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var e=new t.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);e.equals(this.oldContainerSize)||(this.viewport.resize(e,!0),this.viewport.goHome(!0),this.oldContainerSize=e,this.drawer.clear(),this.world.draw())}},setFlip:function(t){return this.viewport.setFlip(t),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(t){o(this.displayRegion,t),o(this.canvas,t),o(this.element,t)},update:function(e){var n,i,r,s,o,u;if(n=t.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),e&&this.viewport){s=e.getBoundsNoRotate(!0),o=this.viewport.pixelFromPointNoRotate(s.getTopLeft(),!1),u=this.viewport.pixelFromPointNoRotate(s.getBottomRight(),!1).minus(this.totalBorderWidths);var a=this.displayRegion.style;a.display=this.world.getItemCount()?"block":"none",a.top=Math.round(o.y)+"px",a.left=Math.round(o.x)+"px";var h=Math.abs(o.x-u.x),c=Math.abs(o.y-u.y);a.width=Math.round(Math.max(h,0))+"px",a.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(e){var n=this,i=e.originalTiledImage;delete e.original;var r=t.extend({},e,{success:function(t){var e=t.item;function r(){n._matchBounds(e,i)}e._originalForNavigator=i,n._matchBounds(e,i,!0),i.addHandler("bounds-change",r),i.addHandler("clip-change",r),i.addHandler("opacity-change",(function(){n._matchOpacity(e,i)})),i.addHandler("composite-operation-change",(function(){n._matchCompositeOperation(e,i)}))}});return t.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(t){for(var e,n=this.world.getItemCount(),i=0;i<n;i++)if((e=this.world.getItemAt(i))._originalForNavigator===t)return e;return null},_matchBounds:function(t,e,n){var i=e.getBoundsNoRotate();t.setPosition(i.getTopLeft(),n),t.setWidth(i.width,n),t.setRotation(e.getRotation(),n),t.setClip(e.getClip())},_matchOpacity:function(t,e){t.setOpacity(e.opacity)},_matchCompositeOperation:function(t,e){t.setCompositeOperation(e.compositeOperation)}})}(OpenSeadragon),function(t){var e={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(n){var i,r=n.split("."),s=null,o=arguments,u=e;for(i=0;i<r.length-1;i++)u=u[r[i]]||{};return"string"!=typeof(s=u[r[i]])&&(t.console.log("Untranslated source string:",n),s=""),s.replace(/\{\d+\}/g,(function(t){var e=parseInt(t.match(/\d+/),10)+1;return e<o.length?o[e]:""}))},setString:function(t,n){var i,r=t.split("."),s=e;for(i=0;i<r.length-1;i++)s[r[i]]||(s[r[i]]={}),s=s[r[i]];s[r[i]]=n}})}(OpenSeadragon),function(t){t.Point=function(t,e){this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(e){return new t.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new t.Point(this.x-e.x,this.y-e.y)},times:function(e){return new t.Point(this.x*e,this.y*e)},divide:function(e){return new t.Point(this.x/e,this.y/e)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},squaredDistanceTo:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},apply:function(e){return new t.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof t.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,n){var i,r;if(n=n||new t.Point(0,0),e%90==0)switch(t.positiveModulo(e,360)){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1}else{var s=e*Math.PI/180;i=Math.cos(s),r=Math.sin(s)}return new t.Point(i*(this.x-n.x)-r*(this.y-n.y)+n.x,r*(this.x-n.x)+i*(this.y-n.y)+n.y)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(t){t.TileSource=function(e,n,i,r,s,o){var u,a,h=this,c=arguments;if(u=t.isPlainObject(e)?e:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},t.EventSource.call(this),t.extend(!0,this,u),!this.success)for(a=0;a<arguments.length;a++)if(t.isFunction(arguments[a])){this.success=arguments[a];break}this.success&&this.addHandler("ready",(function(t){h.success(t)})),"string"==t.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=u.width&&u.height?u.width/u.height:1,this.dimensions=new t.Point(u.width,u.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=u.tileOverlap?u.tileOverlap:0,this.minLevel=u.minLevel?u.minLevel:0,this.maxLevel=null!=u.maxLevel?u.maxLevel:u.width&&u.height?Math.ceil(Math.log(Math.max(u.width,u.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(t){return this._tileWidth?this._tileWidth:this.getTileSize(t)},getTileHeight:function(t){return this._tileHeight?this._tileHeight:this.getTileSize(t)},getLevelScale:function(t){var e,n={};for(e=0;e<=this.maxLevel;e++)n[e]=1/Math.pow(2,this.maxLevel-e);return this.getLevelScale=function(t){return n[t]},this.getLevelScale(t)},getNumTiles:function(e){var n=this.getLevelScale(e),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(e)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(e));return new t.Point(i,r)},getPixelRatio:function(e){var n=this.dimensions.times(this.getLevelScale(e));return new t.Point(1/n.x,1/n.y)},getClosestLevel:function(){var t,e;for(t=this.minLevel+1;t<=this.maxLevel&&!((e=this.getNumTiles(t)).x>1||e.y>1);t++);return t-1},getTileAtPoint:function(e,n){t.console.assert(n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(e),r=n.y*i,s=Math.floor(n.x*i/this.getTileWidth(e)),o=Math.floor(r/this.getTileHeight(e));return n.x>=1&&(s=this.getNumTiles(e).x-1),n.y>=1/this.aspectRatio-1e-15&&(o=this.getNumTiles(e).y-1),new t.Point(s,o)},getTileBounds:function(e,n,i,r){var s=this.dimensions.times(this.getLevelScale(e)),o=this.getTileWidth(e),u=this.getTileHeight(e),a=0===n?0:o*n-this.tileOverlap,h=0===i?0:u*i-this.tileOverlap,c=o+(0===n?1:2)*this.tileOverlap,f=u+(0===i?1:2)*this.tileOverlap,l=1/s.x;return c=Math.min(c,s.x-a),f=Math.min(f,s.y-h),r?new t.Rect(0,0,c,f):new t.Rect(a*l,h*l,c*l,f*l)},getImageInfo:function(e){var n,i,r,s,o,u,a,h=this;e&&(a=(u=(o=e.split("/"))[o.length-1]).lastIndexOf("."))>-1&&(o[o.length-1]=u.slice(0,a)),i=function(n){"string"==typeof n&&(n=t.parseXml(n));var i=t.TileSource.determineType(h,n,e);i?(void 0===(s=i.prototype.configure.apply(h,[n,e])).ajaxWithCredentials&&(s.ajaxWithCredentials=h.ajaxWithCredentials),r=new i(s),h.ready=!0,h.raiseEvent("ready",{tileSource:r})):h.raiseEvent("open-failed",{message:"Unable to load TileSource",source:e})},e.match(/\.js$/)?(n=e.split("/").pop().replace(".js",""),t.jsonp({url:e,async:!1,callbackName:n,callback:i})):t.makeAjaxRequest({url:e,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var n=function(e){var n,i=e.responseText,r=e.status;if(!e)throw new Error(t.getString("Errors.Security"));if(200!==e.status&&0!==e.status)throw r=e.status,new Error(t.getString("Errors.Status",r,404==r?"Not Found":e.statusText));if(i.match(/\s*<.*/))try{n=e.responseXML&&e.responseXML.documentElement?e.responseXML:t.parseXml(i)}catch(s){n=e.responseText}else if(i.match(/\s*[\{\[].*/))try{n=t.parseJSON(i)}catch(s){n=i}else n=i;return n}(e);i(n)},error:function(t,n){var i;try{i="HTTP "+t.status+" attempting to load TileSource"}catch(r){i=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}h.raiseEvent("open-failed",{message:i,source:e})}})},supports:function(){return!1},configure:function(){throw new Error("Method not implemented.")},getTileUrl:function(){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(){return{}},tileExists:function(t,e,n){var i=this.getNumTiles(t);return t>=this.minLevel&&t<=this.maxLevel&&e>=0&&n>=0&&e<i.x&&n<i.y}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype),t.TileSource.determineType=function(e,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&t.isFunction(OpenSeadragon[r])&&t.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(e,n,i))return OpenSeadragon[r];t.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(t){function e(e,n){var i,r,s=n.Image,o=s.Url,u=s.Format,a=s.Size,h=s.DisplayRect||[],c=parseInt(a.Width,10),f=parseInt(a.Height,10),l=parseInt(s.TileSize,10),d=parseInt(s.Overlap,10),p=[];for(r=0;r<h.length;r++)i=h[r].Rect,p.push(new t.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return t.extend(!0,{width:c,height:f,tileSize:l,tileOverlap:d,minLevel:null,maxLevel:null,tilesUrl:o,fileFormat:u,displayRects:p},n)}t.DziTileSource=function(e,n,i,r,s,o,u,a,h){var c,f,l,d;if(d=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=d.tilesUrl,this.fileFormat=d.fileFormat,this.displayRects=d.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(l=(f=this.displayRects[c]).minLevel;l<=f.maxLevel;l++)this._levelRects[l]||(this._levelRects[l]=[]),this._levelRects[l].push(f);t.TileSource.apply(this,[d])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(t){var e;return t.Image?e=t.Image.xmlns:t.documentElement&&("Image"!=t.documentElement.localName&&"Image"!=t.documentElement.tagName||(e=t.documentElement.namespaceURI)),-1!==(e=(e||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==e.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i){var r;return r=t.isPlainObject(n)?e(0,n):function(n,i){if(!i||!i.documentElement)throw new Error(t.getString("Errors.Xml"));var r,s,o,u,a,h=i.documentElement,c=h.localName||h.tagName,f=i.documentElement.namespaceURI,l=null,d=[];if("Image"==c)try{if(void 0===(u=h.getElementsByTagName("Size")[0])&&(u=h.getElementsByTagNameNS(f,"Size")[0]),l={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:h.getAttribute("Url"),Format:h.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(h.getAttribute("Overlap"),10),TileSize:parseInt(h.getAttribute("TileSize"),10),Size:{Height:parseInt(u.getAttribute("Height"),10),Width:parseInt(u.getAttribute("Width"),10)}}},!t.imageFormatSupported(l.Image.Format))throw new Error(t.getString("Errors.ImageFormat",l.Image.Format.toUpperCase()));for(void 0===(r=h.getElementsByTagName("DisplayRect"))&&(r=h.getElementsByTagNameNS(f,"DisplayRect")[0]),a=0;a<r.length;a++)void 0===(o=(s=r[a]).getElementsByTagName("Rect")[0])&&(o=s.getElementsByTagNameNS(f,"Rect")[0]),d.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(s.getAttribute("MinLevel"),10),MaxLevel:parseInt(s.getAttribute("MaxLevel"),10)}});return d.length&&(l.Image.DisplayRect=d),e(0,l)}catch(v){throw v instanceof Error?v:new Error(t.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(t.getString("Errors.Dzc"));if("Error"==c){var p=h.getElementsByTagName("Message")[0];throw new Error(p.firstChild.nodeValue)}}throw new Error(t.getString("Errors.Dzi"))}(0,n),i&&!r.tilesUrl&&(r.tilesUrl=i.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),r.queryParams=-1!=i.search(/\.(dzi|xml|js)\?/)?i.match(/\?.*/):""),r},getTileUrl:function(t,e,n){return[this.tilesUrl,t,"/",e,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(t,e,n){var i,r,s,o,u,a,h,c=this._levelRects[t];if(this.minLevel&&t<this.minLevel||this.maxLevel&&t>this.maxLevel)return!1;if(!c||!c.length)return!0;for(h=c.length-1;h>=0;h--)if(!(t<(i=c[h]).minLevel||t>i.maxLevel)&&(r=this.getLevelScale(t),u=(s=i.x*r)+i.width*r,a=(o=i.y*r)+i.height*r,s=Math.floor(s/this._tileWidth),o=Math.floor(o/this._tileWidth),u=Math.ceil(u/this._tileWidth),a=Math.ceil(a/this._tileWidth),s<=e&&e<u&&o<=n&&n<a))return!0;return!1}})}(OpenSeadragon),function(t){t.IIIFTileSource=function(e){if(t.extend(!0,this,e),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(e.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.tile_width&&this.tile_height)e.tileWidth=this.tile_width,e.tileHeight=this.tile_height;else if(this.tile_width)e.tileSize=this.tile_width;else if(this.tile_height)e.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)e.tileWidth=this.tiles[0].width,e.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var i=0;i<this.tiles[n].scaleFactors.length;i++){var r=this.tiles[n].scaleFactors[i];this.scale_factors.push(r),e.tileSizePerScaleFactor[r]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(c=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf((h=e.profile)[0]),f=!1,h.length>1&&h[1].supports&&(f=-1!==h[1].supports.indexOf("sizeByW")),!c||f){for(var s=Math.min(this.height,this.width),o=[256,512,1024],u=[],a=0;a<o.length;a++)o[a]<=s&&u.push(o[a]);e.tileSize=u.length>0?Math.max.apply(null,u):s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,e.levels=function(t){for(var e=[],n=0;n<t.sizes.length;n++)e.push({url:t["@id"]+"/full/"+t.sizes[n].width+",/0/default."+t.tileFormat,width:t.sizes[n].width,height:t.sizes[n].height});return e.sort((function(t,e){return t.width-e.width}))}(this),t.extend(!0,e,{width:e.levels[e.levels.length-1].width,height:e.levels[e.levels.length-1].height,tileSize:Math.max(e.height,e.width),tileOverlap:0,minLevel:0,maxLevel:e.levels.length-1}),this.levels=e.levels):t.console.error("Nothing in the info.json to construct image pyramids from");var h,c,f;if(!e.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var l=Math.max.apply(null,this.scale_factors);e.maxLevel=Math.round(Math.log(l)*Math.LOG2E)}else e.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));t.TileSource.apply(this,[e])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(t){return!!(t.protocol&&"http://iiif.io/api/image"==t.protocol||t["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==t["@context"]||"http://iiif.io/api/image/1/context.json"==t["@context"])||t.profile&&0===t.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||t.identifier&&t.width&&t.height||t.documentElement&&"info"==t.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==t.documentElement.namespaceURI)},configure:function(e,n){if(t.isPlainObject(e)){if(e["@context"]||(e["@context"]="http://iiif.io/api/image/1.0/context.json",e["@id"]=n.replace("/info.json","")),e.preferredFormats)for(var i=0;i<e.preferredFormats.length;i++)if(OpenSeadragon.imageFormatSupported(e.preferredFormats[i])){e.tileFormat=e.preferredFormats[i];break}return e}var r=function(e){if(!e||!e.documentElement)throw new Error(t.getString("Errors.Xml"));var n=e.documentElement,i=null;if("info"==n.tagName)try{return function e(n,i,r){var s,o;if(3==n.nodeType&&r)(o=n.nodeValue.trim()).match(/^\d*$/)&&(o=Number(o)),i[r]?(t.isArray(i[r])||(i[r]=[i[r]]),i[r].push(o)):i[r]=o;else if(1==n.nodeType)for(s=0;s<n.childNodes.length;s++)e(n.childNodes[s],i,n.nodeName)}(n,i={}),i}catch(r){throw r instanceof Error?r:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}(e);return r["@context"]="http://iiif.io/api/image/1.0/context.json",r["@id"]=n.replace("/info.xml",""),r},getTileWidth:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(e){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].width/this.levels[this.maxLevel].width),n}return t.TileSource.prototype.getLevelScale.call(this,e)},getNumTiles:function(e){return this.emulateLegacyImagePyramid?this.getLevelScale(e)?new t.Point(1,1):new t.Point(0,0):t.TileSource.prototype.getNumTiles.call(this,e)},getTileAtPoint:function(e,n){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,e,n)},getTileUrl:function(t,e,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}var r,s,o,u,a,h,c,f,l,d,p,v,m,g=Math.pow(.5,this.maxLevel-t),w=Math.ceil(this.width*g),b=Math.ceil(this.height*g);return r=this.getTileWidth(t),s=this.getTileHeight(t),o=Math.ceil(r/g),u=Math.ceil(s/g),v=(m=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1)?"native."+this.tileFormat:"default."+this.tileFormat,w<r&&b<s?(d=m||w!==this.width?w+",":"max",a="full"):(h=e*o,c=n*u,f=Math.min(o,this.width-h),l=Math.min(u,this.height-c),a=0===e&&0===n&&f===this.width&&l===this.height?"full":[h,c,f,l].join(","),p=Math.ceil(f*g),d=m||p!==this.width?p+",":"max"),[this["@id"],a,d,"0",v].join("/")}})}(OpenSeadragon),function(t){t.OsmTileSource=function(e,n,i,r,s){var o;(o=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&o.height||(o.width=65572864,o.height=65572864),o.tileSize||(o.tileSize=256,o.tileOverlap=0),o.tilesUrl||(o.tilesUrl="http://tile.openstreetmap.org/"),o.minLevel=8,t.TileSource.apply(this,[o])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(t){return t.type&&"openstreetmaps"==t.type},configure:function(t){return t},getTileUrl:function(t,e,n){return this.tilesUrl+(t-8)+"/"+e+"/"+n+".png"}})}(OpenSeadragon),function(t){t.TmsTileSource=function(e,n,i,r,s){var o;o=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var u,a=256*Math.ceil(o.width/256),h=256*Math.ceil(o.height/256);u=a>h?a/256:h/256,o.maxLevel=Math.ceil(Math.log(u)/Math.log(2))-1,o.tileSize=256,o.width=a,o.height=h,t.TileSource.apply(this,[o])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(t){return t.type&&"tiledmapservice"==t.type},configure:function(t){return t},getTileUrl:function(t,e,n){var i=this.getNumTiles(t).y-1;return this.tilesUrl+t+"/"+e+"/"+(i-n)+".png"}})}(OpenSeadragon),function(t){t.ZoomifyTileSource=function(t){t.tileSize=256;var e={x:t.width,y:t.height};for(t.imageSizes=[{x:t.width,y:t.height}],t.gridSize=[this._getGridSize(t.width,t.height,t.tileSize)];parseInt(e.x,10)>t.tileSize||parseInt(e.y,10)>t.tileSize;)e.x=Math.floor(e.x/2),e.y=Math.floor(e.y/2),t.imageSizes.push({x:e.x,y:e.y}),t.gridSize.push(this._getGridSize(e.x,e.y,t.tileSize));t.imageSizes.reverse(),t.gridSize.reverse(),t.minLevel=0,t.maxLevel=t.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[t])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(t,e,n){return{x:Math.ceil(t/n),y:Math.ceil(e/n)}},_calculateAbsoluteTileNumber:function(t,e,n){for(var i=0,r={},s=0;s<t;s++)i+=(r=this.gridSize[s]).x*r.y;return i+((r=this.gridSize[t]).x*n+e)},supports:function(t){return t.type&&"zoomifytileservice"==t.type},configure:function(t){return t},getTileUrl:function(t,e,n){var i,r=this._calculateAbsoluteTileNumber(t,e,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+t+"-"+e+"-"+n+".jpg"}})}(OpenSeadragon),function(t){function e(t,e){return e.levels}t.LegacyTileSource=function(e){var n,i,r;t.isArray(e)&&(n={type:"legacy-image-pyramid",levels:e}),n.levels=function(e){var n,i,r=[];for(i=0;i<e.length;i++)(n=e[i]).height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):t.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort((function(t,e){return t.height-e.height}))}(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(i=0,r=0,t.console.error("No supported image formats found")),t.extend(!0,n,{width:i,height:r,tileSize:Math.max(r,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),t.TileSource.apply(this,[n]),this.levels=n.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(t){return t.type&&"legacy-image-pyramid"==t.type||t.documentElement&&"legacy-image-pyramid"==t.documentElement.getAttribute("type")},configure:function(n){return t.isPlainObject(n)?e(0,n):function(n,i){if(!i||!i.documentElement)throw new Error(t.getString("Errors.Xml"));var r,s,o=i.documentElement,u=o.tagName,a=null,h=[];if("image"==u)try{for(a={type:o.getAttribute("type"),levels:[]},h=o.getElementsByTagName("level"),s=0;s<h.length;s++)a.levels.push({url:(r=h[s]).getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return e(0,a)}catch(c){throw c instanceof Error?c:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==u)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==u)throw new Error("Error: "+i)}throw new Error("Unknown element "+u)}(0,n)},getLevelScale:function(t){var e=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){return this.getLevelScale(e)?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t){var e=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].url),e}})}(OpenSeadragon),function(t){t.ImageTileSource=function(e){e=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},e),t.TileSource.apply(this,[e])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(t){return t.type&&"image"===t.type},configure:function(t){return t},getImageInfo:function(e){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),t.addEvent(n,"load",(function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new t.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})})),t.addEvent(n,"error",(function(){i.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})})),n.src=e},getLevelScale:function(t){var e=NaN;return t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){return this.getLevelScale(e)?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t){var e=null;return t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].url),e},getContext2D:function(t){var e=null;return t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].context2D),e},_buildLevels:function(){var e=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,e;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),s=r.getContext("2d");if(r.width=n,r.height=i,s.drawImage(this._image,0,0,n,i),e[0].context2D=s,delete this._image,t.isCanvasTainted(r))return e;for(;n>=2&&i>=2;){n=Math.floor(n/2),i=Math.floor(i/2);var o=document.createElement("canvas"),u=o.getContext("2d");o.width=n,o.height=i,u.drawImage(r,0,0,n,i),e.splice(0,0,{context2D:u,width:n,height:i}),r=o,s=u}return e}})}(OpenSeadragon),function(t){t.TileSourceCollection=function(){t.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(t){function e(e,n){e.element.disabled||(n>=t.ButtonState.GROUP&&e.currentState==t.ButtonState.REST&&(function(e){e.shouldFade=!1,e.imgGroup&&t.setElementOpacity(e.imgGroup,1,!0)}(e),e.currentState=t.ButtonState.GROUP),n>=t.ButtonState.HOVER&&e.currentState==t.ButtonState.GROUP&&(e.imgHover&&(e.imgHover.style.visibility=""),e.currentState=t.ButtonState.HOVER),n>=t.ButtonState.DOWN&&e.currentState==t.ButtonState.HOVER&&(e.imgDown&&(e.imgDown.style.visibility=""),e.currentState=t.ButtonState.DOWN))}function n(e,n){e.element.disabled||(n<=t.ButtonState.HOVER&&e.currentState==t.ButtonState.DOWN&&(e.imgDown&&(e.imgDown.style.visibility="hidden"),e.currentState=t.ButtonState.HOVER),n<=t.ButtonState.GROUP&&e.currentState==t.ButtonState.HOVER&&(e.imgHover&&(e.imgHover.style.visibility="hidden"),e.currentState=t.ButtonState.GROUP),n<=t.ButtonState.REST&&e.currentState==t.ButtonState.GROUP&&(function(e){e.shouldFade=!0,e.fadeBeginTime=t.now()+e.fadeDelay,window.setTimeout((function(){!function e(n){t.requestAnimationFrame((function(){!function(n){var i;n.shouldFade&&(i=1-(t.now()-n.fadeBeginTime)/n.fadeLength,i=Math.min(1,i),i=Math.max(0,i),n.imgGroup&&t.setElementOpacity(n.imgGroup,i,!0),i>0&&e(n))}(n)}))}(e)}),e.fadeDelay)}(e),e.currentState=t.ButtonState.REST))}t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(i){var r=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},i),this.element=i.element||t.makeNeutralElement("div"),i.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor==t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(n){n.insideElementPressed?(e(r,t.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:n.originalEvent})):n.buttonDownAny||e(r,t.ButtonState.HOVER)},focusHandler:function(t){this.enterHandler(t),r.raiseEvent("focus",{originalEvent:t.originalEvent})},exitHandler:function(e){n(r,t.ButtonState.GROUP),e.insideElementPressed&&r.raiseEvent("exit",{originalEvent:e.originalEvent})},blurHandler:function(t){this.exitHandler(t),r.raiseEvent("blur",{originalEvent:t.originalEvent})},pressHandler:function(n){e(r,t.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:n.originalEvent})},releaseHandler:function(i){i.insideElementPressed&&i.insideElementReleased?(n(r,t.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:i.originalEvent})):i.insideElementPressed?n(r,t.ButtonState.GROUP):e(r,t.ButtonState.HOVER)},clickHandler:function(t){t.quick&&r.raiseEvent("click",{originalEvent:t.originalEvent})},keyHandler:function(t){return 13!==t.keyCode||(r.raiseEvent("click",{originalEvent:t.originalEvent}),r.raiseEvent("release",{originalEvent:t.originalEvent}),!1)}}),n(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){e(this,t.ButtonState.GROUP)},notifyGroupExit:function(){n(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(t){t.ButtonGroup=function(e){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var n,i=this.buttons.concat([]),r=this;if(this.element=e.element||t.makeNeutralElement("div"),!e.group)for(this.element.style.display="inline-block",n=0;n<i.length;n++)this.element.appendChild(i[n].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},exitHandler:function(t){var e;if(!t.insideElementPressed)for(e=0;e<r.buttons.length;e++)r.buttons[e].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(t){t.Rect=function(e,n,i,r,s){var o,u;this.x="number"==typeof e?e:0,this.y="number"==typeof n?n:0,this.width="number"==typeof i?i:0,this.height="number"==typeof r?r:0,this.degrees="number"==typeof s?s:0,this.degrees=t.positiveModulo(this.degrees,360),this.degrees>=270?(o=this.getTopRight(),this.x=o.x,this.y=o.y,u=this.height,this.height=this.width,this.width=u,this.degrees-=270):this.degrees>=180?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):this.degrees>=90&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,u=this.height,this.height=this.width,this.width=u,this.degrees-=90)},t.Rect.fromSummits=function(e,n,i){var r=e.distanceTo(n),s=e.distanceTo(i),o=n.minus(e),u=Math.atan(o.y/o.x);return o.x<0?u+=Math.PI:o.y<0&&(u+=2*Math.PI),new t.Rect(e.x,e.y,r,s,u/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(e){return e instanceof t.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new t.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new t.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var n=this.getBoundingBox(),i=e.getBoundingBox(),r=Math.min(n.x,i.x),s=Math.min(n.y,i.y),o=Math.max(n.x+n.width,i.x+i.width),u=Math.max(n.y+n.height,i.y+i.height);return new t.Rect(r,s,o-r,u-s)},intersection:function(e){var n=1e-10,i=[],r=this.getTopLeft();e.containsPoint(r,n)&&i.push(r);var s=this.getTopRight();e.containsPoint(s,n)&&i.push(s);var o=this.getBottomLeft();e.containsPoint(o,n)&&i.push(o);var u=this.getBottomRight();e.containsPoint(u,n)&&i.push(u);var a=e.getTopLeft();this.containsPoint(a,n)&&i.push(a);var h=e.getTopRight();this.containsPoint(h,n)&&i.push(h);var c=e.getBottomLeft();this.containsPoint(c,n)&&i.push(c);var f=e.getBottomRight();this.containsPoint(f,n)&&i.push(f);for(var l=this._getSegments(),d=e._getSegments(),p=0;p<l.length;p++)for(var v=l[p],m=0;m<d.length;m++){var g=d[m],w=b(v[0],v[1],g[0],g[1]);w&&i.push(w)}function b(e,i,r,s){var o=i.minus(e),u=s.minus(r),a=-u.x*o.y+o.x*u.y;if(0===a)return null;var h=(o.x*(e.y-r.y)-o.y*(e.x-r.x))/a,c=(u.x*(e.y-r.y)-u.y*(e.x-r.x))/a;return-n<=h&&h<=1-n&&-n<=c&&c<=1-n?new t.Point(e.x+c*o.x,e.y+c*o.y):null}if(0===i.length)return null;for(var y=i[0].x,T=i[0].x,E=i[0].y,S=i[0].y,C=1;C<i.length;C++){var O=i[C];O.x<y&&(y=O.x),O.x>T&&(T=O.x),O.y<E&&(E=O.y),O.y>S&&(S=O.y)}return new t.Rect(y,E,T-y,S-E)},_getSegments:function(){var t=this.getTopLeft(),e=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[t,e],[e,i],[i,n],[n,t]]},rotate:function(e,n){if(0===(e=t.positiveModulo(e,360)))return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(e,n),r=this.getTopRight().rotate(e,n).minus(i);r=r.apply((function(t){return Math.abs(t)<1e-15?0:t}));var s=Math.atan(r.y/r.x);return r.x<0?s+=Math.PI:r.y<0&&(s+=2*Math.PI),new t.Rect(i.x,i.y,this.width,this.height,s/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),s=Math.min(e.x,n.x,i.x,r.x),o=Math.max(e.x,n.x,i.x,r.x),u=Math.min(e.y,n.y,i.y,r.y),a=Math.max(e.y,n.y,i.y,r.y);return new t.Rect(s,u,o-s,a-u)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),n=Math.floor(e.x),i=Math.floor(e.y),r=Math.ceil(e.width+e.x-n),s=Math.ceil(e.height+e.y-i);return new t.Rect(n,i,r,s)},containsPoint:function(t,e){e=e||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),s=i.minus(n),o=r.minus(n);return(t.x-n.x)*s.x+(t.y-n.y)*s.y>=-e&&(t.x-i.x)*s.x+(t.y-i.y)*s.y<=e&&(t.x-n.x)*o.x+(t.y-n.y)*o.y>=-e&&(t.x-r.x)*o.x+(t.y-r.y)*o.y<=e},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(t){var e={};function n(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),s=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),u=t.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-e.delta.x>0?n>-(s-u.x)&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,u.x,n+2*e.delta.x)):-e.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,u.x,n+2*e.delta.x)):-e.delta.y>0?i>-(o-u.y)&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,u.y,i+2*e.delta.y)):-e.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,u.y,i+2*e.delta.y))),!1}function i(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),s=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),u=t.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?e.scroll>0?n>-(s-u.x)&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,u.x,n-60*e.scroll)):e.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,u.x,n-60*e.scroll)):e.scroll<0?i>u.y-o&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,u.y,i+60*e.scroll)):e.scroll>0&&i<0&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,u.y,i+60*e.scroll))),!1}function r(e,n,i){var r,s,o,u,a,h,c;for(r="horizontal"==e.scroll?e.panelWidth:e.panelHeight,s=Math.ceil(n/r)+5,h=s=(s=(o=Math.ceil((Math.abs(i)+n)/r)+1)-s)<0?0:s;h<o&&h<e.panels.length;h++)if(!(c=e.panels[h]).activePanel){var f=e.viewer.tileSources[h];(u=new t.Viewer({id:c.id,tileSources:[f.referenceStripThumbnailUrl?{type:"image",url:f.referenceStripThumbnailUrl}:f],element:c,navigatorSizeRatio:e.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=t.makeNeutralElement("div"),u.displayRegion.id=c.id+"-displayregion",u.displayRegion.className="displayregion",(a=u.displayRegion.style).position="relative",a.top="0px",a.left="0px",a.fontSize="0px",a.overflow="hidden",a.float="left",a.cssFloat="left",a.styleFloat="left",a.zIndex=999999999,a.cursor="default",a.width=e.panelWidth-4+"px",a.height=e.panelHeight-4+"px",u.displayRegion.innerTracker=new t.MouseTracker({element:u.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(u.displayRegion),e.miniViewers[c.id]=u,c.activePanel=!0}}function s(t){var e=t.eventSource.element;return"horizontal"==this.scroll?e.style.marginBottom="0px":e.style.marginLeft="0px",!1}function o(e){var n=e.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+t.getElementSize(n).y/2+"px":n.style.marginLeft="-"+t.getElementSize(n).x/2+"px",!1}function u(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function a(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}t.ReferenceStrip=function(h){var c,f,l,d=h.viewer,p=t.getElementSize(d.element);for(h.id||(h.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=h.id,this.element.className="referencestrip"),h=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},h,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),t.extend(this,h),e[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(f=this.element.style).marginTop="0px",f.marginRight="0px",f.marginBottom="0px",f.marginLeft="0px",f.left="0px",f.bottom="0px",f.border="0px",f.background="#000",f.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=d,this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),scrollHandler:t.delegate(this,i),enterHandler:t.delegate(this,s),exitHandler:t.delegate(this,o),keyDownHandler:t.delegate(this,u),keyHandler:t.delegate(this,a)}),h.width&&h.height?(this.element.style.width=h.width+"px",this.element.style.height=h.height+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):"horizontal"==h.scroll?(this.element.style.width=p.x*h.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.height=p.y*h.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=p.y*h.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.width=p.x*h.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=p.x*this.sizeRatio+8,this.panelHeight=p.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},l=0;l<d.tileSources.length;l++)(c=t.makeNeutralElement("div")).id=this.element.id+"-"+l,c.style.width=this.panelWidth+"px",c.style.height=this.panelHeight+"px",c.style.display="inline",c.style.float="left",c.style.cssFloat="left",c.style.styleFloat="left",c.style.padding="2px",t.setElementTouchActionNone(c),c.innerTracker=new t.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(e){e.eventSource.dragging=t.now()},releaseHandler:function(e){var n=e.eventSource,i=Number(n.element.id.split("-")[2]),r=t.now();e.insideElementPressed&&e.insideElementReleased&&n.dragging&&r-n.dragging<n.clickTimeThreshold&&(n.dragging=null,d.goToPage(i))}}),this.element.appendChild(c),c.activePanel=!1,this.panels.push(c);r(this,"vertical"==this.scroll?p.y:p.x,0),this.setFocus(0)},t.extend(t.ReferenceStrip.prototype,t.EventSource.prototype,t.Viewer.prototype,{setFocus:function(e){var n,i=t.getElement(this.element.id+"-"+e),o=t.getElementSize(this.viewer.canvas),u=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),h=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(e)*(this.panelWidth+3))>h+o.x-this.panelWidth?(n=Math.min(n,u-o.x),this.element.style.marginLeft=-n+"px",r(this,o.x,-n)):n<h&&(n=Math.max(0,n-o.x/2),this.element.style.marginLeft=-n+"px",r(this,o.x,-n)):(n=Number(e)*(this.panelHeight+3))>c+o.y-this.panelHeight?(n=Math.min(n,a-o.y),this.element.style.marginTop=-n+"px",r(this,o.y,-n)):n<c&&(n=Math.max(0,n-o.y/2),this.element.style.marginTop=-n+"px",r(this,o.y,-n)),this.currentPage=e,s.call(this,{eventSource:this.innerTracker}))},update:function(){return!!e[this.id].animating&&(t.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var t in this.miniViewers)this.miniViewers[t].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(t){t.DisplayRect=function(e,n,i,r,s,o){t.Rect.apply(this,[e,n,i,r]),this.minLevel=s,this.maxLevel=o},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(OpenSeadragon),function(t){t.Spring=function(e){var n=arguments;"object"!=typeof e&&(e={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),t.console.assert("number"==typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert("number"==typeof e.animationTime&&e.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),t.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(t.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(t.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var e,n;this.current.time=t.now(),this._exponential?(e=this.start._logValue,n=this.target._logValue):(e=this.start.value,n=this.target.value);var i,r=this.current.time>=this.target.time?n:e+(n-e)*(i=this.springStiffness,(1-Math.exp(i*(-(this.current.time-this.start.time)/(this.target.time-this.start.time))))/(1-Math.exp(-i))),s=this.current.value;return this.current.value=this._exponential?Math.exp(r):r,s!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(t){function e(e){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},e),this.image=null}e.prototype={errorMsg:null,start:function(){var e=this,n=this.abort;this.image=new Image,this.image.onload=function(){e.finish(!0)},this.image.onabort=this.image.onerror=function(){e.errorMsg="Image load aborted",e.finish(!1)},this.jobId=window.setTimeout((function(){e.errorMsg="Image load exceeded timeout ("+e.timeout+" ms)",e.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(t){var n;try{n=new window.Blob([t.response])}catch(o){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===o.name&&i){var r=new i;r.append(t.response),n=r.getBlob()}}0===n.size&&(e.errorMsg="Empty image response.",e.finish(!1));var s=(window.URL||window.webkitURL).createObjectURL(n);e.image.src=s},error:function(){e.errorMsg="Image load aborted - XHR error",e.finish(!1)}}),this.abort=function(){e.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(t){this.image.onload=this.image.onerror=this.image.onabort=null,t||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(e){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},e)},t.ImageLoader.prototype={addJob:function(t){var n=this,i=new e({src:t.src,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(e){!function(t,e,n){t.jobsInProgress--,(!t.jobLimit||t.jobsInProgress<t.jobLimit)&&t.jobQueue.length>0&&(t.jobQueue.shift().start(),t.jobsInProgress++),n(e.image,e.errorMsg,e.request)}(n,e,t.callback)},abort:t.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(i.start(),this.jobsInProgress++):this.jobQueue.push(i)},clear:function(){for(var t=0;t<this.jobQueue.length;t++){var e=this.jobQueue[t];"function"==typeof e.abort&&e.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(t){t.Tile=function(t,e,n,i,r,s,o,u,a,h){this.level=t,this.x=e,this.y=n,this.bounds=i,this.sourceBounds=h,this.exists=r,this.url=s,this.context2D=o,this.loadWithAjax=u,this.ajaxHeaders=a,this.cacheKey=this.ajaxHeaders?this.url+"+"+JSON.stringify(this.ajaxHeaders):this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(e){this.cacheImageRecord?this.loaded?(this.element||(this.element=t.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=e&&e.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",t.setElementOpacity(this.element,this.opacity)):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(e,n,i,r){var s,o,u,a=this.position.times(t.pixelDensityRatio),h=this.size.times(t.pixelDensityRatio);this.context2D||this.cacheImageRecord?(s=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&s?(e.save(),e.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(a=a.times(i),h=h.times(i)),r instanceof t.Point&&(a=a.plus(r)),1===e.globalAlpha&&this._hasTransparencyChannel()&&e.clearRect(a.x,a.y,h.x,h.y),n({context:e,tile:this,rendered:s}),this.sourceBounds?(o=Math.min(this.sourceBounds.width,s.canvas.width),u=Math.min(this.sourceBounds.height,s.canvas.height)):(o=s.canvas.width,u=s.canvas.height),e.drawImage(s.canvas,0,0,o,u,a.x,a.y,h.x,h.y),e.restore()):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),s=Math.max(1,Math.ceil((i.y-n.y)/2));return new t.Point(r,s).minus(this.position.times(t.pixelDensityRatio).times(e||1).apply((function(t){return t%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(e,n,i){var r;r=t.isPlainObject(e)?e:{element:e,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},t.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?t.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,n){var i=t.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?e.x-=n.x/2:i.isRight&&(e.x-=n.x),i.isVerticallyCentered?e.y-=n.y/2:i.isBottom&&(e.y-=n.y))},destroy:function(){var e=this.element,n=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(n.display="none",document.body.appendChild(e))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=t.getCssPropertyWithVendorPrefix("transformOrigin"),r=t.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(e,n){var i=this.element;i.parentNode!==e&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,e.appendChild(i),this.style.position="absolute",this.size=t.getElementSize(i));var r=this._getOverlayPositionAndSize(n),s=r.position,o=this.size=r.size,u=r.rotate;if(this.onDraw)this.onDraw(s,o,this.element);else{var a=this.style;a.left=s.x+"px",a.top=s.y+"px",null!==this.width&&(a.width=o.x+"px"),null!==this.height&&(a.height=o.y+"px");var h=t.getCssPropertyWithVendorPrefix("transformOrigin"),c=t.getCssPropertyWithVendorPrefix("transform");h&&c&&(u?(a[h]=this._getTransformOrigin(),a[c]="rotate("+u+"deg)"):(a[h]="",a[c]="")),"none"!==a.display&&(a.display="block")}},_getOverlayPositionAndSize:function(e){var n=e.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(e);this.adjust(n,i);var r=0;if(e.degrees&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var s=new t.Rect(n.x,n.y,i.x,i.y),o=this._getBoundingBox(s,e.degrees);n=o.getTopLeft(),i=o.getSize()}else r=e.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(e){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=e.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var s=this.size=t.getElementSize(this.element);null===this.width&&(n=s.x),null===this.height&&(i=s.y)}return new t.Point(n,i)},_getBoundingBox:function(t,e){var n=this._getPlacementPoint(t);return t.rotate(e,n).getBoundingBox()},_getPlacementPoint:function(e){var n=new t.Point(e.x,e.y),i=t.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=e.width/2:i.isRight&&(n.x+=e.width),i.isVerticallyCentered?n.y+=e.height/2:i.isBottom&&(n.y+=e.height)),n},_getTransformOrigin:function(){var e="",n=t.Placement.properties[this.placement];return n?(n.isLeft?e="left":n.isRight&&(e="right"),n.isTop?e+=" top":n.isBottom&&(e+=" bottom"),e):e},update:function(e,n){var i=t.isPlainObject(e)?e:{location:e,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(e){t.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var s=this.location.clone();return this.adjust(s,new t.Point(n,i)),this._adjustBoundsForRotation(e,new t.Rect(s.x,s.y,n,i))},_adjustBoundsForRotation:function(e,n){if(!e||0===e.degrees||this.rotationMode===t.OverlayRotationMode.EXACT)return n;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new t.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-e.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(t){t.Drawer=function(e){t.console.assert(e.viewer,"[Drawer] options.viewer is required");var n=arguments;if(t.isPlainObject(e)||(e={source:n[0],viewport:n[1],element:n[2]}),t.console.assert(e.viewport,"[Drawer] options.viewport is required"),t.console.assert(e.element,"[Drawer] options.element is required"),e.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"==typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,e.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=t.getElement(e.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(e,n,i,r){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(e,n,i,r),this},updateOverlay:function(e,n,i){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(e,n,i),this},removeOverlay:function(e){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(e),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(e){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(e);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var e=this.viewer.world,n=0,i=0;i<e.getItemCount();i++){var r=e.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var t=this._calculateCanvasSize();if((this.canvas.width!=t.x||this.canvas.height!=t.y)&&(this.canvas.width=t.x,this.canvas.height=t.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var e=this._calculateSketchCanvasSize();this.sketchCanvas.width=e.x,this.sketchCanvas.height=e.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(t,e){if(this.useCanvas){var n=this._getContext(t);if(e)n.clearRect(e.x,e.y,e.width,e.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(e){var n=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new t.Rect(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio,i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio)},drawTile:function(e,n,i,r,s){if(t.console.assert(e,"[Drawer.drawTile] tile is required"),t.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var o=this._getContext(i);e.drawCanvas(o,n,r=r||1,s)}else e.drawHTML(this.canvas)},_getContext:function(t){var e=this.context;if(t){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",(function t(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",t);var e=i._calculateSketchCanvasSize();i.sketchCanvas.width=e.x,i.sketchCanvas.height=e.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}e=this.sketchContext}return e},saveContext:function(t){this.useCanvas&&this._getContext(t).save()},restoreContext:function(t){this.useCanvas&&this._getContext(t).restore()},setClip:function(t,e){if(this.useCanvas){var n=this._getContext(e);n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()}},drawRectangle:function(t,e,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=e,i.fillRect(t.x,t.y,t.width,t.height),i.restore()}},blendSketch:function(e,n,i,r){var s=e;if(t.isPlainObject(s)||(s={opacity:e,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){e=s.opacity,r=s.compositeOperation;var o=s.bounds;if(this.context.save(),this.context.globalAlpha=e,r&&(this.context.globalCompositeOperation=r),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{n=s.scale||1;var u=(i=s.translate)instanceof t.Point?i:new t.Point(0,0),a=0,h=0;if(i){var c=this.sketchCanvas.height-this.canvas.height;a=Math.round((this.sketchCanvas.width-this.canvas.width)/2),h=Math.round(c/2)}this.context.drawImage(this.sketchCanvas,u.x-a*n,u.y-h*n,(this.canvas.width+2*a)*n,(this.canvas.height+2*h)*n,-a,-h,this.canvas.width+2*a,this.canvas.height+2*h)}this.context.restore()}},drawDebugInfo:function(e,n,i,r){if(this.useCanvas){var s=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*t.pixelDensityRatio,o.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[s],o.fillStyle=this.debugGridColor[s],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),0===r.viewport.degrees&&r.getRotation(!0)%360==0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),o.strokeRect(e.position.x*t.pixelDensityRatio,e.position.y*t.pixelDensityRatio,e.size.x*t.pixelDensityRatio,e.size.y*t.pixelDensityRatio);var u=(e.position.x+e.size.x/2)*t.pixelDensityRatio,a=(e.position.y+e.size.y/2)*t.pixelDensityRatio;o.translate(u,a),o.rotate(Math.PI/180*-this.viewport.degrees),o.translate(-u,-a),0===e.x&&0===e.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),e.position.x*t.pixelDensityRatio,(e.position.y-30)*t.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),e.position.x*t.pixelDensityRatio,(e.position.y-20)*t.pixelDensityRatio)),o.fillText("Level: "+e.level,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+20)*t.pixelDensityRatio),o.fillText("Column: "+e.x,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+30)*t.pixelDensityRatio),o.fillText("Row: "+e.y,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+40)*t.pixelDensityRatio),o.fillText("Order: "+i+" of "+n,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+50)*t.pixelDensityRatio),o.fillText("Size: "+e.size.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+60)*t.pixelDensityRatio),o.fillText("Position: "+e.position.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+70)*t.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===r.viewport.degrees&&r.getRotation(!0)%360==0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),o.restore()}},debugRect:function(e){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*t.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(e.x*t.pixelDensityRatio,e.y*t.pixelDensityRatio,e.width*t.pixelDensityRatio,e.height*t.pixelDensityRatio),n.restore()}},setImageSmoothingEnabled:function(t){this.useCanvas&&(this._imageSmoothingEnabled=t,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(t){t.mozImageSmoothingEnabled=this._imageSmoothingEnabled,t.webkitImageSmoothingEnabled=this._imageSmoothingEnabled,t.msImageSmoothingEnabled=this._imageSmoothingEnabled,t.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(e){var n=this._getContext(e).canvas;return new t.Point(n.width,n.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(e){var n=e.point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.save(),i.translate(n.x,n.y),this.viewer.viewport.flipped?(i.rotate(Math.PI/180*-e.degrees),i.scale(-1,1)):i.rotate(Math.PI/180*e.degrees),i.translate(-n.x,-n.y)},_flip:function(e){var n=(e=e||{}).point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)},_restoreRotationChanges:function(t){this._getContext(t).restore()},_calculateCanvasSize:function(){var e=t.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*e),y:Math.round(n.y*e)}},_calculateSketchCanvasSize:function(){var t=this._calculateCanvasSize();if(0===this.viewport.getRotation())return t;var e=Math.ceil(Math.sqrt(t.x*t.x+t.y*t.y));return{x:e,y:e}}}}(OpenSeadragon),function(t){t.Viewport=function(e){var n=arguments;n.length&&n[0]instanceof t.Point&&(e={containerSize:n[0],contentSize:n[1],config:n[2]}),e.config&&(t.extend(!0,e,e.config),delete e.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,degrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer},e),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={resetContentSize:function(e){return t.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(e instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(e.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(e.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,n){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,n)},_setContentBounds:function(e,n){t.console.assert(e,"[Viewport._setContentBounds] bounds is required"),t.console.assert(e instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(e.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(e.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=e.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var t=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?t>=1?t:1:t>=1?1:t)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new t.Rect(e.x-n/2,e.y-i/2,n,i)},goHome:function(t){return this.viewer&&this.viewer.raiseEvent("home",{immediately:t}),this.fitBounds(this.getHomeBounds(),t)},getMinZoom:function(){var t=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*t},getMaxZoom:function(){var t=this.maxZoomLevel;return t||(t=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,t/=this._contentBounds.width),Math.max(t,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(e){t.console.assert("object"===t.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(-this.getRotation())},getBoundsNoRotate:function(e){var n=this.getCenter(e),i=1/this.getZoom(e),r=i/this.getAspectRatio();return new t.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(t){return this.getBoundsNoRotateWithMargins(t).rotate(-this.getRotation(),this.getCenter(t))},getBoundsNoRotateWithMargins:function(t){var e=this.getBoundsNoRotate(t),n=this._containerInnerSize.x*this.getZoom(t);return e.x-=this._margins.left/n,e.y-=this._margins.top/n,e.width+=(this._margins.left+this._margins.right)/n,e.height+=(this._margins.top+this._margins.bottom)/n,e},getCenter:function(e){var n,i,r,s,o,u,a=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?a:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),s=(r=1/(i=this.getZoom()))/this.getAspectRatio(),o=new t.Rect(a.x-r/2,a.y-s/2,r,s),u=this._pixelFromPoint(this.zoomPoint,o).minus(n).divide(this._containerInnerSize.x*i),h.plus(u)):h},getZoom:function(t){return t?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(t){return Math.max(Math.min(t,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var n=new t.Rect(e.x,e.y,e.width,e.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=this._contentBoundsNoRotate.x-(n.x+n.width)+i,s=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(r+s)/2:s<0?n.x+=s:r>0&&(n.x+=r)}if(this.wrapVertical);else{var o=this.visibilityRatio*n.height,u=this._contentBoundsNoRotate.y-(n.y+n.height)+o,a=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height-n.y-o;o>this._contentBoundsNoRotate.height?n.y+=(u+a)/2:a<0?n.y+=a:u>0&&(n.y+=u)}return n},_raiseConstraintsEvent:function(t){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:t})},applyConstraints:function(t){var e=this.getZoom(),n=this._applyZoomConstraints(e);e!==n&&this.zoomTo(n,this.zoomPoint,t);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(t),(i.x!==r.x||i.y!==r.y||t)&&this.fitBounds(r.rotate(-this.getRotation()),t),this},ensureVisible:function(t){return this.applyConstraints(t)},_fitBounds:function(e,n){var i=(n=n||{}).immediately||!1,r=n.constraints||!1,s=this.getAspectRatio(),o=e.getCenter(),u=new t.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();u.getAspectRatio()>=s?u.height=u.width/s:u.width=u.height*s,u.x=o.x-u.width/2,u.y=o.y-u.height/2;var a=1/u.width;if(r){var h=u.getAspectRatio(),c=this._applyZoomConstraints(a);a!==c&&(u.width=1/(a=c),u.x=o.x-u.width/2,u.height=u.width/h,u.y=o.y-u.height/2),o=(u=this._applyBoundaryConstraints(u)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(o,!0),this.zoomTo(a,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var f=this.getBounds(),l=this.getZoom();if(0===l||Math.abs(a/l-1)<1e-8)return this.zoomTo(a,!0),this.panTo(o,i);var d=(u=u.rotate(-this.getRotation())).getTopLeft().times(a).minus(f.getTopLeft().times(l)).divide(a-l);return this.zoomTo(a,d,i)},fitBounds:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!1})},fitBoundsWithConstraints:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!0})},fitVertically:function(e){var n=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,e)},fitHorizontally:function(e){var n=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,e)},getConstrainedBounds:function(t){var e;return e=this.getBounds(t),this._applyBoundaryConstraints(e)},panBy:function(e,n){var i=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(e),n)},panTo:function(t,e){return e?(this.centerSpringX.resetTo(t.x),this.centerSpringY.resetTo(t.y)):(this.centerSpringX.springTo(t.x),this.centerSpringY.springTo(t.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:t,immediately:e}),this},zoomBy:function(t,e,n){return this.zoomTo(this.zoomSpring.target.value*t,e,n)},zoomTo:function(e,n,i){var r=this;return this.zoomPoint=n instanceof t.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint((function(){r.zoomSpring.resetTo(e)})):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:n,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=t.positiveModulo(e,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e}),this):this},getRotation:function(){return this.degrees},resize:function(t,e){var n=this.getBoundsNoRotate(),i=n;return this.containerSize.x=t.x,this.containerSize.y=t.y,this._updateContainerInnerSize(),e&&(i.width=n.width*(t.x/this.containerSize.x),i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:e}),this.fitBounds(i,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var t=this;this._adjustCenterSpringsForZoomPoint((function(){t.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var e=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,e},_adjustCenterSpringsForZoomPoint:function(t){if(this.zoomPoint){var e=this.pixelFromPoint(this.zoomPoint,!0);t();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(e),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else t()},deltaPixelsFromPointsNoRotate:function(t,e){return t.times(this._containerInnerSize.x*this.getZoom(e))},deltaPixelsFromPoints:function(t,e){return this.deltaPixelsFromPointsNoRotate(t.rotate(this.getRotation()),e)},deltaPointsFromPixelsNoRotate:function(t,e){return t.divide(this._containerInnerSize.x*this.getZoom(e))},deltaPointsFromPixels:function(t,e){return this.deltaPointsFromPixelsNoRotate(t,e).rotate(-this.getRotation())},pixelFromPointNoRotate:function(t,e){return this._pixelFromPointNoRotate(t,this.getBoundsNoRotate(e))},pixelFromPoint:function(t,e){return this._pixelFromPoint(t,this.getBoundsNoRotate(e))},_pixelFromPointNoRotate:function(e,n){return e.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(t,e){return this._pixelFromPointNoRotate(t.rotate(this.getRotation(),this.getCenter(!0)),e)},pointFromPixelNoRotate:function(e,n){var i=this.getBoundsNoRotate(n);return e.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(t,e){return this.pointFromPixelNoRotate(t,e).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(e,n){if(e instanceof t.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(e,n,!0)}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(e,n){if(e instanceof t.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(e,n,!0)}var r=this._imageToViewportDelta(e,n);return r.x+=this._contentBoundsNoRotate.x,r.y+=this._contentBoundsNoRotate.y,r},imageToViewportRectangle:function(e,n,i,r){var s=e;if(s instanceof t.Rect||(s=new t.Rect(e,n,i,r)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o)return this.viewer.world.getItemAt(0).imageToViewportRectangle(e,n,i,r,!0)}var u=this.imageToViewportCoordinates(s.x,s.y),a=this._imageToViewportDelta(s.width,s.height);return new t.Rect(u.x,u.y,a.x,a.y,s.degrees)},viewportToImageRectangle:function(e,n,i,r){var s=e;if(s instanceof t.Rect||(s=new t.Rect(e,n,i,r)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o)return this.viewer.world.getItemAt(0).viewportToImageRectangle(e,n,i,r,!0)}var u=this.viewportToImageCoordinates(s.x,s.y),a=this._viewportToImageDelta(s.width,s.height);return new t.Rect(u.x,u.y,a.x,a.y,s.degrees)},viewerElementToImageCoordinates:function(t){var e=this.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.pixelFromPoint(e,!0)},windowToImageCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(e){return t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(e).plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(t){return this.pointFromPixel(t,!0)},viewportToViewerElementCoordinates:function(t){return this.pixelFromPoint(t,!0)},viewerElementToViewportRectangle:function(e){return t.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return t.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(e){return t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(e).plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageZoom(e)}return e*(this._containerInnerSize.x/this._contentSizeNoRotate.x*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportZoom(e)}return e*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(t){return this.flipped===t?this:(this.flipped=t,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:t}),this)}}}(OpenSeadragon),function(t){function e(t,e,i,r,s,o,a,h,c){var f=a.getBoundingBox().getTopLeft(),l=a.getBoundingBox().getBottomRight();t.viewer&&t.viewer.raiseEvent("update-level",{tiledImage:t,havedrawn:e,level:r,opacity:s,visibility:o,drawArea:a,topleft:f,bottomright:l,currenttime:h,best:c}),u(t.coverage,r),u(t.loadingCoverage,r);for(var d=t._getCornerTiles(r,f,l),p=d.topLeft,v=d.bottomRight,m=t.source.getNumTiles(r),g=t.viewport.pixelFromPoint(t.viewport.getCenter()),w=p.x;w<=v.x;w++)for(var b=p.y;b<=v.y;b++){if(!t.wrapHorizontal&&!t.wrapVertical){var y=t.source.getTileBounds(r,w,b);if(null===a.intersection(y))continue}c=n(t,i,e,w,b,r,s,o,g,m,h,c)}return c}function n(e,n,r,u,a,h,c,f,l,d,p,v){var m=function(e,n,i,r,s,o,u,a,h,c){var f,l,d,p,v,m,g,w,b;return o[i]||(o[i]={}),o[i][e]||(o[i][e]={}),o[i][e][n]||(d=s.getTileBounds(i,f=(a.x+e%a.x)%a.x,l=(a.y+n%a.y)%a.y),p=s.getTileBounds(i,f,l,!0),v=s.tileExists(i,f,l),m=s.getTileUrl(i,f,l),r.loadTilesWithAjax?(g=s.getTileAjaxHeaders(i,f,l),t.isPlainObject(r.ajaxHeaders)&&(g=t.extend({},r.ajaxHeaders,g))):g=null,w=s.getContext2D?s.getContext2D(i,f,l):void 0,d.x+=(e-f)/a.x,d.y+=c/h*((n-l)/a.y),b=new t.Tile(i,e,n,d,v,m,w,r.loadTilesWithAjax,g,p),f===a.x-1&&(b.isRightMost=!0),l===a.y-1&&(b.isBottomMost=!0),o[i][e][n]=b),(b=o[i][e][n]).lastTouchTime=u,b}(u,a,h,e,e.source,e.tilesMatrix,p,d,e._worldWidthCurrent,e._worldHeightCurrent),g=r;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:m}),o(e.coverage,h,u,a,!1);var w=m.loaded||m.loading||s(e.loadingCoverage,h,u,a);if(o(e.loadingCoverage,h,u,a,w),!m.exists)return v;if(n&&!g&&(s(e.coverage,h,u,a)?o(e.coverage,h,u,a,!0):g=!0),!g)return v;if(function(e,n,i,r,s,o){var u=e.bounds.getTopLeft();u.x*=o._scaleSpring.current.value,u.y*=o._scaleSpring.current.value,u.x+=o._xSpring.current.value,u.y+=o._ySpring.current.value;var a=e.bounds.getSize();a.x*=o._scaleSpring.current.value,a.y*=o._scaleSpring.current.value;var h=i.pixelFromPointNoRotate(u,!0),c=i.pixelFromPointNoRotate(u,!1),f=i.deltaPixelsFromPointsNoRotate(a,!0),l=i.deltaPixelsFromPointsNoRotate(a,!1),d=c.plus(l.divide(2)),p=r.squaredDistanceTo(d);n||(f=f.plus(new t.Point(1,1))),e.isRightMost&&o.wrapHorizontal&&(f.x+=.75),e.isBottomMost&&o.wrapVertical&&(f.y+=.75),e.position=h,e.size=f,e.squaredDistance=p,e.visibility=s}(m,e.source.tileOverlap,e.viewport,l,f,e),!m.loaded)if(m.context2D)i(e,m);else{var b=e._tileCache.getImageRecord(m.cacheKey);b&&i(e,m,b.getImage())}return m.loaded?function(t,e,n,i,r,s,u){var a,h,c=1e3*t.blendTime;if(e.blendStart||(e.blendStart=u),a=u-e.blendStart,h=c?Math.min(1,a/c):1,t.alwaysBlend&&(h*=s),e.opacity=h,t.lastDrawn.push(e),1===h)o(t.coverage,r,n,i,!0),t._hasOpaqueTile=!0;else if(a<c)return!0;return!1}(e,m,u,a,h,c,p)&&(e._needsDraw=!0):m.loading?e._tilesLoading++:w||(v=function(t,e){return t?e.visibility>t.visibility?e:e.visibility==t.visibility&&e.squaredDistance<t.squaredDistance?e:t:e}(v,m)),v}function i(t,e,n,i,r){var s=0;function o(){return s++,u}function u(){0==--s&&(e.loading=!1,e.loaded=!0,e.context2D||t._tileCache.cacheTile({image:n,tile:e,cutoff:i,tiledImage:t}),t._needsDraw=!0)}t.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:t,tileRequest:r,image:n,getCompletionCallback:o}),o()()}function r(t,e,n,i){var r,s,o,u;if(!t[e])return!1;if(void 0===n||void 0===i){for(o in r=t[e])if(r.hasOwnProperty(o))for(u in s=r[o])if(s.hasOwnProperty(u)&&!s[u])return!1;return!0}return void 0===t[e][n]||void 0===t[e][n][i]||!0===t[e][n][i]}function s(t,e,n,i){return void 0===n||void 0===i?r(t,e+1):r(t,e+1,2*n,2*i)&&r(t,e+1,2*n,2*i+1)&&r(t,e+1,2*n+1,2*i)&&r(t,e+1,2*n+1,2*i+1)}function o(e,n,i,r,s){e[n]?(e[n][i]||(e[n][i]={}),e[n][i][r]=s):t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function u(t,e){t[e]={}}t.TiledImage=function(e){var n=this;t.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(e.drawer,"[TiledImage] options.drawer is required"),t.console.assert(e.viewer,"[TiledImage] options.viewer is required"),t.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(e.source,"[TiledImage] options.source is required"),t.console.assert(!e.clip||e.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof t.Rect&&(this._clip=e.clip.clone()),delete e.clip;var i=e.x||0;delete e.x;var r=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var s=1;e.width?(s=e.width,delete e.width,e.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(s=e.height/this.normHeight,delete e.height);var o=e.fitBounds;delete e.fitBounds;var u=e.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete e.fitBoundsPlacement;var a=e.degrees||0;delete e.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,u,!0),this._drawingHandler=function(e){n.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:n},e))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(t){t!==this._fullyLoaded&&(this._fullyLoaded=t,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var t=this._xSpring.update(),e=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(t||e||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(this.getRotation(t),this._getRotationPoint(t))},getBoundsNoRotate:function(e){return e?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var n=this.getBoundsNoRotate(e);if(this._clip){var i=this._clip.times((e?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x);n=new t.Rect(n.x+i.x,n.y+i.y,i.width,i.height)}return n.rotate(this.getRotation(e),this._getRotationPoint(e))},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(e,n,i){var r;return e instanceof t.Point?(i=n,r=e):r=new t.Point(e,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(e,n,i){e instanceof t.Point&&(i=n,n=e.y,e=e.x);var r=this._imageToViewportDelta(e,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(e,n,i,r,s){var o=e;o instanceof t.Rect?s=n:o=new t.Rect(e,n,i,r);var u=this.imageToViewportCoordinates(o.getTopLeft(),s),a=this._imageToViewportDelta(o.width,o.height,s);return new t.Rect(u.x,u.y,a.x,a.y,o.degrees+this.getRotation(s))},viewportToImageRectangle:function(e,n,i,r,s){var o=e;e instanceof t.Rect?s=n:o=new t.Rect(e,n,i,r);var u=this.viewportToImageCoordinates(o.getTopLeft(),s),a=this._viewportToImageDelta(o.width,o.height,s);return new t.Rect(u.x,u.y,a.x,a.y,o.degrees-this.getRotation(s))},viewerElementToImageCoordinates:function(t){var e=this.viewport.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.viewport.pixelFromPoint(e,!0)},windowToImageCoordinates:function(t){var e=t.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(e)},imageToWindowCoordinates:function(t){return this.imageToViewerElementCoordinates(t).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var n=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((e.x-this._xSpring.current.value)/n,(e.y-this._ySpring.current.value)/n,e.width/n,e.height/n,e.degrees)},viewportToImageZoom:function(t){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*t},imageToViewportZoom:function(t){return t/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(t,e){var n=this._xSpring.target.value===t.x&&this._ySpring.target.value===t.y;if(e){if(n&&this._xSpring.current.value===t.x&&this._ySpring.current.value===t.y)return;this._xSpring.resetTo(t.x),this._ySpring.resetTo(t.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(t.x),this._ySpring.springTo(t.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(t,e){this._setScale(t,e)},setHeight:function(t,e){this._setScale(t/this.normHeight,e)},fitBounds:function(e,n,i){var r=t.Placement.properties[n=n||t.Placement.CENTER],s=this.contentAspectX,o=0,u=0,a=1,h=1;if(this._clip&&(s=this._clip.getAspectRatio(),a=this._clip.width/this.source.dimensions.x,h=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>s?(o=this._clip.x/this._clip.height*e.height,u=this._clip.y/this._clip.height*e.height):(o=this._clip.x/this._clip.width*e.width,u=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>s){var c=e.height/h,f=0;r.isHorizontallyCentered?f=(e.width-e.height*s)/2:r.isRight&&(f=e.width-e.height*s),this.setPosition(new t.Point(e.x-o+f,e.y-u),i),this.setHeight(c,i)}else{var l=e.width/a,d=0;r.isVerticallyCentered?d=(e.height-e.width/s)/2:r.isBottom&&(d=e.height-e.width/s),this.setPosition(new t.Point(e.x-o,e.y-u+d),i),this.setWidth(l,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){t.console.assert(!e||e instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),this._clip=e instanceof t.Rect?e.clone():null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(t){t!==this.opacity&&(this.opacity=t,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(t){this._preload=!!t,this._needsDraw=!0},getRotation:function(t){return t?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(t,e){this._degreesSpring.target.value===t&&this._degreesSpring.isAtTargetValue()||(e?this._degreesSpring.resetTo(t):this._degreesSpring.springTo(t),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(t){return this.getBoundsNoRotate(t).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(t){t!==this.compositeOperation&&(this.compositeOperation=t,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(t,e){var n=this._scaleSpring.target.value===t;if(e){if(n&&this._scaleSpring.current.value===t)return;this._scaleSpring.resetTo(t),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(t),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var t=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),e=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(e/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:t=Math.min(t,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var n=this.viewport,s=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var o=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(s=s.intersection(o)))return}for(var u=this._getLevelsInterval(),a=u.lowestLevel,h=u.highestLevel,c=null,f=!1,l=t.now(),d=h;d>=a;d--){var p=!1,v=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(d),!0).x*this._scaleSpring.current.value;if(d===a||!f&&v>=this.minPixelRatio)p=!0,f=!0;else if(!f)continue;var m=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(d),!1).x*this._scaleSpring.current.value,g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,w=this.immediateRender?1:g;if(c=e(this,f,p,d,Math.min(1,(v-.5)/.5),w/Math.abs(w-m),s,l,c),r(this.coverage,d))break}!function(e,n){if(0!==e.opacity&&(0!==n.length||e.placeholderFillStyle)){var i,r,s,o=n[0];o&&(i=e.opacity<1||e.compositeOperation&&"source-over"!==e.compositeOperation||!e._isBottomItem()&&o._hasTransparencyChannel());var u,a=e.viewport.getZoom(!0),h=e.viewportToImageZoom(a);n.length>1&&h>e.smoothTileEdgesMinZoom&&!e.iOSDevice&&e.getRotation(!0)%360==0&&t.supportsCanvas&&(i=!0,r=o.getScaleForEdgeSmoothing(),s=o.getTranslationForEdgeSmoothing(r,e._drawer.getCanvasSize(!1),e._drawer.getCanvasSize(!0))),i&&(r||(u=e.viewport.viewportToViewerElementRectangle(e.getClippedBounds(!0)).getIntegerBoundingBox().times(t.pixelDensityRatio),e._drawer.viewer.viewport.getFlip()&&(0===e.viewport.degrees&&e.getRotation(!0)%360==0||(u.x=e._drawer.viewer.container.clientWidth-(u.x+u.width)))),e._drawer._clear(!0,u)),r||(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:i}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:i}),0===e.viewport.degrees&&e.getRotation(!0)%360==0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip());var c=!1;if(e._clip){e._drawer.saveContext(i);var f=e.imageToViewportRectangle(e._clip,!0);f=f.rotate(-e.getRotation(!0),e._getRotationPoint(!0));var l=e._drawer.viewportToDrawerRectangle(f);r&&(l=l.times(r)),s&&(l=l.translate(s)),e._drawer.setClip(l,i),c=!0}if(e.placeholderFillStyle&&!1===e._hasOpaqueTile){var d=e._drawer.viewportToDrawerRectangle(e.getBounds(!0));r&&(d=d.times(r)),s&&(d=d.translate(s));var p;p="function"==typeof e.placeholderFillStyle?e.placeholderFillStyle(e,e._drawer.context):e.placeholderFillStyle,e._drawer.drawRectangle(d,p,i)}for(var v=n.length-1;v>=0;v--)e._drawer.drawTile(o=n[v],e._drawingHandler,i,r,s),o.beingDrawn=!0,e.viewer&&e.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:o});c&&e._drawer.restoreContext(i),r||(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(i),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(i)),i&&(r&&(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:!1}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:!1})),e._drawer.blendSketch({opacity:e.opacity,scale:r,translate:s,compositeOperation:e.compositeOperation,bounds:u}),r&&(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(!1),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(!1))),r||0===e.viewport.degrees&&e.getRotation(!0)%360==0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip(),function(e,n){if(e.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{e._drawer.drawDebugInfo(r,n.length,i,e)}catch(s){t.console.error(s)}}}(e,n)}}(this,this.lastDrawn),c&&!c.context2D?(function(e,n,r){n.loading=!0,e._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(s,o,u){!function(e,n,r,s,o,u){if(!s)return t.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),e.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:e,time:r,message:o,tileRequest:u}),n.loading=!1,void(n.exists=!1);if(r<e.lastResetTime)return t.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var a=function(){var t=e.source.getClosestLevel();i(e,n,s,t,u)};e._midDraw?window.setTimeout(a,1):a()}(e,n,r,s,o,u)},abort:function(){n.loading=!1}})}(this,c,l),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(e,n,i){var r,s,o,u;this.wrapHorizontal?(r=t.positiveModulo(n.x,1),s=t.positiveModulo(i.x,1)):(r=Math.max(0,n.x),s=Math.min(1,i.x));var a=1/this.source.aspectRatio;this.wrapVertical?(o=t.positiveModulo(n.y,a),u=t.positiveModulo(i.y,a)):(o=Math.max(0,n.y),u=Math.min(a,i.y));var h=this.source.getTileAtPoint(e,new t.Point(r,o)),c=this.source.getTileAtPoint(e,new t.Point(s,u)),f=this.source.getNumTiles(e);return this.wrapHorizontal&&(h.x+=f.x*Math.floor(n.x),c.x+=f.x*Math.floor(i.x)),this.wrapVertical&&(h.y+=f.y*Math.floor(n.y/a),c.y+=f.y*Math.floor(i.y/a)),{topLeft:h,bottomRight:c}}})}(OpenSeadragon),function(t){var e=function(e){t.console.assert(e,"[TileCache.cacheTile] options is required"),t.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage},n=function(e){t.console.assert(e,"[ImageRecord] options is required"),t.console.assert(e.image,"[ImageRecord] options.image is required"),this._image=e.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var t=document.createElement("canvas");t.width=this._image.width,t.height=this._image.height,this._renderedContext=t.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(e){t.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=e},addTile:function(e){t.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===e)return void this._tiles.splice(n,1);t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(e){this._maxImageCacheCount=(e=e||{}).maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){t.console.assert(i,"[TileCache.cacheTile] options is required"),t.console.assert(i.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(i.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(i.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=i.cutoff||0,s=this._tilesLoaded.length,o=this._imagesLoaded[i.tile.cacheKey];if(o||(t.console.assert(i.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),o=this._imagesLoaded[i.tile.cacheKey]=new n({image:i.image}),this._imagesLoadedCount++),o.addTile(i.tile),i.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var u,a,h,c,f=null,l=-1,d=null,p=this._tilesLoaded.length-1;p>=0;p--)(u=(c=this._tilesLoaded[p]).tile).level<=r||u.beingDrawn||(f?((h=u.lastTouchTime)<(a=f.lastTouchTime)||h==a&&u.level>f.level)&&(f=u,l=p,d=c):(f=u,l=p,d=c));f&&l>=0&&(this._unloadTile(d),s=l)}this._tilesLoaded[s]=new e({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(e){var n;t.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(n=this._tilesLoaded[i]).tiledImage===e&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(e){return t.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){t.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var n=e.tile,i=e.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(t){t.World=function(e){var n=this;t.console.assert(e.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(e,n){if(t.console.assert(e,"[World.addItem] item is required"),t.console.assert(e instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return t.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return t.console.assert(e,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,n){t.console.assert(e,"[World.setItemIndex] item is required"),t.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(e);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:i,newIndex:n}))},removeItem:function(e){t.console.assert(e,"[World.removeItem] item is required");var n=t.indexOf(this._items,e);-1!==n&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){var t,e;for(this.viewer._cancelPendingImages(),e=0;e<this._items.length;e++)(t=this._items[e]).removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,e=0;e<n.length;e++)this._raiseRemoveItem(t=n[e])},resetItems:function(){for(var t=0;t<this._items.length;t++)this._items[t].reset()},update:function(){for(var t=!1,e=0;e<this._items.length;e++)t=this._items[e].update()||t;return t},draw:function(){for(var t=0;t<this._items.length;t++)this._items[t].draw();this._needsDraw=!1},needsDraw:function(){for(var t=0;t<this._items.length;t++)if(this._items[t].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(t){this._autoRefigureSizes=t,t&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){var n,i=(e=e||{}).immediately||!1,r=e.layout||t.DEFAULT_SETTINGS.collectionLayout,s=e.columns||t.DEFAULT_SETTINGS.collectionColumns,o=e.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,u=o+(e.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin);n=!e.rows&&s?s:Math.ceil(this._items.length/(e.rows||t.DEFAULT_SETTINGS.collectionRows));var a,h,c,f,l=0,d=0;this.setAutoRefigureSizes(!1);for(var p=0;p<this._items.length;p++)p&&p%n==0&&("horizontal"===r?(d+=u,l=0):(l+=u,d=0)),h=(a=this._items[p]).getBounds(),f=new t.Point(l+(o-(c=h.width>h.height?o:o*(h.width/h.height)))/2,d+(o-c*(h.height/h.width))/2),a.setPosition(f,i),a.setWidth(c,i),"horizontal"===r?l+=u:d+=u;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],s=r.getBounds();this._contentFactor=r.getContentSize().x/s.width;for(var o=r.getClippedBounds().getBoundingBox(),u=o.x,a=o.y,h=o.x+o.width,c=o.y+o.height,f=1;f<this._items.length;f++)s=(r=this._items[f]).getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/s.width),o=r.getClippedBounds().getBoundingBox(),u=Math.min(u,o.x),a=Math.min(a,o.y),h=Math.max(h,o.x+o.width),c=Math.max(c,o.y+o.height);this._homeBounds=new t.Rect(u,a,h-u,c-a),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(e)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(t){this.raiseEvent("remove-item",{item:t})}})}(OpenSeadragon)}));const HV_PERSISTED_STATE_STORAGE_KEY="harmonized-viewer",defaultSettings={language:"en",theme:"light"};function loadPersistedState(){const t=localStorage.getItem(HV_PERSISTED_STATE_STORAGE_KEY);return t?JSON.parse(t):defaultSettings}function savePersistedState(t){localStorage.setItem(HV_PERSISTED_STATE_STORAGE_KEY,JSON.stringify(t))}const setLanguage=t=>e=>{i18next.changeLanguage(t,n=>{if(n)console.error(n);else{const n=loadPersistedState();n.language=t,savePersistedState(n),e({type:TypeKeys.SET_LANGUAGE,language:t})}})},addLanguage=(t,e)=>n=>{n({type:TypeKeys.ADD_LANGUAGE,code:t,name:e})},setOptions=(t,e,n)=>i=>{i({type:TypeKeys.SET_OPTIONS,component:t,name:e,value:n})},setConfiguration=t=>e=>{e({type:TypeKeys.SET_CONFIGURATION,configuration:t})},addOverlay=(t,e,n,i)=>r=>{r({type:TypeKeys.ADD_OVERLAY,id:"abc",x:t,y:e,width:n,height:i})},clearOverlays=()=>t=>{t({type:TypeKeys.CLEAR_OVERLAYS})},iconPlus='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',iconMinus='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',iconRefresh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',iconEnterFullscreen='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',iconExitFullscreen='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',iconChevronLeft='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M30.83 14.83L28 12 16 24l12 12 2.83-2.83L21.66 24z"/></svg>',iconChevronRight='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M20 12l-2.83 2.83L26.34 24l-9.17 9.17L20 36l12-12z"/></svg>',OpenSeadragonComponent=class{constructor(t){registerInstance(this,t),this.allowPaging=!0,this.isFullscreen=!1,this.overlayClick=createEvent(this,"overlayClick",7),this.pageLoad=createEvent(this,"pageLoad",7),this.store=getContext(this,"store")}handleKeyDown(t){t.stopPropagation()}handleZoomRequest(t,e){this.instance&&this.instance.viewport.zoomTo(t.value)}componentWillLoad(){this.store.mapDispatchToProps(this,{viewItem,clearOverlays}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>({currentItemIndex:t.viewport.itemIndex,numberOfItems:t.viewport.items.length,currentItem:selectCurrentItem(t)}))}componentDidLoad(){this.create()}componentDidUpdate(){this.create()}componentDidUnload(){this.storeUnsubscribe()}componentDidRender(){this.drawOverlays()}async openseadragon(){return this.instance}async getOverlays(){return this.overlays}handleOverlayClick(t){console.log("overlay click")}handleCanvasLoad(t,e){t.getFullyLoaded()?setTimeout(e,1):t.addOnceHandler("fully-loaded-change",(function(){e()}))}handleZoomIn(){this.instance&&this.instance.viewport&&(this.instance.viewport.zoomBy(this.instance.zoomPerClick/1),this.instance.viewport.applyConstraints())}handleZoomOut(){this.instance&&this.instance.viewport&&(this.instance.viewport.zoomBy(1/this.instance.zoomPerClick),this.instance.viewport.applyConstraints())}handleRefreshClick(){this.instance&&this.instance.viewport&&this.instance.viewport.goHome()}handleFullscreenToggle(){if(this.instance)if(this.isFullscreen){const t=document;if(t.fullscreenElement&&t.exitFullscreen)t.exitFullscreen();else if(t.msFullscreenElement&&t.msExitFullscreen)t.msExitFullscreen();else if(t.mozFullScreenElement&&t.mozCancelFullscreen)t.mozCancelFullscreen();else{if(!t.webkitFullscreenElement||!t.webkitExitFullscreen)return;t.webkitExitFullscreen()}}else{const t=this.el;if(t)if(t.requestFullscreen)t.requestFullscreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else if(t.mozRequestFullscreen)t.mozRequestFullscreen();else{if(!t.webkitRequestFullscreen)return;t.webkitRequestFullscreen()}}}handleFullscreenExternalToggle(){const t=document,e=document.querySelector("harmonized-viewer");if(t.fullscreenElement===e||t.msFullscreenElement===this.el||t.mozFullScreenElement===e||t.webkitFullscreenElement===e){if(!this.isFullscreen)return void(this.isFullscreen=!0);if(t.fullscreenElement&&t.exitFullscreen)t.exitFullscreen();else if(t.msFullscreenElement&&t.msExitFullscreen)t.msExitFullscreen();else if(t.mozFullScreenElement&&t.mozCancelFullscreen)t.mozCancelFullscreen();else{if(!t.webkitFullscreenElement||!t.webkitExitFullscreen)return;t.webkitExitFullscreen()}this.isFullscreen=!1}else this.isFullscreen&&(this.isFullscreen=!1)}handlePreviousClick(){this.viewItem(this.currentItemIndex-1)}handleNextClick(){this.viewItem(this.currentItemIndex+1)}create(){this.instance&&(this.instance.destroy(),this.instance=null),this.currentItem&&(this.instance=openseadragon({element:this.el.querySelector(".openseadragon"),animationTime:.1,springStiffness:10,showNavigator:!0,navigatorPosition:"TOP_LEFT",showNavigationControl:!1,showSequenceControl:!1,sequenceMode:!0,maxZoomPixelRatio:300,tileSources:this.currentItem.tileSources,initialPage:this.currentItemIndex}),this.instance.addHandler("open",()=>{this.clearOverlays(),this.instance.viewport.zoomTo(this.instance.viewport.getMinZoom(),null,!0),this.instance.viewport.applyConstraints(),this.pageLoad.emit(this.currentItemIndex)}),this.instance.addHandler("page",()=>{}),this.instance.addHandler("tile-loaded",()=>{}),this.instance.addHandler("zoom",()=>{}))}drawOverlays(){this.overlays&&this.overlays.forEach(t=>{const e=this.el.querySelector(`#overlay-${t.id}`);if(e){const n=this.instance.viewport.imageToViewportRectangle(t.x,t.y,t.width,t.height);this.instance.addOverlay(e,n,"TOP_LEFT"),new openseadragon.MouseTracker({element:e,clickHandler:()=>this.overlayClick.emit(t)})}})}render(){return h(Host,null,h("div",{class:"button-topbar-group"},h("harmonized-button",{class:"button-topbar circle",style:{marginBottom:"15px"},icon:this.isFullscreen?iconExitFullscreen:iconEnterFullscreen,size:"sm",title:t(this.isFullscreen?"exitFullscreen":"enterFullscreen"),"aria-label":t(this.isFullscreen?"exitFullscreen":"enterFullscreen"),onClick:this.handleFullscreenToggle.bind(this)}),h("harmonized-button",{class:"button-topbar circle",icon:iconPlus,size:"sm",title:t("zoomIn"),"aria-label":t("zoomIn"),onClick:this.handleZoomIn.bind(this)}),h("harmonized-button",{class:"button-topbar circle",icon:iconMinus,size:"sm",title:t("zoomOut"),"aria-label":t("zoomOut"),onClick:this.handleZoomOut.bind(this)}),h("harmonized-button",{class:"button-topbar circle",icon:iconRefresh,size:"sm",title:t("zoomReset"),"aria-label":t("zoomReset"),onClick:this.handleRefreshClick.bind(this)})),!this.isFullscreen&&this.allowPaging&&h("harmonized-button",{class:"button-navigation button-navigation--prev",icon:iconChevronLeft,size:"lg",title:t("goToPrevPage"),"aria-label":t("goToPrevPage"),onClick:this.handlePreviousClick.bind(this),disabled:0===this.currentItemIndex}),h("div",{class:"openseadragon-container"},h("div",{class:"openseadragon"})),!this.isFullscreen&&this.allowPaging&&h("harmonized-button",{class:"button-navigation button-navigation--next",icon:iconChevronRight,size:"lg",title:t("goToNextPage"),"aria-label":t("goToNextPage"),onClick:this.handleNextClick.bind(this),disabled:this.currentItemIndex+1>=this.numberOfItems}),h("div",{class:"overlays"},this.overlays&&this.overlays.map(t=>h("harmonized-overlay",{id:"overlay-"+t.id,tabindex:"-1"},t.id))))}get el(){return getElement(this)}static get watchers(){return{zoomRequest:["handleZoomRequest"]}}static get style(){return"harmonized-openseadragon{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;width:100%}harmonized-openseadragon .button-navigation{opacity:0;-webkit-transition:opacity .2s ease;transition:opacity .2s ease;position:absolute;z-index:2}harmonized-openseadragon .button-navigation--prev{left:30px}harmonized-openseadragon .button-navigation--next{right:30px}harmonized-openseadragon .button-topbar-group{position:absolute;z-index:4;bottom:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin-right:30px}harmonized-openseadragon .button-topbar-group>.button-topbar{display:inline-block}harmonized-openseadragon .openseadragon-container{position:absolute;top:0;height:100%;width:100%}harmonized-openseadragon .openseadragon{position:relative;height:100%;width:100%}harmonized-openseadragon .openseadragon .navigator{display:none!important}\@media (min-width:720px){harmonized-openseadragon .openseadragon .navigator{display:inline-block!important;margin-right:25px!important}}.harmonized-viewer.harmonized-viewer-fullscreen harmonized-viewport harmonized-openseadragon{background-color:#333}.harmonized-viewer.harmonized-viewer-fullscreen harmonized-viewport harmonized-openseadragon .button-topbar-group{margin-bottom:30px}"}},OverlayComponent=class{constructor(t){registerInstance(this,t)}componentDidLoad(){}handleClick(t){console.log("click"),new Popper(this.el.querySelector("overlay__content"),this.el.querySelector(".overlay-tooltip"),{placement:"left"})}render(){return h(Host,{class:"overlay",onClick:this.handleClick.bind(this)},h("div",{class:"overlay__content"},h("slot",null)))}get el(){return getElement(this)}static get style(){return".overlay{top:0;left:0;width:100px;height:100px;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;opacity:.3;-webkit-transition:opacity .2s ease;transition:opacity .2s ease;cursor:pointer;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-transition:background .2s ease;transition:background .2s ease}.overlay:hover{background-color:hsla(0,0%,100%,.3)}.overlay__content{width:100%;height:100%;display:inline-block;border:4px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box}"}},PagerComponent=class{constructor(t){registerInstance(this,t),this.store=getContext(this,"store")}componentWillLoad(){this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{viewport:{itemIndex:e,items:n}}=t;return{currentItemIndex:e,itemCount:n.length}})}componentDidLoad(){}componentDidUnload(){this.storeUnsubscribe()}componentDidRender(){}render(){return h("div",{role:"toolbar","aria-label":"Toolbar navigation"},h("div",{class:"paging-status"},h("div",{innerHTML:t("pager",{page:this.currentItemIndex+1,pageCount:this.itemCount})})))}get el(){return getElement(this)}static get style(){return"harmonized-pager{margin:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column}harmonized-pager .paging-status{text-align:center}harmonized-pager .paging-status__value{font-weight:500}harmonized-pager .paging-status__spacer--left:before,harmonized-pager .paging-status__spacer--right:after{content:\" \"}harmonized-pager .pager__controls{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}"}},SpinnerComponent=class{constructor(t){registerInstance(this,t)}render(){return h(Host,{role:"progressbar",class:"progress-bar mdc-linear-progress__bar mdc-linear-progress--indeterminate"},h("div",{class:"mdc-linear-progress__buffering-dots"}),h("div",{class:"mdc-linear-progress__buffer"}),h("div",{class:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},h("span",{class:"mdc-linear-progress__bar-inner"})),h("div",{class:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},h("span",{class:"mdc-linear-progress__bar-inner"})))}static get style(){return"harmonized-spinner{display:inline-block}harmonized-spinner .progress-bar{height:3px;z-index:99999;top:0;width:100%;display:block;position:absolute}harmonized-spinner .progress-bar .mdc-linear-progress__bar-inner{border-color:#5772ff}harmonized-spinner .progress-bar .mdc-linear-progress__buffering-dots{background-image:url(\"data:image/svg+xml,%3Csvg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' x=\'0px\' y=\'0px\' enable-background=\'new 0 0 5 2\' xml:space=\'preserve\' viewBox=\'0 0 5 2\' preserveAspectRatio=\'none slice\'%3E%3Ccircle cx=\'1\' cy=\'1\' r=\'1\' fill=\'transparent\'/%3E%3C/svg%3E\")}harmonized-spinner .progress-bar .mdc-linear-progress__buffer{background-color:transparent}harmonized-spinner .progress-bar .mdc-linear-progress__bar-inner{border-top-width:3px}"}};
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var cssClasses$3={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},numbers$1={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},strings$3={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},MDCTopAppBarBaseFoundation=function(t){function e(n){return t.call(this,__assign({},e.defaultAdapter,n))||this}return __extends(e,t),Object.defineProperty(e,"strings",{get:function(){return strings$3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses$3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return numbers$1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter_.notifyNavigationIconClicked()},e}(MDCFoundation),INITIAL_VALUE=0,MDCTopAppBarFoundation=function(t){function e(e){var n=t.call(this,e)||this;return n.wasDocked_=!0,n.isDockedShowing_=!0,n.currentAppBarOffsetTop_=0,n.isCurrentlyBeingResized_=!1,n.resizeThrottleId_=INITIAL_VALUE,n.resizeDebounceId_=INITIAL_VALUE,n.lastScrollPosition_=n.adapter_.getViewportScrollY(),n.topAppBarHeight_=n.adapter_.getTopAppBarHeight(),n}return __extends(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter_.setStyle("top","")},e.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter_.getViewportScrollY(),0),e=t-this.lastScrollPosition_;this.lastScrollPosition_=t,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=e,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout((function(){t.resizeThrottleId_=INITIAL_VALUE,t.throttledResizeHandler_()}),numbers$1.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout((function(){t.handleTargetScroll(),t.isCurrentlyBeingResized_=!1,t.resizeDebounceId_=INITIAL_VALUE}),numbers$1.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var t=this.currentAppBarOffsetTop_>-this.topAppBarHeight_,e=this.currentAppBarOffsetTop_<0&&t;if(e)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==t)return this.isDockedShowing_=t,!0}return e},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var t=this.currentAppBarOffsetTop_;Math.abs(t)>=this.topAppBarHeight_&&(t=-numbers$1.MAX_TOP_APP_BAR_HEIGHT),this.adapter_.setStyle("top",t+"px")}},e.prototype.throttledResizeHandler_=function(){var t=this.adapter_.getTopAppBarHeight();this.topAppBarHeight_!==t&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-t,this.topAppBarHeight_=t),this.handleTargetScroll()},e}(MDCTopAppBarBaseFoundation),MDCFixedTopAppBarFoundation=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasScrolled_=!1,e}return __extends(e,t),e.prototype.handleTargetScroll=function(){this.adapter_.getViewportScrollY()<=0?this.wasScrolled_&&(this.adapter_.removeClass(cssClasses$3.FIXED_SCROLLED_CLASS),this.wasScrolled_=!1):this.wasScrolled_||(this.adapter_.addClass(cssClasses$3.FIXED_SCROLLED_CLASS),this.wasScrolled_=!0)},e}(MDCTopAppBarFoundation),MDCShortTopAppBarFoundation=function(t){function e(e){var n=t.call(this,e)||this;return n.isCollapsed_=!1,n.isAlwaysCollapsed_=!1,n}return __extends(e,t),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.isCollapsed_},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this),this.adapter_.getTotalActionItems()>0&&this.adapter_.addClass(cssClasses$3.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter_.hasClass(cssClasses$3.SHORT_COLLAPSED_CLASS))},e.prototype.setAlwaysCollapsed=function(t){this.isAlwaysCollapsed_=!!t,this.isAlwaysCollapsed_?this.collapse_():this.maybeCollapseBar_()},e.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed_},e.prototype.handleTargetScroll=function(){this.maybeCollapseBar_()},e.prototype.maybeCollapseBar_=function(){this.isAlwaysCollapsed_||(this.adapter_.getViewportScrollY()<=0?this.isCollapsed_&&this.uncollapse_():this.isCollapsed_||this.collapse_())},e.prototype.uncollapse_=function(){this.adapter_.removeClass(cssClasses$3.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!1},e.prototype.collapse_=function(){this.adapter_.addClass(cssClasses$3.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!0},e}(MDCTopAppBarBaseFoundation),MDCTopAppBar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(t){return MDCRipple.attachTo(t)}),this.navIcon_=this.root_.querySelector(strings$3.NAVIGATION_ICON_SELECTOR);var e=[].slice.call(this.root_.querySelectorAll(strings$3.ACTION_ITEM_SELECTOR));this.navIcon_&&e.push(this.navIcon_),this.iconRipples_=e.map((function(e){var n=t(e);return n.unbounded=!0,n})),this.scrollTarget_=window},e.prototype.initialSyncWithDOM=function(){this.handleNavigationClick_=this.foundation_.handleNavigationClick.bind(this.foundation_),this.handleWindowResize_=this.foundation_.handleWindowResize.bind(this.foundation_),this.handleTargetScroll_=this.foundation_.handleTargetScroll.bind(this.foundation_),this.scrollTarget_.addEventListener("scroll",this.handleTargetScroll_),this.navIcon_&&this.navIcon_.addEventListener("click",this.handleNavigationClick_);var t=this.root_.classList.contains(cssClasses$3.FIXED_CLASS);this.root_.classList.contains(cssClasses$3.SHORT_CLASS)||t||window.addEventListener("resize",this.handleWindowResize_)},e.prototype.destroy=function(){this.iconRipples_.forEach((function(t){return t.destroy()})),this.scrollTarget_.removeEventListener("scroll",this.handleTargetScroll_),this.navIcon_&&this.navIcon_.removeEventListener("click",this.handleNavigationClick_);var e=this.root_.classList.contains(cssClasses$3.FIXED_CLASS);this.root_.classList.contains(cssClasses$3.SHORT_CLASS)||e||window.removeEventListener("resize",this.handleWindowResize_),t.prototype.destroy.call(this)},e.prototype.setScrollTarget=function(t){this.scrollTarget_.removeEventListener("scroll",this.handleTargetScroll_),this.scrollTarget_=t,this.handleTargetScroll_=this.foundation_.handleTargetScroll.bind(this.foundation_),this.scrollTarget_.addEventListener("scroll",this.handleTargetScroll_)},e.prototype.getDefaultFoundation=function(){var t=this,e={hasClass:function(e){return t.root_.classList.contains(e)},addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},setStyle:function(e,n){return t.root_.style.setProperty(e,n)},getTopAppBarHeight:function(){return t.root_.clientHeight},notifyNavigationIconClicked:function(){return t.emit(strings$3.NAVIGATION_EVENT,{})},getViewportScrollY:function(){var e=t.scrollTarget_;return void 0!==e.pageYOffset?e.pageYOffset:t.scrollTarget_.scrollTop},getTotalActionItems:function(){return t.root_.querySelectorAll(strings$3.ACTION_ITEM_SELECTOR).length}};return this.root_.classList.contains(cssClasses$3.SHORT_CLASS)?new MDCShortTopAppBarFoundation(e):this.root_.classList.contains(cssClasses$3.FIXED_CLASS)?new MDCFixedTopAppBarFoundation(e):new MDCTopAppBarFoundation(e)},e}(MDCComponent),cssClasses$4={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},strings$4={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},numbers$2={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},CornerBit,Corner;!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"}(CornerBit||(CornerBit={})),function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"}(Corner||(Corner={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var MDCMenuSurfaceFoundation=function(t){function e(n){var i=t.call(this,__assign({},e.defaultAdapter,n))||this;return i.isOpen_=!1,i.isQuickOpen_=!1,i.isHoistedElement_=!1,i.isFixedPosition_=!1,i.openAnimationEndTimerId_=0,i.closeAnimationEndTimerId_=0,i.animationRequestId_=0,i.anchorCorner_=Corner.TOP_START,i.anchorMargin_={top:0,right:0,bottom:0,left:0},i.position_={x:0,y:0},i}return __extends(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses$4},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return strings$4},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return numbers$2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Corner},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,i=t.OPEN;if(!this.adapter_.hasClass(n))throw new Error(n+" class required in root element.");this.adapter_.hasClass(i)&&(this.isOpen_=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_),clearTimeout(this.closeAnimationEndTimerId_),cancelAnimationFrame(this.animationRequestId_)},e.prototype.setAnchorCorner=function(t){this.anchorCorner_=t},e.prototype.setAnchorMargin=function(t){this.anchorMargin_.top=t.top||0,this.anchorMargin_.right=t.right||0,this.anchorMargin_.bottom=t.bottom||0,this.anchorMargin_.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement_=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition_=t},e.prototype.setAbsolutePosition=function(t,e){this.position_.x=this.isFinite_(t)?t:0,this.position_.y=this.isFinite_(e)?e:0},e.prototype.setQuickOpen=function(t){this.isQuickOpen_=t},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.open=function(){var t=this;this.adapter_.saveFocus(),this.isQuickOpen_||this.adapter_.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId_=requestAnimationFrame((function(){t.adapter_.addClass(e.cssClasses.OPEN),t.dimensions_=t.adapter_.getInnerDimensions(),t.autoPosition_(),t.isQuickOpen_?t.adapter_.notifyOpen():t.openAnimationEndTimerId_=setTimeout((function(){t.openAnimationEndTimerId_=0,t.adapter_.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter_.notifyOpen()}),numbers$2.TRANSITION_OPEN_DURATION)})),this.isOpen_=!0},e.prototype.close=function(t){var n=this;void 0===t&&(t=!1),this.isQuickOpen_||this.adapter_.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter_.removeClass(e.cssClasses.OPEN),n.isQuickOpen_?n.adapter_.notifyClose():n.closeAnimationEndTimerId_=setTimeout((function(){n.closeAnimationEndTimerId_=0,n.adapter_.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter_.notifyClose()}),numbers$2.TRANSITION_CLOSE_DURATION)})),this.isOpen_=!1,t||this.maybeRestoreFocus_()},e.prototype.handleBodyClick=function(t){this.adapter_.isElementInContainer(t.target)||this.close()},e.prototype.handleKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&this.close()},e.prototype.autoPosition_=function(){var t;this.measurements_=this.getAutoLayoutMeasurements_();var e=this.getOriginCorner_(),n=this.getMenuSurfaceMaxHeight_(e),i=this.hasBit_(e,CornerBit.BOTTOM)?"bottom":"top",r=this.hasBit_(e,CornerBit.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset_(e),o=this.getVerticalOriginOffset_(e),u=this.measurements_,a=u.anchorSize,h=u.surfaceSize,c=((t={})[r]=s,t[i]=o,t);a.width/h.width>numbers$2.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(r="center"),(this.isHoistedElement_||this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(c),this.adapter_.setTransformOrigin(r+" "+i),this.adapter_.setPosition(c),this.adapter_.setMaxHeight(n?n+"px":"")},e.prototype.getAutoLayoutMeasurements_=function(){var t=this.adapter_.getAnchorDimensions(),e=this.adapter_.getBodyDimensions(),n=this.adapter_.getWindowDimensions(),i=this.adapter_.getWindowScroll();return t||(t={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,left:this.position_.x,width:0,height:0}),{anchorSize:t,bodySize:e,surfaceSize:this.dimensions_,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:i}},e.prototype.getOriginCorner_=function(){var t=Corner.TOP_LEFT,e=this.measurements_,n=e.viewportDistance,i=e.anchorSize,r=e.surfaceSize,s=this.hasBit_(this.anchorCorner_,CornerBit.BOTTOM),o=r.height-(s?n.bottom-this.anchorMargin_.bottom:n.bottom+i.height-this.anchorMargin_.top);o>0&&r.height-(s?n.top+i.height+this.anchorMargin_.bottom:n.top+this.anchorMargin_.top)<o&&(t=this.setBit_(t,CornerBit.BOTTOM));var u=this.adapter_.isRtl(),a=this.hasBit_(this.anchorCorner_,CornerBit.FLIP_RTL),h=this.hasBit_(this.anchorCorner_,CornerBit.RIGHT),c=h&&!u||!h&&a&&u,f=r.width-(c?n.left+i.width+this.anchorMargin_.right:n.left+this.anchorMargin_.left),l=r.width-(c?n.right-this.anchorMargin_.right:n.right+i.width-this.anchorMargin_.left);return(f<0&&c&&u||h&&!c&&f<0||l>0&&f<l)&&(t=this.setBit_(t,CornerBit.RIGHT)),t},e.prototype.getMenuSurfaceMaxHeight_=function(t){var n=this.measurements_.viewportDistance,i=0,r=this.hasBit_(t,CornerBit.BOTTOM),s=this.hasBit_(this.anchorCorner_,CornerBit.BOTTOM),o=e.numbers.MARGIN_TO_EDGE;return r?(i=n.top+this.anchorMargin_.top-o,s||(i+=this.measurements_.anchorSize.height)):(i=n.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-o,s&&(i-=this.measurements_.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset_=function(t){var e=this.measurements_.anchorSize,n=this.hasBit_(t,CornerBit.RIGHT),i=this.hasBit_(this.anchorCorner_,CornerBit.RIGHT);if(n){var r=i?e.width-this.anchorMargin_.left:this.anchorMargin_.right;return this.isHoistedElement_||this.isFixedPosition_?r-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):r}return i?e.width-this.anchorMargin_.right:this.anchorMargin_.left},e.prototype.getVerticalOriginOffset_=function(t){var e=this.measurements_.anchorSize,n=this.hasBit_(t,CornerBit.BOTTOM),i=this.hasBit_(this.anchorCorner_,CornerBit.BOTTOM);return n?i?e.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:i?e.height+this.anchorMargin_.bottom:this.anchorMargin_.top},e.prototype.adjustPositionForHoistedElement_=function(t){var e,n,i=this.measurements_,r=i.windowScroll,s=i.viewportDistance,o=Object.keys(t);try{for(var u=__values(o),a=u.next();!a.done;a=u.next()){var h=a.value,c=t[h]||0;c+=s[h],this.isFixedPosition_||("top"===h?c+=r.y:"bottom"===h?c-=r.y:"left"===h?c+=r.x:c-=r.x),t[h]=c}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}},e.prototype.maybeRestoreFocus_=function(){var t=this.adapter_.isFocused(),e=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(t||e)&&this.adapter_.restoreFocus()},e.prototype.hasBit_=function(t,e){return Boolean(t&e)},e.prototype.setBit_=function(t,e){return t|e},e.prototype.isFinite_=function(t){return"number"==typeof t&&isFinite(t)},e}(MDCFoundation),cachedCssTransformPropertyName_;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function getTransformPropertyName(t,e){if(void 0===e&&(e=!1),void 0===cachedCssTransformPropertyName_||e){var n=t.document.createElement("div");cachedCssTransformPropertyName_="transform"in n.style?"transform":"webkitTransform"}return cachedCssTransformPropertyName_}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var MDCMenuSurface=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this,e=this.root_.parentElement;this.anchorElement=e&&e.classList.contains(cssClasses$4.ANCHOR)?e:null,this.root_.classList.contains(cssClasses$4.FIXED)&&this.setFixedPosition(!0),this.handleKeydown_=function(e){return t.foundation_.handleKeydown(e)},this.handleBodyClick_=function(e){return t.foundation_.handleBodyClick(e)},this.registerBodyClickListener_=function(){return document.body.addEventListener("click",t.handleBodyClick_)},this.deregisterBodyClickListener_=function(){return document.body.removeEventListener("click",t.handleBodyClick_)},this.listen("keydown",this.handleKeydown_),this.listen(strings$4.OPENED_EVENT,this.registerBodyClickListener_),this.listen(strings$4.CLOSED_EVENT,this.deregisterBodyClickListener_)},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten(strings$4.OPENED_EVENT,this.registerBodyClickListener_),this.unlisten(strings$4.CLOSED_EVENT,this.deregisterBodyClickListener_),t.prototype.destroy.call(this)},e.prototype.isOpen=function(){return this.foundation_.isOpen()},e.prototype.open=function(){this.foundation_.open()},e.prototype.close=function(t){void 0===t&&(t=!1),this.foundation_.close(t)},Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.foundation_.setQuickOpen(t)},enumerable:!0,configurable:!0}),e.prototype.setIsHoisted=function(t){this.foundation_.setIsHoisted(t)},e.prototype.setMenuSurfaceAnchorElement=function(t){this.anchorElement=t},e.prototype.setFixedPosition=function(t){t?this.root_.classList.add(cssClasses$4.FIXED):this.root_.classList.remove(cssClasses$4.FIXED),this.foundation_.setFixedPosition(t)},e.prototype.setAbsolutePosition=function(t,e){this.foundation_.setAbsolutePosition(t,e),this.setIsHoisted(!0)},e.prototype.setAnchorCorner=function(t){this.foundation_.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.foundation_.setAnchorMargin(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new MDCMenuSurfaceFoundation({addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},hasClass:function(e){return t.root_.classList.contains(e)},hasAnchor:function(){return!!t.anchorElement},notifyClose:function(){return t.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT,{})},notifyOpen:function(){return t.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT,{})},isElementInContainer:function(e){return t.root_.contains(e)},isRtl:function(){return"rtl"===getComputedStyle(t.root_).getPropertyValue("direction")},setTransformOrigin:function(e){var n=getTransformPropertyName(window)+"-origin";t.root_.style.setProperty(n,e)},isFocused:function(){return document.activeElement===t.root_},saveFocus:function(){t.previousFocus_=document.activeElement},restoreFocus:function(){t.root_.contains(document.activeElement)&&t.previousFocus_&&t.previousFocus_.focus&&t.previousFocus_.focus()},getInnerDimensions:function(){return{width:t.root_.offsetWidth,height:t.root_.offsetHeight}},getAnchorDimensions:function(){return t.anchorElement?t.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(e){t.root_.style.left="left"in e?e.left+"px":"",t.root_.style.right="right"in e?e.right+"px":"",t.root_.style.top="top"in e?e.top+"px":"",t.root_.style.bottom="bottom"in e?e.bottom+"px":""},setMaxHeight:function(e){t.root_.style.maxHeight=e}})},e}(MDCComponent),cssClasses$5={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},strings$5={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},numbers$3={FOCUS_ROOT_INDEX:-1},DefaultFocusState;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */!function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"}(DefaultFocusState||(DefaultFocusState={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var MDCMenuFoundation=function(t){function e(n){var i=t.call(this,__assign({},e.defaultAdapter,n))||this;return i.closeAnimationEndTimerId_=0,i.defaultFocusState_=DefaultFocusState.LIST_ROOT,i}return __extends(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses$5},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return strings$5},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return numbers$3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter_.closeSurface()},e.prototype.handleKeydown=function(t){("Tab"===t.key||9===t.keyCode)&&this.adapter_.closeSurface(!0)},e.prototype.handleItemAction=function(t){var e=this,n=this.adapter_.getElementIndex(t);n<0||(this.adapter_.notifySelected({index:n}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var n=e.adapter_.getElementIndex(t);e.adapter_.isSelectableItemAtIndex(n)&&e.setSelectedIndex(n)}),MDCMenuSurfaceFoundation.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case DefaultFocusState.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);break;case DefaultFocusState.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case DefaultFocusState.NONE:break;default:this.adapter_.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState_=t},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex_(t),!this.adapter_.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var e=this.adapter_.getSelectedSiblingOfItemAtIndex(t);e>=0&&(this.adapter_.removeAttributeFromElementAtIndex(e,strings$5.ARIA_CHECKED_ATTR),this.adapter_.removeClassFromElementAtIndex(e,cssClasses$5.MENU_SELECTED_LIST_ITEM)),this.adapter_.addClassToElementAtIndex(t,cssClasses$5.MENU_SELECTED_LIST_ITEM),this.adapter_.addAttributeToElementAtIndex(t,strings$5.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(t,e){this.validatedIndex_(t),e?(this.adapter_.removeClassFromElementAtIndex(t,cssClasses.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(t,strings$5.ARIA_DISABLED_ATTR,"false")):(this.adapter_.addClassToElementAtIndex(t,cssClasses.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(t,strings$5.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(t){var e=this.adapter_.getMenuItemCount();if(!(t>=0&&t<e))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(MDCFoundation),MDCMenu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e){void 0===t&&(t=function(t){return new MDCMenuSurface(t)}),void 0===e&&(e=function(t){return new MDCList(t)}),this.menuSurfaceFactory_=t,this.listFactory_=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.menuSurface_=this.menuSurfaceFactory_(this.root_);var e=this.root_.querySelector(strings$5.LIST_SELECTOR);e?(this.list_=this.listFactory_(e),this.list_.wrapFocus=!0):this.list_=null,this.handleKeydown_=function(e){return t.foundation_.handleKeydown(e)},this.handleItemAction_=function(e){return t.foundation_.handleItemAction(t.items[e.detail.index])},this.handleMenuSurfaceOpened_=function(){return t.foundation_.handleMenuSurfaceOpened()},this.menuSurface_.listen(MDCMenuSurfaceFoundation.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.listen("keydown",this.handleKeydown_),this.listen(MDCListFoundation.strings.ACTION_EVENT,this.handleItemAction_)},e.prototype.destroy=function(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(MDCMenuSurfaceFoundation.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.unlisten("keydown",this.handleKeydown_),this.unlisten(MDCListFoundation.strings.ACTION_EVENT,this.handleItemAction_),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"open",{get:function(){return this.menuSurface_.isOpen()},set:function(t){t?this.menuSurface_.open():this.menuSurface_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(t){this.list_&&(this.list_.wrapFocus=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.menuSurface_.quickOpen=t},enumerable:!0,configurable:!0}),e.prototype.setDefaultFocusState=function(t){this.foundation_.setDefaultFocusState(t)},e.prototype.setAnchorCorner=function(t){this.menuSurface_.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.menuSurface_.setAnchorMargin(t)},e.prototype.setSelectedIndex=function(t){this.foundation_.setSelectedIndex(t)},e.prototype.setEnabled=function(t,e){this.foundation_.setEnabled(t,e)},e.prototype.getOptionByIndex=function(t){return t<this.items.length?this.items[t]:null},e.prototype.setFixedPosition=function(t){this.menuSurface_.setFixedPosition(t)},e.prototype.setIsHoisted=function(t){this.menuSurface_.setIsHoisted(t)},e.prototype.setAbsolutePosition=function(t,e){this.menuSurface_.setAbsolutePosition(t,e)},e.prototype.setAnchorElement=function(t){this.menuSurface_.anchorElement=t},e.prototype.getDefaultFoundation=function(){var t=this;return new MDCMenuFoundation({addClassToElementAtIndex:function(e,n){t.items[e].classList.add(n)},removeClassFromElementAtIndex:function(e,n){t.items[e].classList.remove(n)},addAttributeToElementAtIndex:function(e,n,i){t.items[e].setAttribute(n,i)},removeAttributeFromElementAtIndex:function(e,n){t.items[e].removeAttribute(n)},elementContainsClass:function(t,e){return t.classList.contains(e)},closeSurface:function(e){return t.menuSurface_.close(e)},getElementIndex:function(e){return t.items.indexOf(e)},notifySelected:function(e){return t.emit(strings$5.SELECTED_EVENT,{index:e.index,item:t.items[e.index]})},getMenuItemCount:function(){return t.items.length},focusItemAtIndex:function(e){return t.items[e].focus()},focusListRoot:function(){return t.root_.querySelector(strings$5.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(e){return!!closest(t.items[e],"."+cssClasses$5.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(e){var n=closest(t.items[e],"."+cssClasses$5.MENU_SELECTION_GROUP).querySelector("."+cssClasses$5.MENU_SELECTED_LIST_ITEM);return n?t.items.indexOf(n):-1}})},e}(MDCComponent),cssClasses$6={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},strings$6={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},numbers$4={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},ARIA_LIVE_DELAY_MS=numbers$4.ARIA_LIVE_DELAY_MS,ARIA_LIVE_LABEL_TEXT_ATTR=strings$6.ARIA_LIVE_LABEL_TEXT_ATTR;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function announce(t,e){void 0===e&&(e=t);var n=t.getAttribute("aria-live"),i=e.textContent.trim();i&&n&&(t.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(ARIA_LIVE_LABEL_TEXT_ATTR,i),setTimeout((function(){t.setAttribute("aria-live",n),e.removeAttribute(ARIA_LIVE_LABEL_TEXT_ATTR),e.textContent=i}),ARIA_LIVE_DELAY_MS))}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var OPENING=cssClasses$6.OPENING,OPEN=cssClasses$6.OPEN,CLOSING=cssClasses$6.CLOSING,REASON_ACTION=strings$6.REASON_ACTION,REASON_DISMISS=strings$6.REASON_DISMISS,MDCSnackbarFoundation=function(t){function e(n){var i=t.call(this,__assign({},e.defaultAdapter,n))||this;return i.isOpen_=!1,i.animationFrame_=0,i.animationTimer_=0,i.autoDismissTimer_=0,i.autoDismissTimeoutMs_=numbers$4.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,i.closeOnEscape_=!0,i}return __extends(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return cssClasses$6},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return strings$6},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return numbers$4},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter_.removeClass(OPENING),this.adapter_.removeClass(OPEN),this.adapter_.removeClass(CLOSING)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter_.notifyOpening(),this.adapter_.removeClass(CLOSING),this.adapter_.addClass(OPENING),this.adapter_.announce(),this.runNextAnimationFrame_((function(){t.adapter_.addClass(OPEN),t.animationTimer_=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd_(),t.adapter_.notifyOpened(),e!==numbers$4.INDETERMINATE&&(t.autoDismissTimer_=setTimeout((function(){t.close(REASON_DISMISS)}),e))}),numbers$4.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter_.notifyClosing(t),this.adapter_.addClass(cssClasses$6.CLOSING),this.adapter_.removeClass(cssClasses$6.OPEN),this.adapter_.removeClass(cssClasses$6.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){e.handleAnimationTimerEnd_(),e.adapter_.notifyClosed(t)}),numbers$4.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},e.prototype.setTimeoutMs=function(t){var e=numbers$4.MIN_AUTO_DISMISS_TIMEOUT_MS,n=numbers$4.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===numbers$4.INDETERMINATE||t<=n&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+""+n+"\n        (or "+numbers$4.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs_=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape_=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(REASON_DISMISS)},e.prototype.handleActionButtonClick=function(){this.close(REASON_ACTION)},e.prototype.handleActionIconClick=function(){this.close(REASON_DISMISS)},e.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter_.removeClass(cssClasses$6.OPENING),this.adapter_.removeClass(cssClasses$6.CLOSING)},e.prototype.runNextAnimationFrame_=function(t){var e=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){e.animationFrame_=0,clearTimeout(e.animationTimer_),e.animationTimer_=setTimeout(t,0)}))},e}(MDCFoundation),SURFACE_SELECTOR=strings$6.SURFACE_SELECTOR,LABEL_SELECTOR=strings$6.LABEL_SELECTOR,ACTION_SELECTOR=strings$6.ACTION_SELECTOR,DISMISS_SELECTOR=strings$6.DISMISS_SELECTOR,OPENING_EVENT=strings$6.OPENING_EVENT,OPENED_EVENT=strings$6.OPENED_EVENT,CLOSING_EVENT=strings$6.CLOSING_EVENT,CLOSED_EVENT=strings$6.CLOSED_EVENT,MDCSnackbar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(){return announce}),this.announce_=t()},e.prototype.initialSyncWithDOM=function(){var t=this;this.surfaceEl_=this.root_.querySelector(SURFACE_SELECTOR),this.labelEl_=this.root_.querySelector(LABEL_SELECTOR),this.actionEl_=this.root_.querySelector(ACTION_SELECTOR),this.handleKeyDown_=function(e){return t.foundation_.handleKeyDown(e)},this.handleSurfaceClick_=function(e){var n=e.target;t.isActionButton_(n)?t.foundation_.handleActionButtonClick(e):t.isActionIcon_(n)&&t.foundation_.handleActionIconClick(e)},this.registerKeyDownHandler_(this.handleKeyDown_),this.registerSurfaceClickHandler_(this.handleSurfaceClick_)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterKeyDownHandler_(this.handleKeyDown_),this.deregisterSurfaceClickHandler_(this.handleSurfaceClick_)},e.prototype.open=function(){this.foundation_.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation_.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new MDCSnackbarFoundation({addClass:function(e){return t.root_.classList.add(e)},announce:function(){return t.announce_(t.labelEl_)},notifyClosed:function(e){return t.emit(CLOSED_EVENT,e?{reason:e}:{})},notifyClosing:function(e){return t.emit(CLOSING_EVENT,e?{reason:e}:{})},notifyOpened:function(){return t.emit(OPENED_EVENT,{})},notifyOpening:function(){return t.emit(OPENING_EVENT,{})},removeClass:function(e){return t.root_.classList.remove(e)}})},Object.defineProperty(e.prototype,"timeoutMs",{get:function(){return this.foundation_.getTimeoutMs()},set:function(t){this.foundation_.setTimeoutMs(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnEscape",{get:function(){return this.foundation_.getCloseOnEscape()},set:function(t){this.foundation_.setCloseOnEscape(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation_.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelText",{get:function(){return this.labelEl_.textContent},set:function(t){this.labelEl_.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionButtonText",{get:function(){return this.actionEl_.textContent},set:function(t){this.actionEl_.textContent=t},enumerable:!0,configurable:!0}),e.prototype.registerKeyDownHandler_=function(t){this.listen("keydown",t)},e.prototype.deregisterKeyDownHandler_=function(t){this.unlisten("keydown",t)},e.prototype.registerSurfaceClickHandler_=function(t){this.surfaceEl_.addEventListener("click",t)},e.prototype.deregisterSurfaceClickHandler_=function(t){this.surfaceEl_.removeEventListener("click",t)},e.prototype.isActionButton_=function(t){return Boolean(closest(t,ACTION_SELECTOR))},e.prototype.isActionIcon_=function(t){return Boolean(closest(t,DISMISS_SELECTOR))},e}(MDCComponent);const iconInfo='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" /></svg>',iconInfoFull='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>',TopbarComponent=class{constructor(t){registerInstance(this,t),this.fullscreenToggle=createEvent(this,"_hvFullscreenToggle",7),this.updatedEvent=createEvent(this,"harmonizedViewerTopBarUpdated",7),this.store=getContext(this,"store")}componentWillLoad(){this.store.mapDispatchToProps(this,{toggleFullscreen,toggleDrawer}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{document:{theme:e},viewport:{title:n,itemIndex:i,items:r,fullscreen:s,infoShown:o}}=t;return{title:n,currentItemIndex:i,items:r,fullscreen:s,infoShown:o,theme:e}})}componentDidLoad(){this.topAppBar=new MDCTopAppBar(this.el.querySelector(".mdc-top-app-bar"));const t=this.el.querySelector("#menu-language");t&&(this.menuLanguage=new MDCMenu(t),this.menuLanguage.setAnchorCorner(Corner.BOTTOM_LEFT),this.menuLanguage.quickOpen=!0);const e=this.el.querySelector(".mdc-snackbar");e&&(this.snackBar=new MDCSnackbar(e))}componentDidUpdate(){this.updatedEvent.emit()}componentDidUnload(){this.storeUnsubscribe()}handleDisplayClick(){this.menuDisplay.open=!this.menuDisplay.open}render(){const e=this.items[this.currentItemIndex];return e&&resolveViewportType(e.contentType),h(Host,null,h("div",{class:"mdc-top-app-bar mdc-top-app-bar--fixed mdc-top-app-bar--dense"},h("div",{class:"mdc-top-app-bar__row"},h("section",{class:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"}),h("section",{class:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end",role:"toolbar"},h("div",{class:"group"},h("harmonized-button",{class:"mdc-top-app-bar__action-item",style:{display:"inline"},icon:this.infoShown?iconInfoFull:iconInfo,size:"sm",label:"","aria-label":t(this.infoShown?"hideInfo":"showInfo"),tooltip:t(this.infoShown?"hideInfo":"showInfo"),onClick:this.toggleDrawer}))))))}get el(){return getElement(this)}static get style(){return"harmonized-topbar{position:relative;display:inline-block}harmonized-topbar .mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary,#6200ee);color:#fff;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;z-index:4}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary,#fff)}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:before{background-color:#fff}\@supports not (-ms-ime-align:auto){harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:before{background-color:var(--mdc-theme-on-primary,#fff)}}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:hover:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover:before{opacity:.08}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused:before,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active:after,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}harmonized-topbar .mdc-top-app-bar__row{display:-ms-flexbox;display:flex;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:64px}harmonized-topbar .mdc-top-app-bar__section{display:-ms-inline-flexbox;display:inline-flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center;min-width:0;padding:8px 12px;z-index:1}harmonized-topbar .mdc-top-app-bar__section--align-start{-ms-flex-pack:start;justify-content:flex-start;-ms-flex-order:-1;order:-1}harmonized-topbar .mdc-top-app-bar__section--align-end{-ms-flex-pack:end;justify-content:flex-end;-ms-flex-order:1;order:1}harmonized-topbar .mdc-top-app-bar__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] harmonized-topbar .mdc-top-app-bar__title,harmonized-topbar .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}harmonized-topbar.mdc-top-app-bar--short-collapsed{border-radius:0 0 24px 0}[dir=rtl] harmonized-topbar.mdc-top-app-bar--short-collapsed,harmonized-topbar.mdc-top-app-bar--short-collapsed[dir=rtl]{border-radius:0 0 0 24px}harmonized-topbar .mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;-webkit-transition:width .25s cubic-bezier(.4,0,.2,1);transition:width .25s cubic-bezier(.4,0,.2,1)}[dir=rtl] harmonized-topbar .mdc-top-app-bar--short,harmonized-topbar .mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}harmonized-topbar .mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}harmonized-topbar .mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}harmonized-topbar .mdc-top-app-bar--short .mdc-top-app-bar__title{-webkit-transition:opacity .2s cubic-bezier(.4,0,.2,1);transition:opacity .2s cubic-bezier(.4,0,.2,1);opacity:1}harmonized-topbar .mdc-top-app-bar--short-collapsed{-webkit-box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);width:56px;-webkit-transition:width .3s cubic-bezier(.4,0,.2,1);transition:width .3s cubic-bezier(.4,0,.2,1)}harmonized-topbar .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}harmonized-topbar .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{-webkit-transition:padding .15s cubic-bezier(.4,0,.2,1);transition:padding .15s cubic-bezier(.4,0,.2,1)}harmonized-topbar .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}harmonized-topbar .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] harmonized-topbar .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,harmonized-topbar .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}harmonized-topbar .mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}harmonized-topbar .mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}harmonized-topbar .mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] harmonized-topbar .mdc-top-app-bar--dense .mdc-top-app-bar__title,harmonized-topbar .mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}harmonized-topbar .mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}harmonized-topbar .mdc-top-app-bar--prominent .mdc-top-app-bar__title{-ms-flex-item-align:end;align-self:flex-end;padding-bottom:2px}harmonized-topbar .mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,harmonized-topbar .mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{-ms-flex-item-align:start;align-self:flex-start}harmonized-topbar .mdc-top-app-bar--fixed,harmonized-topbar .mdc-top-app-bar--fixed-scrolled{-webkit-transition:-webkit-box-shadow .2s linear;transition:-webkit-box-shadow .2s linear;transition:box-shadow .2s linear;transition:box-shadow .2s linear,-webkit-box-shadow .2s linear}harmonized-topbar .mdc-top-app-bar--fixed-scrolled{-webkit-box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}harmonized-topbar .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}harmonized-topbar .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}harmonized-topbar .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] harmonized-topbar .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,harmonized-topbar .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}harmonized-topbar .mdc-top-app-bar--fixed-adjust{padding-top:64px}harmonized-topbar .mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}harmonized-topbar .mdc-top-app-bar--short-fixed-adjust{padding-top:56px}harmonized-topbar .mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}harmonized-topbar .mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}\@media (max-width:599px){harmonized-topbar .mdc-top-app-bar__row{height:56px}harmonized-topbar .mdc-top-app-bar__section{padding:4px}harmonized-topbar .mdc-top-app-bar--short{-webkit-transition:width .2s cubic-bezier(.4,0,.2,1);transition:width .2s cubic-bezier(.4,0,.2,1)}harmonized-topbar .mdc-top-app-bar--short-collapsed{-webkit-transition:width .25s cubic-bezier(.4,0,.2,1);transition:width .25s cubic-bezier(.4,0,.2,1)}harmonized-topbar .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] harmonized-topbar .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,harmonized-topbar .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}harmonized-topbar .mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}harmonized-topbar .mdc-top-app-bar--fixed-adjust{padding-top:56px}}harmonized-topbar .mdc-top-app-bar{z-index:3;top:0!important;position:absolute;background-color:transparent!important;-webkit-box-shadow:none!important;box-shadow:none!important}harmonized-topbar .mdc-top-app-bar--fixed{position:relative;z-index:1}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__title{color:#fff;font-size:16px;font-weight:400}harmonized-topbar .mdc-top-app-bar .mdc-menu{border-radius:1px}harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-menu__selection-group-icon{fill:#828282}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__section{padding:0}harmonized-topbar .mdc-top-app-bar .mdc-top-app-bar__action-item{margin-right:10px}harmonized-topbar .mdc-top-app-bar .mdc-menu{background-color:transparent}harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-list{color:#fff}harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-list .mdc-list-item--selected{color:#fff;background-color:#484848}harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-list .mdc-list-item--selected:after,harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-list .mdc-list-item--selected:before{background-color:#484848}harmonized-topbar .mdc-top-app-bar .mdc-menu .mdc-list .mdc-list-item:hover{background-color:#222}"}},VideoComponent=class{constructor(t){registerInstance(this,t),this.customVideoPlayer=!1,this.customVideoPlayerRender=createEvent(this,"hvCustomVideoPlayerRender",7),this.store=getContext(this,"store")}componentWillLoad(){this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{document:{configuration:{customVideoPlayer:e}}}=t;return{customVideoPlayer:e}})}componentDidLoad(){this.customVideoPlayer&&this.customVideoPlayerRender.emit({url:this.url,contentType:this.contentType})}componentDidUnload(){this.storeUnsubscribe()}componentDidUpdate(){this.customVideoPlayer&&this.customVideoPlayerRender.emit({url:this.url,contentType:this.contentType})}render(){if(this.url)return h(Host,{class:"video"},this.customVideoPlayer?h("div",{id:"harmonized-viewer-custom-video"}):h("div",{id:"harmonized-viewer-html5-video"},h("video",{controls:!0},h("source",{src:this.url,type:this.contentType},t("browserNoVideo")))))}get el(){return getElement(this)}static get style(){return"harmonized-video{overflow:hidden}harmonized-video,harmonized-video #harmonized-viewer-html5-video>video{display:block;width:100%}"}};function symbolObservablePonyfill(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var root;root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global$1?global$1:"undefined"!=typeof module?module:Function("return this")();var result=symbolObservablePonyfill(root),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var r=t,s=e,o=[],u=o,a=!1;function h(){u===o&&(u=o.slice())}function c(){if(a)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(a)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return h(),u.push(t),function(){if(e){if(a)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,h();var n=u.indexOf(t);u.splice(n,1)}}}function l(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(a)throw new Error("Reducers may not dispatch actions.");try{a=!0,s=r(s,t)}finally{a=!1}for(var e=o=u,n=0;n<e.length;n++)(0,e[n])();return t}return l({type:ActionTypes.INIT}),(i={dispatch:l,subscribe:f,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");r=t,l({type:ActionTypes.REPLACE})}})[result]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[result]=function(){return this},t},i}function getUndefinedStateErrorMessage(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function assertReducerShape(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}function combineReducers(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];"function"==typeof t[r]&&(n[r]=t[r])}var s,o=Object.keys(n);try{assertReducerShape(n)}catch(u){s=u}return function(t,e){if(void 0===t&&(t={}),s)throw s;for(var i=!1,r={},u=0;u<o.length;u++){var a=o[u],h=t[a],c=(0,n[a])(h,e);if(void 0===c){var f=getUndefinedStateErrorMessage(a,e);throw new Error(f)}r[a]=c,i=i||c!==h}return i?r:t}}function bindActionCreator(t,e){return function(){return e(t.apply(this,arguments))}}function bindActionCreators(t,e){if("function"==typeof t)return bindActionCreator(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var i in t){var r=t[i];"function"==typeof r&&(n[i]=bindActionCreator(r,e))}return n}function _defineProperty$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ownKeys(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach((function(e){_defineProperty$1(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function compose(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function applyMiddleware(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},s=e.map((function(t){return t(r)}));return _objectSpread2({},n,{dispatch:i=compose.apply(void 0,s)(n.dispatch)})}}}const redux=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:ActionTypes,applyMiddleware,bindActionCreators,combineReducers,compose,createStore});function createThunkMiddleware(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(r){return"function"==typeof r?r(n,i,t):e(r)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const getInitialState=()=>({configuration:null,error:null,language:null,availableLanguages:[],options:[],overlays:[],tags:[],theme:"light",themes:["light","dark"]}),document$1=(t=getInitialState(),e)=>{switch(e.type){case TypeKeys.SET_CONFIGURATION:return Object.assign(Object.assign({},t),{configuration:e.configuration});case TypeKeys.SET_ERROR:return Object.assign(Object.assign({},t),{error:{code:e.errorCode,severity:e.severity,optionalParameters:e.optionalParameters}});case TypeKeys.SET_LANGUAGE:return Object.assign(Object.assign({},t),{language:t.availableLanguages.find(t=>t.code&&t.code==e.language)});case TypeKeys.SET_THEME:return Object.assign(Object.assign({},t),{theme:e.theme});case TypeKeys.SET_OPTIONS:return Object.assign(Object.assign({},t),{options:[...t.options,{component:e.component,name:e.name,value:e.value}]});case TypeKeys.ADD_LANGUAGE:return Object.assign(Object.assign({},t),{availableLanguages:[...t.availableLanguages,{code:e.code,name:e.name}]});case TypeKeys.ADD_OVERLAY:return Object.assign(Object.assign({},t),{overlays:[...t.overlays,{id:e.id,x:e.x,y:e.y,width:e.width,height:e.height}]});case TypeKeys.CLEAR_OVERLAYS:return Object.assign(Object.assign({},t),{overlays:[]})}return t},getInitialState$1=()=>({fetching:!1,fetched:!1,error:null,manifest:null}),manifest=(t=getInitialState$1(),e)=>{switch(e.type){case TypeKeys.FETCHING_MANIFEST:return Object.assign(Object.assign({},t),{fetching:!0,error:null});case TypeKeys.SET_MANIFEST:return Object.assign(Object.assign({},t),{fetching:!1,fetched:!0,manifest:e.manifest});case TypeKeys.RAISE_MANIFEST_ERROR:return Object.assign(Object.assign({},t),{fetching:!1,fetched:!1,error:e.error,manifest:null})}return t},getInitialState$2=()=>({title:[],metadata:[],itemIndex:0,items:[],fullscreen:!1,infoShown:!1}),viewport=(t=getInitialState$2(),e)=>{switch(e.type){case TypeKeys.VIEW_ITEM:return Object.assign(Object.assign({},t),{itemIndex:e.index});case TypeKeys.LOAD_VIEW:return Object.assign(Object.assign({},t),{title:e.title,metadata:e.metadata,itemIndex:e.index,items:e.items});case TypeKeys.TOGGLE_FULLSCREEN:return Object.assign(Object.assign({},t),{fullscreen:!t.fullscreen});case TypeKeys.TOGGLE_DRAWER:return Object.assign(Object.assign({},t),{infoShown:!t.infoShown})}return t},rootReducer=combineReducers({document:document$1,manifest,viewport});var developmentOnly=createCommonjsModule((function(t,e){var n=redux.compose;e.__esModule=!0,e.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?n:n.apply(null,arguments)},e.devToolsEnhancer=function(){return function(t){return t}}}));unwrapExports(developmentOnly);var developmentOnly_1=developmentOnly.composeWithDevTools;const configureStore=t=>createStore(rootReducer,t,developmentOnly_1(applyMiddleware(thunk)));var md5=createCommonjsModule((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,i,r,s,o=t.hexChars,u=t.hexOut;for(s=0;s<4;s+=1)for(i=8*s,n=e[s],r=0;r<8;r+=2)u[i+1+r]=o.charAt(15&n),u[i+0+r]=o.charAt(15&(n>>>=4)),n>>>=4;return u.join("")},t._md5cycle=function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+e[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+e[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+e[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+e[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+e[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+e[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+e[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+e[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=s+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,i,r=this._buffer8,s=this._buffer32,o=this._bufferLength;for(i=0;i<e.length;i+=1){if((n=e.charCodeAt(i))<128)r[o++]=n;else if(n<2048)r[o++]=192+(n>>>6),r[o++]=63&n|128;else if(n<55296||n>56319)r[o++]=224+(n>>>12),r[o++]=n>>>6&63|128,r[o++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++i)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[o++]=240+(n>>>18),r[o++]=n>>>12&63|128,r[o++]=n>>>6&63|128,r[o++]=63&n|128}o>=64&&(this._dataLength+=64,t._md5cycle(this._state,s),o-=64,s[0]=s[16])}return this._bufferLength=o,this},t.prototype.appendAsciiStr=function(e){for(var n,i=this._buffer8,r=this._buffer32,s=this._bufferLength,o=0;;){for(n=Math.min(e.length-o,64-s);n--;)i[s++]=e.charCodeAt(o++);if(s<64)break;this._dataLength+=64,t._md5cycle(this._state,r),s=0}return this._bufferLength=s,this},t.prototype.appendByteArray=function(e){for(var n,i=this._buffer8,r=this._buffer32,s=this._bufferLength,o=0;;){for(n=Math.min(e.length-o,64-s);n--;)i[s++]=e[o++];if(s<64)break;this._dataLength+=64,t._md5cycle(this._state,r),s=0}return this._bufferLength=s,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,i=t.state,r=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,i=this._bufferLength,r=this._buffer8,s=this._buffer32,o=1+(i>>2);if(this._dataLength+=i,r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,s.set(t.buffer32Identity.subarray(o),o),i>55&&(t._md5cycle(this._state,s),s.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)s[14]=n;else{var u=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===u)return;var a=parseInt(u[2],16),h=parseInt(u[1],16)||0;s[14]=a,s[15]=h}return t._md5cycle(this._state,s),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();e.Md5=n,"5d41402abc4b2a76b9719d911017c592"!==n.hashStr("hello")&&console.error("Md5 self test failed.")}));unwrapExports(md5);var md5_1=md5.Md5;class Resolver{title(){return this.getTitle()}document(){return this.getDocument()}pages(){return this._pages||(this._pages=this.getPages()),this._pages}annotations(){return this.getAnnotations().map(t=>Object.assign(Object.assign({},t),{id:this.getAnnotationId(t),visible:this.isAnnotationVisible(t)}))}alternateFormats(){return this.getAlternateFormats()}startPageIndex(){return this.getStartPageIndex()}getAnnotationId(t){if(t)return(new md5_1).appendStr(t.name||"").end().toString()}isAnnotationVisible(t){if(t)return!0}mapLabels(t){if(!t)return;const e=[];return t.forEach(t=>e.push({locale:t.locale,value:t.value})),e}}var bind=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}},isBuffer$1=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},toString$1=Object.prototype.toString;
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function isArray$3(t){return"[object Array]"===toString$1.call(t)}function isArrayBuffer(t){return"[object ArrayBuffer]"===toString$1.call(t)}function isFormData(t){return"undefined"!=typeof FormData&&t instanceof FormData}function isArrayBufferView(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function isString$1(t){return"string"==typeof t}function isNumber$1(t){return"number"==typeof t}function isUndefined$1(t){return void 0===t}function isObject$1(t){return null!==t&&"object"==typeof t}function isDate$1(t){return"[object Date]"===toString$1.call(t)}function isFile(t){return"[object File]"===toString$1.call(t)}function isBlob(t){return"[object Blob]"===toString$1.call(t)}function isFunction$3(t){return"[object Function]"===toString$1.call(t)}function isStream(t){return isObject$1(t)&&isFunction$3(t.pipe)}function isURLSearchParams(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function trim(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function forEach$1(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),isArray$3(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function merge(){var t={};function e(e,n){t[n]="object"==typeof t[n]&&"object"==typeof e?merge(t[n],e):e}for(var n=0,i=arguments.length;n<i;n++)forEach$1(arguments[n],e);return t}function deepMerge(){var t={};function e(e,n){t[n]="object"==typeof t[n]&&"object"==typeof e?deepMerge(t[n],e):"object"==typeof e?deepMerge({},e):e}for(var n=0,i=arguments.length;n<i;n++)forEach$1(arguments[n],e);return t}function extend$1(t,e,n){return forEach$1(e,(function(e,i){t[i]=n&&"function"==typeof e?bind(e,n):e})),t}var utils={isArray:isArray$3,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject:isObject$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isFunction:isFunction$3,isStream,isURLSearchParams,isStandardBrowserEnv,forEach:forEach$1,merge,deepMerge,extend:extend$1,trim};function encode$1(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(utils.isURLSearchParams(e))i=e.toString();else{var r=[];utils.forEach(e,(function(t,e){null!=t&&(utils.isArray(t)?e+="[]":t=[t],utils.forEach(t,(function(t){utils.isDate(t)?t=t.toISOString():utils.isObject(t)&&(t=JSON.stringify(t)),r.push(encode$1(e)+"="+encode$1(t))})))})),i=r.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},InterceptorManager.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},InterceptorManager.prototype.forEach=function(t){utils.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var InterceptorManager_1=InterceptorManager,transformData=function(t,e,n){return utils.forEach(n,(function(n){t=n(t,e)})),t},isCancel=function(t){return!(!t||!t.__CANCEL__)},normalizeHeaderName=function(t,e){utils.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))},enhanceError=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},createError=function(t,e,n,i,r){var s=new Error(t);return enhanceError(s,e,n,i,r)},settle=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(createError("Request failed with status code "+n.status,n.config,null,n.request,n))},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(t){var e,n,i,r={};return t?(utils.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=utils.trim(t.substr(0,i)).toLowerCase(),n=utils.trim(t.substr(i+1)),e){if(r[e]&&ignoreDuplicateOf.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=utils.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},cookies=utils.isStandardBrowserEnv()?{write:function(t,e,n,i,r,s){var o=[];o.push(t+"="+encodeURIComponent(e)),utils.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),utils.isString(i)&&o.push("path="+i),utils.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},xhr$1=function(t){return new Promise((function(e,n){var i=t.data,r=t.headers;utils.isFormData(i)&&delete r["Content-Type"];var s=new XMLHttpRequest;if(t.auth&&(r.Authorization="Basic "+btoa((t.auth.username||"")+":"+(t.auth.password||""))),s.open(t.method.toUpperCase(),buildURL(t.url,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in s?parseHeaders(s.getAllResponseHeaders()):null;settle(e,n,{data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:i,config:t,request:s}),s=null}},s.onabort=function(){s&&(n(createError("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(createError("Network Error",t,null,s)),s=null},s.ontimeout=function(){n(createError("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",s)),s=null},utils.isStandardBrowserEnv()){var o=cookies,u=(t.withCredentials||isURLSameOrigin(t.url))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;u&&(r[t.xsrfHeaderName]=u)}if("setRequestHeader"in s&&utils.forEach(r,(function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete r[e]:s.setRequestHeader(e,t)})),t.withCredentials&&(s.withCredentials=!0),t.responseType)try{s.responseType=t.responseType}catch(a){if("json"!==t.responseType)throw a}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),n(t),s=null)})),void 0===i&&(i=null),s.send(i)}))},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,e){!utils.isUndefined(t)&&utils.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function getDefaultAdapter(){var t;return void 0!==browser$1&&"[object process]"===Object.prototype.toString.call(browser$1)?t=xhr$1:"undefined"!=typeof XMLHttpRequest&&(t=xhr$1),t}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(t,e){return normalizeHeaderName(e,"Accept"),normalizeHeaderName(e,"Content-Type"),utils.isFormData(t)||utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t)?t:utils.isArrayBufferView(t)?t.buffer:utils.isURLSearchParams(t)?(setContentTypeIfUnset(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):utils.isObject(t)?(setContentTypeIfUnset(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function(t){defaults.headers[t]={}})),utils.forEach(["post","put","patch"],(function(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults,isAbsoluteURL=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},combineURLs=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t};function throwIfCancellationRequested(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var dispatchRequest=function(t){return throwIfCancellationRequested(t),t.baseURL&&!isAbsoluteURL(t.url)&&(t.url=combineURLs(t.baseURL,t.url)),t.headers=t.headers||{},t.data=transformData(t.data,t.headers,t.transformRequest),t.headers=utils.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||defaults_1.adapter)(t).then((function(e){return throwIfCancellationRequested(t),e.data=transformData(e.data,e.headers,t.transformResponse),e}),(function(e){return isCancel(e)||(throwIfCancellationRequested(t),e&&e.response&&(e.response.data=transformData(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},mergeConfig=function(t,e){e=e||{};var n={};return utils.forEach(["url","method","params","data"],(function(t){void 0!==e[t]&&(n[t]=e[t])})),utils.forEach(["headers","auth","proxy"],(function(i){utils.isObject(e[i])?n[i]=utils.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:utils.isObject(t[i])?n[i]=utils.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),utils.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n};function Axios(t){this.defaults=t,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=mergeConfig(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[dispatchRequest,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},Axios.prototype.getUri=function(t){return t=mergeConfig(this.defaults,t),buildURL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],(function(t){Axios.prototype[t]=function(e,n){return this.request(utils.merge(n||{},{method:t,url:e}))}})),utils.forEach(["post","put","patch"],(function(t){Axios.prototype[t]=function(e,n,i){return this.request(utils.merge(i||{},{method:t,url:e,data:n}))}}));var Axios_1=Axios;function Cancel(t){this.message=t}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;function CancelToken(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new Cancel_1(t),e(n.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var t;return{token:new CancelToken((function(e){t=e})),cancel:t}};var CancelToken_1=CancelToken,spread=function(t){return function(e){return t.apply(null,e)}};function createInstance(t){var e=new Axios_1(t),n=bind(Axios_1.prototype.request,e);return utils.extend(n,Axios_1.prototype,e),utils.extend(n,e),n}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(t){return createInstance(mergeConfig(axios.defaults,t))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(t){return Promise.all(t)},axios.spread=spread;var axios_1=axios,default_1=axios;axios_1.default=default_1;var axios$1=axios_1;Manifesto.Canvas.prototype.getProperty=function(t){let e=null;return this.__jsonld&&void 0===(e=this.__jsonld[t])&&(e=this.__jsonld["@"+t]),e};class IIIFResolver extends Resolver{constructor(t="en"){super(),this.thumbnailDefaultFormat="image/jpeg",this.thumbnailDefaultExtension="jpg",this.thumbnailHeight=150,this.disableDeepzoom=!1,this.language=t}async init(t){if(t)return await axios$1.get(t,{validateStatus:t=>200===t}).then(t=>{this.manifestJson=t.data,this.manifestJson&&(this.manifest=manifesto.create(this.manifestJson))}).catch(()=>{throw new Error("manifest-not-found")}),this}contentTypes(){return["application/json","application/ld+json"]}getTitle(){if(this.manifest)return this.mapLabels(this.manifest.getLabel())}getDocument(){return{label:this.getTitle(),tileSources:this.tileSources()}}getSequence(t){if(this.manifest)return this.manifest.getSequenceByIndex(t)}getDefaultSequence(){return this.getSequence(0)}getPages(t=[],e=[]){return this.getDefaultSequence().getCanvases().flatMap(e=>e.getImages().map(n=>{const i=n.getResource();if(i){const r=i.getFormat(),s={id:e.id,contentType:r&&r.value,label:this.mapLabels(e.getLabel()),image:i.id,thumbnail:this.getThumbnailUri(e),tileSources:this.resolveTileSource(n),metadata:e.getMetadata().map(t=>({key:t.getLabel(),label:t.label,value:t.value}))};return t.forEach(t=>{s[t]=e.getProperty(t)}),s}}))}tileSources(){return this.getDefaultSequence().getCanvases().flatMap(t=>t.getImages().map(t=>this.resolveTileSource(t)))}getMetadata(){return this.manifest.getMetadata().map(t=>({key:t.getLabel(),label:t.label,value:t.value}))}getAnnotations(){if(this.manifest)return this.manifest.getMetadata().map(t=>({id:null,name:t.getLabel(),label:this.mapLabels(t.label),content:t.getValue(),visible:!0}))}getAlternateFormats(){return this.getDefaultSequence().getRenderings().map(t=>{const e=t.getFormat();return{contentType:e?e.value:null,label:this.mapLabels(t.getLabel()),url:t.id}})}getStartPageIndex(){if(this.manifest){const t=this.getDefaultSequence().getStartCanvas();if(t){const e=this.getPages().find(e=>e.id==t);if(e)return this.getPages().indexOf(e)}}return 0}getThumbnailUri(t){if(!t)return;const e=t.getThumbnail();return e?e.id:this.getImageUri(t,this.thumbnailHeight)}getManifest(){return this.manifest}getImageUri(t,e){if(!t)return;let n=null;const i=t.getWidth()/t.getHeight();return i&&(n=Math.floor(e*i)),t.getCanonicalImageUri(n)}resolveImageServiceUri(t,e=!1){if(!t)return;const n=this.resolveImageService(t);return n&&n.getInfoUri()}resolveTileSource(t){if(t)return this.disableDeepzoom?{type:"image",url:t.getResource().id}:this.resolveImageServiceUri(t.getResource(),!1)}resolveImageService(t){if(t){const e=[/http:\/\/iiif\.io\/api\/image/i],n=[/http:\/\/iiif\.io\/api\/image\/1\/context\.json/i,/http:\/\/iiif\.io\/api\/image\/2\/context\.json/i];let i=null;const r=t.getServices().filter(t=>{const n=t.getProfile()&&t.getProfile().value;return this.matchesAtLeastOne(n,e)});return(i=r.length>0&&r[0])||(i=t.getServices().find(t=>this.matchesAtLeastOne(t.context,n))),i}}matchesAtLeastOne(t,e){if(t&&e)return e.filter(e=>t.match(e)).length>=1}}const fetchManifest=t=>async(e,n)=>{e({type:TypeKeys.FETCHING_MANIFEST});const i=n().document.configuration,r=new IIIFResolver(i.language);r.disableDeepzoom=i&&!i.deepzoom,await r.init(t).then(()=>{const t=r.getManifest();e(setManifest(t));const n=r.getTitle(),s=r.getMetadata(),o=r.getPages(i.customItemProps);e(loadView(n,s,o))}).catch(t=>{const n=t.message,i=AppConfig.errors.find(t=>t.code===n);if(!i)throw t;e(raiseManifestError(i))})},setManifest=t=>e=>{e({type:TypeKeys.SET_MANIFEST,manifest:t})},raiseManifestError=t=>e=>{console.log(`Harmonized Viewer: Error ${t.code} has been raised.`),e({type:TypeKeys.RAISE_MANIFEST_ERROR,error:t})};class Item$1{constructor(t){Object.assign(this,t)}getMetadataByKey(t,e){if(t){const n=this.metadata.find(e=>e.key===t);if(!n||!n.value)return;const i=n.value.find(t=>t.locale===e);return i?i.value:void 0}}}function addEventListenerToRunOnce(t,e,n){t.addEventListener(e,(function i(){t.removeEventListener(e,i),n()}))}const ViewerComponent=class{constructor(t){registerInstance(this,t),this.navigationPlacement="bottom",this.navigationCols=16,this.navigationRows=1,this.customVideoPlayer=!1,this.customItemProps=[],this.preventLoadOnEmpty=!1,this.deepzoomEnabled=!0,this.suppressGallery=!1,this.rendered=createEvent(this,"hvRender",7),this.manifestErrorOccurred=createEvent(this,"hvManifestError",7),this.manifestIsEmpty=createEvent(this,"hvManifestIsEmpty",7),this.itemChanged=createEvent(this,"itemChanged",7),this.itemsLoaded=createEvent(this,"itemsLoaded",7),this.store=getContext(this,"store")}async emitItemChangeEvent(t,e){if(!this.items||t>=this.items.length)return null;addEventListenerToRunOnce(this.el,"hvRender",function(){this.itemChanged.emit()}.bind(this))}async emitItemsLoadedEvent(t,e){(e||t&&0!==t.length)&&addEventListenerToRunOnce(this.el,"hvRender",function(){this.itemsLoaded.emit()}.bind(this))}async getCurrentItem(){if(this.items&&this.items[this.currentItemIndex])return new Item$1(this.items[this.currentItemIndex])}async setItem(t){return!(!this.items||t>=this.items.length||t<0||this.currentItemIndex==t||(this.viewItem(t),0))}async getItems(){return this.items.map(t=>new Item$1(t))}async getItemCount(){return this.items.length}async getViewportType(){const t=this.items[this.currentItemIndex];return t?resolveViewportType(t.contentType):void 0}async getTopBarElement(){return this.el.shadowRoot.querySelector("harmonized-topbar")}async getViewportElement(){return this.el.shadowRoot.querySelector("harmonized-viewport")}async getCustomVideoElement(){return this.el.shadowRoot.querySelector("#harmonized-viewer-custom-video")}async getNavigationElement(){return this.el.shadowRoot.querySelector("harmonized-navigation")}async getDrawerElement(){return this.el.shadowRoot.querySelector("harmonized-drawer")}async addOverlay(t,e,n,i){this.addOverlayState(t,e,n,i)}handleDrawerToggle(){this.toggleDrawer()}handleFullscreenToggleByOther(){const t=document;t.fullscreenElement===this.el||this.el.contains(t.msFullscreenElement)||t.mozFullScreenElement===this.el||t.webkitFullscreenElement===this.el?this.fullscreen||this.toggleFullscreen():this.fullscreen&&this.toggleFullscreen()}componentWillLoad(){this.store.setStore(configureStore({})),this.store.mapDispatchToProps(this,{addLanguage,addOverlay,setLanguage,setConfiguration,setOptions,fetchManifest,viewItem,toggleFullscreen,toggleDrawer}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>{const{document:{configuration:e,theme:n},manifest:{error:i,fetching:r,fetched:s},viewport:{itemIndex:o,items:u,fullscreen:a,infoShown:h}}=t;return{configuration:e,theme:n,manifestError:i,manifestFetching:r,manifestFetched:s,currentItemIndex:o,items:u,fullscreen:a,infoShown:h}}),this.initCustomFlags(),this.initLanguage(),this.setConfiguration({language:this.language,customVideoPlayer:this.customVideoPlayer,customItemProps:this.customItemProps,deepzoom:this.deepzoomEnabled,suppressGallery:this.suppressGallery})}componentDidLoad(){this.fetchManifest(this.url)}componentDidUpdate(){this.manifestError&&this.manifestErrorOccurred.emit(),this.preventLoadOnEmpty&&this.manifestFetched&&0===this.items.length&&this.manifestIsEmpty.emit()}componentDidRender(){this.rendered.emit()}componentDidUnload(){this.storeUnsubscribe()}initCustomFlags(){Array.from(this.el.attributes).forEach(t=>{const e=t.name.match(/data\-options\-([a-zA-Z0-9]+)\-([a-zA-Z0-9]+)/gi);e&&e.forEach(e=>{const n=e.toLowerCase().split("-");this.setOptions(n[2],n[3],JSON.parse(t.value))})})}initLanguage(){i18next.init({lng:this.language,fallbackLng:"en",debug:!1},()=>{this.setLanguage(this.language||"en")}),AppConfig.languages.forEach(t=>{this.addLanguage(t.code,t.name),i18next.addResourceBundle(t.code,"translation",t,!0,!0)})}render(){if(this.manifestFetching)return h("div",{class:"centered-box"},h("span",null,t("loadingManifest")),h("div",{class:"spinner-container"},h("harmonized-spinner",null)));if(this.manifestError)return h("div",{class:"centered-box"},h("harmonized-message",{type:"error"},t(`errors.${this.manifestError.code}`)));if(this.preventLoadOnEmpty)return;let e="harmonized-viewer harmonized-viewer-theme--light";return this.fullscreen&&(e+=" harmonized-viewer-fullscreen"),h("div",{class:e},h("harmonized-topbar",null),h("harmonized-viewport",null),!this.suppressGallery&&h("harmonized-navigation",{cols:this.navigationCols,rows:this.navigationRows,"auto-resize":!0,style:{backgroundColor:this.navigationBackgroundColor}}),h("harmonized-drawer",{headerTitle:"Details",shown:this.infoShown},h("harmonized-annotations",null)))}get el(){return getElement(this)}static get watchers(){return{currentItemIndex:["emitItemChangeEvent"],items:["emitItemsLoadedEvent"]}}static get style(){return".mdc-touch-target-wrapper{display:inline}.mdc-button{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;padding:0 8px 0 8px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;border-radius:4px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{background-color:transparent;color:rgba(0,0,0,.37);cursor:default;pointer-events:none}.mdc-button .mdc-button__ripple{border-radius:4px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}.mdc-button .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button .mdc-button__icon{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;left:0;height:48px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}.mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button__label+.mdc-button__icon{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--outlined .mdc-button__icon,.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon{margin-left:-4px;margin-right:8px}.mdc-button--outlined .mdc-button__icon[dir=rtl],.mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--outlined .mdc-button__icon,[dir=rtl] .mdc-button--raised .mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__icon{margin-left:8px;margin-right:-4px}.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon{margin-left:-4px;margin-right:8px}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.37)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee}\@supports not (-ms-ime-align:auto){.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:var(--mdc-theme-primary,#6200ee)}}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary,#fff)}.mdc-button--raised{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);-webkit-transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1)}.mdc-button--raised:focus,.mdc-button--raised:hover{-webkit-box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mdc-button--raised:active{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid;padding:0 15px 0 15px;border-width:1px}.mdc-button--outlined:disabled{border-color:rgba(0,0,0,.37)}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined:not(:disabled){border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-button--touch{margin-top:6px;margin-bottom:6px}\@-webkit-keyframes mdc-ripple-fg-radius-in{0%{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@keyframes mdc-ripple-fg-radius-in{0%{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@-webkit-keyframes mdc-ripple-fg-opacity-in{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@keyframes mdc-ripple-fg-opacity-in{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@-webkit-keyframes mdc-ripple-fg-opacity-out{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}\@keyframes mdc-ripple-fg-opacity-out{0%{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var:1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug:before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-button{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-button .mdc-button__ripple:after,.mdc-button .mdc-button__ripple:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-button .mdc-button__ripple:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}.mdc-button.mdc-ripple-upgraded--unbounded .mdc-button__ripple:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}.mdc-button.mdc-ripple-upgraded--foreground-activation .mdc-button__ripple:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-button.mdc-ripple-upgraded--foreground-deactivation .mdc-button__ripple:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-button .mdc-button__ripple:after,.mdc-button .mdc-button__ripple:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-button .mdc-button__ripple:after,.mdc-button .mdc-button__ripple:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){.mdc-button .mdc-button__ripple:after,.mdc-button .mdc-button__ripple:before{background-color:var(--mdc-theme-primary,#6200ee)}}.mdc-button:hover .mdc-button__ripple:before{opacity:.04}.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.mdc-button .mdc-button__ripple{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;width:100%;height:100%;overflow:hidden}.mdc-button:not(.mdc-button--outlined) .mdc-button__ripple{top:0;left:0}.mdc-button--raised .mdc-button__ripple:after,.mdc-button--raised .mdc-button__ripple:before,.mdc-button--unelevated .mdc-button__ripple:after,.mdc-button--unelevated .mdc-button__ripple:before{background-color:#fff}\@supports not (-ms-ime-align:auto){.mdc-button--raised .mdc-button__ripple:after,.mdc-button--raised .mdc-button__ripple:before,.mdc-button--unelevated .mdc-button__ripple:after,.mdc-button--unelevated .mdc-button__ripple:before{background-color:var(--mdc-theme-on-primary,#fff)}}.mdc-button--raised:hover .mdc-button__ripple:before,.mdc-button--unelevated:hover .mdc-button__ripple:before{opacity:.08}.mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,.mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before,.mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,.mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple:after,.mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after,.mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-button--raised.mdc-ripple-upgraded,.mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.mdc-button{height:36px}.mdc-icon-button{display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button img,.mdc-icon-button svg{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light,rgba(0,0,0,.38));cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button--on .mdc-icon-button__icon,.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-icon-button:after,.mdc-icon-button:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-icon-button:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-icon-button.mdc-ripple-upgraded:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-icon-button.mdc-ripple-upgraded:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}.mdc-icon-button.mdc-ripple-upgraded--unbounded:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}.mdc-icon-button.mdc-ripple-upgraded--foreground-activation:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-icon-button.mdc-ripple-upgraded--foreground-deactivation:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-icon-button:after,.mdc-icon-button:before{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-icon-button.mdc-ripple-upgraded:after,.mdc-icon-button.mdc-ripple-upgraded:before{top:var(--mdc-ripple-top,calc(50% - 50%));left:var(--mdc-ripple-left,calc(50% - 50%));width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-icon-button.mdc-ripple-upgraded:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-icon-button:after,.mdc-icon-button:before{background-color:#000}.mdc-icon-button:hover:before{opacity:.04}.mdc-icon-button.mdc-ripple-upgraded--background-focused:before,.mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}\@-webkit-keyframes mdc-slider-emphasize{0%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-transform:scale(.85);transform:scale(.85)}to{-webkit-transform:scale(.571);transform:scale(.571)}}\@keyframes mdc-slider-emphasize{0%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-transform:scale(.85);transform:scale(.85)}to{-webkit-transform:scale(.571);transform:scale(.571)}}.mdc-slider{position:relative;width:100%;height:48px;cursor:pointer;-ms-touch-action:pan-x;touch-action:pan-x;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track{background-color:#018786;background-color:var(--mdc-theme-secondary,#018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-container{background-color:rgba(1,135,134,.26)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-marker-container{background-color:#018786;background-color:var(--mdc-theme-secondary,#018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__thumb{fill:#018786;fill:var(--mdc-theme-secondary,#018786);stroke:#018786;stroke:var(--mdc-theme-secondary,#018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__focus-ring,.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{background-color:#018786;background-color:var(--mdc-theme-secondary,#018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{color:#fff;color:var(--mdc-theme-text-primary-on-dark,#fff)}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__track{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__track-container{background-color:hsla(0,0%,60.4%,.26)}.mdc-slider--disabled .mdc-slider__track-marker-container{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__thumb{fill:#9a9a9a;stroke:#9a9a9a;stroke:#fff;stroke:var(--mdc-slider-bg-color-behind-component,#fff)}.mdc-slider:focus{outline:none}.mdc-slider__track-container{position:absolute;top:50%;width:100%;height:2px;overflow:hidden}.mdc-slider__track{position:absolute;width:100%;height:100%;-webkit-transform-origin:left top;transform-origin:left top;will-change:transform}.mdc-slider[dir=rtl] .mdc-slider__track,[dir=rtl] .mdc-slider .mdc-slider__track{-webkit-transform-origin:right top;transform-origin:right top}.mdc-slider__track-marker-container{display:-ms-flexbox;display:flex;margin-right:0;margin-left:-1px;visibility:hidden}.mdc-slider[dir=rtl] .mdc-slider__track-marker-container,[dir=rtl] .mdc-slider .mdc-slider__track-marker-container{margin-right:-1px;margin-left:0}.mdc-slider__track-marker-container:after{display:block;width:2px;height:2px;content:\"\"}.mdc-slider__track-marker{-ms-flex:1;flex:1}.mdc-slider__track-marker:after{display:block;width:2px;height:2px;content:\"\"}.mdc-slider__track-marker:first-child:after{width:3px}.mdc-slider__thumb-container{position:absolute;top:15px;left:0;width:21px;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.mdc-slider__thumb{position:absolute;top:0;left:0;-webkit-transform:scale(.571);transform:scale(.571);stroke-width:3.5;-webkit-transition:fill .1s ease-out,stroke .1s ease-out,-webkit-transform .1s ease-out;transition:fill .1s ease-out,stroke .1s ease-out,-webkit-transform .1s ease-out;transition:transform .1s ease-out,fill .1s ease-out,stroke .1s ease-out;transition:transform .1s ease-out,fill .1s ease-out,stroke .1s ease-out,-webkit-transform .1s ease-out}.mdc-slider__focus-ring{width:21px;height:21px;border-radius:50%;opacity:0;-webkit-transition:opacity .26667s ease-out,background-color .26667s ease-out,-webkit-transform .26667s ease-out;transition:opacity .26667s ease-out,background-color .26667s ease-out,-webkit-transform .26667s ease-out;transition:transform .26667s ease-out,opacity .26667s ease-out,background-color .26667s ease-out;transition:transform .26667s ease-out,opacity .26667s ease-out,background-color .26667s ease-out,-webkit-transform .26667s ease-out}.mdc-slider__pin{display:-ms-flexbox;display:flex;position:absolute;top:0;left:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:26px;height:26px;margin-top:-2px;margin-left:-2px;-webkit-transform:rotate(-45deg) scale(0) translate(0);transform:rotate(-45deg) scale(0) translate(0);border-radius:50% 50% 50% 0;z-index:1;-webkit-transition:-webkit-transform .1s ease-out;transition:-webkit-transform .1s ease-out;transition:transform .1s ease-out;transition:transform .1s ease-out,-webkit-transform .1s ease-out}.mdc-slider__pin-value-marker{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.mdc-slider--active .mdc-slider__thumb{-webkit-transform:scaleX(1);transform:scaleX(1)}.mdc-slider--focus .mdc-slider__thumb{-webkit-animation:mdc-slider-emphasize .26667s linear;animation:mdc-slider-emphasize .26667s linear}.mdc-slider--focus .mdc-slider__focus-ring{-webkit-transform:scale3d(1.55,1.55,1.55);transform:scale3d(1.55,1.55,1.55);opacity:.25}.mdc-slider--in-transit .mdc-slider__thumb{-webkit-transition-delay:.14s;transition-delay:.14s}.mdc-slider--in-transit .mdc-slider__thumb-container,.mdc-slider--in-transit .mdc-slider__track,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__thumb-container,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__track{-webkit-transition:-webkit-transform 80ms ease;transition:-webkit-transform 80ms ease;transition:transform 80ms ease;transition:transform 80ms ease,-webkit-transform 80ms ease}.mdc-slider--discrete.mdc-slider--active .mdc-slider__thumb{-webkit-transform:scale(calc(12 / 21));transform:scale(calc(12 / 21))}.mdc-slider--discrete.mdc-slider--active .mdc-slider__pin{-webkit-transform:rotate(-45deg) scale(1) translate(19px,-20px);transform:rotate(-45deg) scale(1) translate(19px,-20px)}.mdc-slider--discrete.mdc-slider--focus .mdc-slider__thumb{-webkit-animation:none;animation:none}.mdc-slider--discrete.mdc-slider--display-markers .mdc-slider__track-marker-container{visibility:visible}.mdc-chip__icon--leading,.mdc-chip__icon--trailing{color:rgba(0,0,0,.54)}.mdc-chip__icon--trailing:hover{color:rgba(0,0,0,.62)}.mdc-chip__icon--trailing:focus{color:rgba(0,0,0,.87)}.mdc-chip__icon.mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden){width:20px;height:20px;font-size:20px}.mdc-chip__icon.mdc-chip__icon--trailing{width:18px;height:18px;font-size:18px}.mdc-chip__icon--trailing{margin-left:4px;margin-right:-4px}.mdc-chip__icon--trailing[dir=rtl],[dir=rtl] .mdc-chip__icon--trailing{margin-left:-4px;margin-right:4px}.mdc-chip{background-color:#e0e0e0;color:rgba(0,0,0,.87);font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;height:32px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 12px;border-width:0;outline:none;cursor:pointer;-webkit-appearance:none}.mdc-chip,.mdc-chip .mdc-chip__ripple{border-radius:16px}.mdc-chip:hover{color:rgba(0,0,0,.87)}.mdc-chip.mdc-chip--selected .mdc-chip__checkmark,.mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden){margin-left:-4px;margin-right:4px}.mdc-chip.mdc-chip--selected .mdc-chip__checkmark[dir=rtl],.mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden)[dir=rtl],[dir=rtl] .mdc-chip.mdc-chip--selected .mdc-chip__checkmark,[dir=rtl] .mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden){margin-left:4px;margin-right:-4px}.mdc-chip::-moz-focus-inner{padding:0;border:0}.mdc-chip:hover{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-chip .mdc-chip__touch{position:absolute;top:50%;right:0;left:0;height:48px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.mdc-chip--exit{-webkit-transition:opacity 75ms cubic-bezier(.4,0,.2,1),width .15s cubic-bezier(0,0,.2,1),padding .1s linear,margin .1s linear;transition:opacity 75ms cubic-bezier(.4,0,.2,1),width .15s cubic-bezier(0,0,.2,1),padding .1s linear,margin .1s linear;opacity:0}.mdc-chip__text{white-space:nowrap}.mdc-chip__icon{border-radius:50%;outline:none;vertical-align:middle}.mdc-chip__checkmark{height:20px}.mdc-chip__checkmark-path{-webkit-transition:stroke-dashoffset .15s cubic-bezier(.4,0,.6,1) 50ms;transition:stroke-dashoffset .15s cubic-bezier(.4,0,.6,1) 50ms;stroke-width:2px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-chip__text:focus{outline:none}.mdc-chip--selected .mdc-chip__checkmark-path{stroke-dashoffset:0}.mdc-chip__icon--leading,.mdc-chip__icon--trailing{position:relative}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__icon--leading{color:rgba(98,0,238,.54)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:hover{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-chip-set--choice .mdc-chip .mdc-chip__checkmark-path{stroke:#6200ee;stroke:var(--mdc-theme-primary,#6200ee)}.mdc-chip-set--choice .mdc-chip--selected{background-color:#fff;background-color:var(--mdc-theme-surface,#fff)}.mdc-chip__checkmark-svg{width:0;height:20px;-webkit-transition:width .15s cubic-bezier(.4,0,.2,1);transition:width .15s cubic-bezier(.4,0,.2,1)}.mdc-chip--selected .mdc-chip__checkmark-svg{width:20px}.mdc-chip-set--filter .mdc-chip__icon--leading{-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear;-webkit-transition-delay:-50ms;transition-delay:-50ms;opacity:1}.mdc-chip-set--filter .mdc-chip__icon--leading+.mdc-chip__checkmark{-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear;-webkit-transition-delay:80ms;transition-delay:80ms;opacity:0}.mdc-chip-set--filter .mdc-chip__icon--leading+.mdc-chip__checkmark .mdc-chip__checkmark-svg{-webkit-transition:width 0ms;transition:width 0ms}.mdc-chip-set--filter .mdc-chip--selected .mdc-chip__icon--leading{opacity:0}.mdc-chip-set--filter .mdc-chip--selected .mdc-chip__icon--leading+.mdc-chip__checkmark{width:0;opacity:1}.mdc-chip-set--filter .mdc-chip__icon--leading-hidden.mdc-chip__icon--leading{width:0;opacity:0}.mdc-chip-set--filter .mdc-chip__icon--leading-hidden.mdc-chip__icon--leading+.mdc-chip__checkmark{width:20px}.mdc-chip{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-chip .mdc-chip__ripple:after,.mdc-chip .mdc-chip__ripple:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-chip .mdc-chip__ripple:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}.mdc-chip.mdc-ripple-upgraded--unbounded .mdc-chip__ripple:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}.mdc-chip.mdc-ripple-upgraded--foreground-activation .mdc-chip__ripple:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-chip.mdc-ripple-upgraded--foreground-deactivation .mdc-chip__ripple:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-chip .mdc-chip__ripple:after,.mdc-chip .mdc-chip__ripple:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-chip .mdc-chip__ripple:after,.mdc-chip .mdc-chip__ripple:before{background-color:rgba(0,0,0,.87)}.mdc-chip:hover .mdc-chip__ripple:before{opacity:.04}.mdc-chip.mdc-ripple-upgraded--background-focused .mdc-chip__ripple:before,.mdc-chip.mdc-ripple-upgraded:focus-within .mdc-chip__ripple:before,.mdc-chip:not(.mdc-ripple-upgraded):focus-within .mdc-chip__ripple:before,.mdc-chip:not(.mdc-ripple-upgraded):focus .mdc-chip__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-chip:not(.mdc-ripple-upgraded) .mdc-chip__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-chip:not(.mdc-ripple-upgraded):active .mdc-chip__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-chip.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.mdc-chip .mdc-chip__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple:before{opacity:.08}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple:after,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple:after,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple:before{background-color:var(--mdc-theme-primary,#6200ee)}}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:hover .mdc-chip__ripple:before{opacity:.12}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded--background-focused .mdc-chip__ripple:before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded:focus-within .mdc-chip__ripple:before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):focus-within .mdc-chip__ripple:before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):focus .mdc-chip__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.2}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded) .mdc-chip__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):active .mdc-chip__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.2}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.2}\@-webkit-keyframes mdc-chip-entry{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:.4}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}\@keyframes mdc-chip-entry{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:.4}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.mdc-chip-set{padding:4px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-sizing:border-box;box-sizing:border-box}.mdc-chip-set .mdc-chip{margin:4px}.mdc-chip-set .mdc-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-chip-set--input .mdc-chip{-webkit-animation:mdc-chip-entry .1s cubic-bezier(0,0,.2,1);animation:mdc-chip-entry .1s cubic-bezier(0,0,.2,1)}.mdc-list{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.009375em;text-decoration:inherit;text-transform:inherit;line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-list-item__graphic{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}.mdc-list-item--disabled .mdc-list-item__text{opacity:.38;color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list-item{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;padding:0 16px;overflow:hidden}.mdc-list-item:focus{outline:none}.mdc-list-item--activated,.mdc-list-item--activated .mdc-list-item__graphic,.mdc-list-item--selected,.mdc-list-item--selected .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-list-item__graphic{margin-left:0;margin-right:32px;width:24px;height:24px;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;fill:currentColor}.mdc-list-item[dir=rtl] .mdc-list-item__graphic,[dir=rtl] .mdc-list-item .mdc-list-item__graphic{margin-left:32px;margin-right:0}.mdc-list .mdc-list-item__graphic{display:-ms-inline-flexbox;display:inline-flex}.mdc-list-item__meta{margin-left:auto;margin-right:0}.mdc-list-item__meta:not(.material-icons){font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.75rem;line-height:1.25rem;font-weight:400;letter-spacing:.0333333333em;text-decoration:inherit;text-transform:inherit}.mdc-list-item[dir=rtl] .mdc-list-item__meta,[dir=rtl] .mdc-list-item .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-list-item__primary-text:before{display:inline-block;width:0;height:32px;content:\"\";vertical-align:0}.mdc-list-item__primary-text:after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list--dense .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense .mdc-list-item__primary-text:before{display:inline-block;width:0;height:24px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__primary-text:after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list-item__secondary-text{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-top:0;line-height:normal;display:block}.mdc-list-item__secondary-text:before{display:inline-block;width:0;height:20px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{display:block;margin-top:0;line-height:normal;font-size:inherit}.mdc-list--dense .mdc-list-item__secondary-text:before{display:inline-block;width:0;height:20px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item{height:40px}.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:36px;width:20px;height:20px}.mdc-list-item[dir=rtl] .mdc-list--dense .mdc-list-item__graphic,[dir=rtl] .mdc-list-item .mdc-list--dense .mdc-list-item__graphic{margin-left:36px;margin-right:0}.mdc-list--avatar-list .mdc-list-item{height:56px}.mdc-list--avatar-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px;border-radius:50%}.mdc-list-item[dir=rtl] .mdc-list--avatar-list .mdc-list-item__graphic,[dir=rtl] .mdc-list-item .mdc-list--avatar-list .mdc-list-item__graphic{margin-left:16px;margin-right:0}.mdc-list--two-line .mdc-list-item__text{-ms-flex-item-align:start;align-self:flex-start}.mdc-list--two-line .mdc-list-item{height:72px}.mdc-list--avatar-list.mdc-list--dense .mdc-list-item,.mdc-list--two-line.mdc-list--dense .mdc-list-item{height:60px}.mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:20px;width:36px;height:36px}.mdc-list-item[dir=rtl] .mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic,[dir=rtl] .mdc-list-item .mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic{margin-left:20px;margin-right:0}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item{cursor:pointer}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-divider{height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0,0,0,.12)}.mdc-list-divider--padded{margin:0 16px}.mdc-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-list-group[dir=rtl] .mdc-list-divider--inset,[dir=rtl] .mdc-list-group .mdc-list-divider--inset{margin-left:0;margin-right:72px}.mdc-list-divider--inset.mdc-list-divider--padded{width:calc(100% - 72px - 16px)}.mdc-list-group .mdc-list{padding:0}.mdc-list-group__subheader{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.009375em;text-decoration:inherit;text-transform:inherit;margin:.75rem 16px}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:before{background-color:#000}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:hover:before{opacity:.04}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused:before,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:before{opacity:.12}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:before{background-color:var(--mdc-theme-primary,#6200ee)}}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:hover:before{opacity:.16}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused:before,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:before{opacity:.08}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:after,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:before{background-color:var(--mdc-theme-primary,#6200ee)}}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:hover:before{opacity:.12}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused:before,:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.2}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.2}:not(.mdc-list--non-interactive)>:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.2}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:after,:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:after,:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:after,:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:before{background-color:#000}:not(.mdc-list--non-interactive)>.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused:before,:not(.mdc-list--non-interactive)>.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}\@-webkit-keyframes mdc-linear-progress-primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(.5,0,.701732,.495819);animation-timing-function:cubic-bezier(.5,0,.701732,.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}to{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}\@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(.5,0,.701732,.495819);animation-timing-function:cubic-bezier(.5,0,.701732,.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}to{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}\@-webkit-keyframes mdc-linear-progress-primary-indeterminate-scale{0%{-webkit-transform:scaleX(.08);transform:scaleX(.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);-webkit-transform:scaleX(.08);transform:scaleX(.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(.06,.11,.6,1);animation-timing-function:cubic-bezier(.06,.11,.6,1);-webkit-transform:scaleX(.661479);transform:scaleX(.661479)}to{-webkit-transform:scaleX(.08);transform:scaleX(.08)}}\@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{-webkit-transform:scaleX(.08);transform:scaleX(.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);-webkit-transform:scaleX(.08);transform:scaleX(.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(.06,.11,.6,1);animation-timing-function:cubic-bezier(.06,.11,.6,1);-webkit-transform:scaleX(.661479);transform:scaleX(.661479)}to{-webkit-transform:scaleX(.08);transform:scaleX(.08)}}\@-webkit-keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(.15,0,.515058,.409685);animation-timing-function:cubic-bezier(.15,0,.515058,.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}to{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}\@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(.15,0,.515058,.409685);animation-timing-function:cubic-bezier(.15,0,.515058,.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}to{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}\@-webkit-keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(.205028,.057051,.57661,.453971);animation-timing-function:cubic-bezier(.205028,.057051,.57661,.453971);-webkit-transform:scaleX(.08);transform:scaleX(.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(.152313,.196432,.648374,1.004315);animation-timing-function:cubic-bezier(.152313,.196432,.648374,1.004315);-webkit-transform:scaleX(.457104);transform:scaleX(.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(.257759,-.003163,.211762,1.38179);animation-timing-function:cubic-bezier(.257759,-.003163,.211762,1.38179);-webkit-transform:scaleX(.72796);transform:scaleX(.72796)}to{-webkit-transform:scaleX(.08);transform:scaleX(.08)}}\@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(.205028,.057051,.57661,.453971);animation-timing-function:cubic-bezier(.205028,.057051,.57661,.453971);-webkit-transform:scaleX(.08);transform:scaleX(.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(.152313,.196432,.648374,1.004315);animation-timing-function:cubic-bezier(.152313,.196432,.648374,1.004315);-webkit-transform:scaleX(.457104);transform:scaleX(.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(.257759,-.003163,.211762,1.38179);animation-timing-function:cubic-bezier(.257759,-.003163,.211762,1.38179);-webkit-transform:scaleX(.72796);transform:scaleX(.72796)}to{-webkit-transform:scaleX(.08);transform:scaleX(.08)}}\@-webkit-keyframes mdc-linear-progress-buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}\@keyframes mdc-linear-progress-buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}\@-webkit-keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(.5,0,.701732,.495819);animation-timing-function:cubic-bezier(.5,0,.701732,.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);-webkit-transform:translateX(-83.67142%);transform:translateX(-83.67142%)}to{-webkit-transform:translateX(-200.611057%);transform:translateX(-200.611057%)}}\@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(.5,0,.701732,.495819);animation-timing-function:cubic-bezier(.5,0,.701732,.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);-webkit-transform:translateX(-83.67142%);transform:translateX(-83.67142%)}to{-webkit-transform:translateX(-200.611057%);transform:translateX(-200.611057%)}}\@-webkit-keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{-webkit-animation-timing-function:cubic-bezier(.15,0,.515058,.409685);animation-timing-function:cubic-bezier(.15,0,.515058,.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);-webkit-transform:translateX(-37.651913%);transform:translateX(-37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);-webkit-transform:translateX(-84.386165%);transform:translateX(-84.386165%)}to{-webkit-transform:translateX(-160.277782%);transform:translateX(-160.277782%)}}\@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{-webkit-animation-timing-function:cubic-bezier(.15,0,.515058,.409685);animation-timing-function:cubic-bezier(.15,0,.515058,.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);-webkit-transform:translateX(-37.651913%);transform:translateX(-37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);-webkit-transform:translateX(-84.386165%);transform:translateX(-84.386165%)}to{-webkit-transform:translateX(-160.277782%);transform:translateX(-160.277782%)}}\@-webkit-keyframes mdc-linear-progress-buffering-reverse{to{-webkit-transform:translateX(10px);transform:translateX(10px)}}\@keyframes mdc-linear-progress-buffering-reverse{to{-webkit-transform:translateX(10px);transform:translateX(10px)}}.mdc-linear-progress{position:relative;width:100%;height:4px;-webkit-transform:translateZ(0);transform:translateZ(0);outline:1px solid transparent;overflow:hidden;-webkit-transition:opacity .25s cubic-bezier(.4,0,.6,1) 0ms;transition:opacity .25s cubic-bezier(.4,0,.6,1) 0ms}.mdc-linear-progress__bar{height:100%;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:transform .25s cubic-bezier(.4,0,.6,1) 0ms,-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms}.mdc-linear-progress__bar,.mdc-linear-progress__bar-inner{position:absolute;width:100%;-webkit-animation:none;animation:none}.mdc-linear-progress__bar-inner{display:inline-block;border-top:4px solid}.mdc-linear-progress__buffering-dots{position:absolute;width:100%;height:100%;background-repeat:repeat-x;background-size:10px 4px;-webkit-animation:mdc-linear-progress-buffering .25s linear infinite;animation:mdc-linear-progress-buffering .25s linear infinite}.mdc-linear-progress__buffer{position:absolute;width:100%;height:100%;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:transform .25s cubic-bezier(.4,0,.6,1) 0ms;transition:transform .25s cubic-bezier(.4,0,.6,1) 0ms,-webkit-transform .25s cubic-bezier(.4,0,.6,1) 0ms}.mdc-linear-progress__primary-bar{-webkit-transform:scaleX(0);transform:scaleX(0)}.mdc-linear-progress__secondary-bar{visibility:hidden}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{-webkit-transition:none;transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%;-webkit-animation:mdc-linear-progress-primary-indeterminate-translate 2s linear infinite;animation:mdc-linear-progress-primary-indeterminate-translate 2s linear infinite}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{-webkit-animation:mdc-linear-progress-primary-indeterminate-scale 2s linear infinite;animation:mdc-linear-progress-primary-indeterminate-scale 2s linear infinite}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;visibility:visible;-webkit-animation:mdc-linear-progress-secondary-indeterminate-translate 2s linear infinite;animation:mdc-linear-progress-secondary-indeterminate-translate 2s linear infinite}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{-webkit-animation:mdc-linear-progress-secondary-indeterminate-scale 2s linear infinite;animation:mdc-linear-progress-secondary-indeterminate-scale 2s linear infinite}.mdc-linear-progress--reversed .mdc-linear-progress__bar,.mdc-linear-progress--reversed .mdc-linear-progress__buffer{right:0;-webkit-transform-origin:center right;transform-origin:center right}.mdc-linear-progress--reversed .mdc-linear-progress__primary-bar{-webkit-animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse;animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}.mdc-linear-progress--reversed .mdc-linear-progress__secondary-bar{-webkit-animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse;animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}.mdc-linear-progress--reversed .mdc-linear-progress__buffering-dots{-webkit-animation:mdc-linear-progress-buffering-reverse .25s linear infinite;animation:mdc-linear-progress-buffering-reverse .25s linear infinite}.mdc-linear-progress--closed{opacity:0;-webkit-animation:none;animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-linear-progress__buffering-dots{background-image:url(\"data:image/svg+xml,%3Csvg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' x=\'0px\' y=\'0px\' enable-background=\'new 0 0 5 2\' xml:space=\'preserve\' viewBox=\'0 0 5 2\' preserveAspectRatio=\'none slice\'%3E%3Ccircle cx=\'1\' cy=\'1\' r=\'1\' fill=\'%23e6e6e6\'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer{background-color:#e6e6e6}.mdc-linear-progress--indeterminate.mdc-linear-progress--reversed .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress--indeterminate.mdc-linear-progress--reversed .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-elevation--z0{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mdc-elevation--z1{-webkit-box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mdc-elevation--z2{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mdc-elevation--z3{-webkit-box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mdc-elevation--z4{-webkit-box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mdc-elevation--z5{-webkit-box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mdc-elevation--z6{-webkit-box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mdc-elevation--z7{-webkit-box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mdc-elevation--z8{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mdc-elevation--z9{-webkit-box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12);box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mdc-elevation--z10{-webkit-box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12);box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mdc-elevation--z11{-webkit-box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12);box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mdc-elevation--z12{-webkit-box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12);box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mdc-elevation--z13{-webkit-box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12);box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mdc-elevation--z14{-webkit-box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12);box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mdc-elevation--z15{-webkit-box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12);box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mdc-elevation--z16{-webkit-box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mdc-elevation--z17{-webkit-box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12);box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mdc-elevation--z18{-webkit-box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12);box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mdc-elevation--z19{-webkit-box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12);box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mdc-elevation--z20{-webkit-box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12);box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mdc-elevation--z21{-webkit-box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12);box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mdc-elevation--z22{-webkit-box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12);box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mdc-elevation--z23{-webkit-box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12);box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mdc-elevation--z24{-webkit-box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mdc-elevation-transition{-webkit-transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow}.mdc-tab-bar{width:100%}.mdc-tab{height:48px}.mdc-tab--stacked{height:72px}.mdc-tab-scroller{overflow-y:hidden}.mdc-tab-scroller.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-content{-webkit-transition:-webkit-transform .25s cubic-bezier(.4,0,.2,1);transition:-webkit-transform .25s cubic-bezier(.4,0,.2,1);transition:transform .25s cubic-bezier(.4,0,.2,1);transition:transform .25s cubic-bezier(.4,0,.2,1),-webkit-transform .25s cubic-bezier(.4,0,.2,1)}.mdc-tab-scroller__test{position:absolute;top:-9999px;width:100px;height:100px;overflow-x:scroll}.mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:flex;overflow-x:hidden}.mdc-tab-scroller__scroll-area::-webkit-scrollbar,.mdc-tab-scroller__test::-webkit-scrollbar{display:none}.mdc-tab-scroller__scroll-area--scroll{overflow-x:scroll}.mdc-tab-scroller__scroll-content{position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-transform:none;transform:none;will-change:transform}.mdc-tab-scroller--align-start .mdc-tab-scroller__scroll-content{-ms-flex-pack:start;justify-content:flex-start}.mdc-tab-scroller--align-end .mdc-tab-scroller__scroll-content{-ms-flex-pack:end;justify-content:flex-end}.mdc-tab-scroller--align-center .mdc-tab-scroller__scroll-content{-ms-flex-pack:center;justify-content:center}.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:auto}.mdc-tab-indicator{display:-ms-flexbox;display:flex;position:absolute;top:0;left:0;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-tab-indicator .mdc-tab-indicator__content--icon{color:#018786;color:var(--mdc-theme-secondary,#018786)}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator__content{-webkit-transform-origin:left;transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{-ms-flex-item-align:end;align-self:flex-end;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{-ms-flex-item-align:center;align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{-webkit-transition:-webkit-transform .25s cubic-bezier(.4,0,.2,1);transition:-webkit-transform .25s cubic-bezier(.4,0,.2,1);transition:transform .25s cubic-bezier(.4,0,.2,1);transition:transform .25s cubic-bezier(.4,0,.2,1),-webkit-transform .25s cubic-bezier(.4,0,.2,1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{-webkit-transition:none;transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{-webkit-transition-delay:.1s;transition-delay:.1s}.mdc-tab{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;padding-right:24px;padding-left:24px;position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 0 auto;flex:1 0 auto;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;background:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab .mdc-tab__text-label{color:rgba(0,0,0,.6)}.mdc-tab .mdc-tab__icon{color:rgba(0,0,0,.54);fill:currentColor}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab--min-width{-ms-flex:0 1 auto;flex:0 1 auto}.mdc-tab__content{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{display:inline-block;line-height:1}.mdc-tab__icon,.mdc-tab__text-label{-webkit-transition:color .15s linear;transition:color .15s linear;z-index:2}.mdc-tab__icon{width:24px;height:24px;font-size:24px}.mdc-tab--stacked .mdc-tab__content{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__icon,.mdc-tab--active .mdc-tab__text-label{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mdc-tab--active .mdc-tab__icon,.mdc-tab--active .mdc-tab__text-label{-webkit-transition-delay:.1s;transition-delay:.1s}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl],[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:0;padding-right:8px}.mdc-tab__ripple{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.mdc-tab__ripple:after,.mdc-tab__ripple:before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-tab__ripple:before{-webkit-transition:opacity 15ms linear,background-color 15ms linear;transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-tab__ripple.mdc-ripple-upgraded:before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-tab__ripple.mdc-ripple-upgraded:after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center}.mdc-tab__ripple.mdc-ripple-upgraded--unbounded:after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-activation:after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-deactivation:after{-webkit-animation:mdc-ripple-fg-opacity-out .15s;animation:mdc-ripple-fg-opacity-out .15s;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-tab__ripple:after,.mdc-tab__ripple:before{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-tab__ripple.mdc-ripple-upgraded:after{width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-tab__ripple:after,.mdc-tab__ripple:before{background-color:#6200ee}\@supports not (-ms-ime-align:auto){.mdc-tab__ripple:after,.mdc-tab__ripple:before{background-color:var(--mdc-theme-primary,#6200ee)}}.mdc-tab__ripple:hover:before{opacity:.04}.mdc-tab__ripple.mdc-ripple-upgraded--background-focused:before,.mdc-tab__ripple:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-tab__ripple:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-tab__ripple:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-tab__ripple.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.mdc-menu{min-width:112px}.mdc-menu .mdc-list,.mdc-menu .mdc-list-item__graphic,.mdc-menu .mdc-list-item__meta{color:rgba(0,0,0,.87)}.mdc-menu .mdc-list-divider{margin:8px 0}.mdc-menu .mdc-list-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mdc-menu .mdc-list-item--disabled{cursor:auto}.mdc-menu a.mdc-list-item .mdc-list-item__graphic,.mdc-menu a.mdc-list-item .mdc-list-item__text{pointer-events:none}.mdc-menu__selection-group{padding:0;fill:currentColor}.mdc-menu__selection-group .mdc-list-item{padding-left:56px;padding-right:16px}.mdc-menu__selection-group .mdc-list-item[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-list-item{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{left:16px;right:auto;display:none;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon{left:auto;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-menu-surface{display:none;position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:top left;transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;-webkit-transition:opacity .03s linear,-webkit-transform .12s cubic-bezier(0,0,.2,1);transition:opacity .03s linear,-webkit-transform .12s cubic-bezier(0,0,.2,1);transition:opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1);transition:opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),-webkit-transform .12s cubic-bezier(0,0,.2,1);-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface,#fff);color:#000;color:var(--mdc-theme-on-surface,#000);border-radius:4px;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;-webkit-transform:scale(1);transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;-webkit-transform:scale(.8);transform:scale(.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.mdc-menu-surface[dir=rtl],[dir=rtl] .mdc-menu-surface{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed,.mdc-snackbar{position:fixed}.mdc-snackbar{z-index:8;margin:8px;display:none;right:0;bottom:0;left:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333}.mdc-snackbar__label{color:hsla(0,0%,100%,.87)}.mdc-snackbar__surface{min-width:344px}\@media (max-width:344px),(max-width:480px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px;-webkit-box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);border-radius:4px}.mdc-snackbar--closing,.mdc-snackbar--open,.mdc-snackbar--opening{display:-ms-flexbox;display:flex}.mdc-snackbar--leading{-ms-flex-pack:start;justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__surface{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{-ms-flex-item-align:end;align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:scale(.8);transform:scale(.8);opacity:0}.mdc-snackbar--open .mdc-snackbar__surface{-webkit-transform:scale(1);transform:scale(1);opacity:1;pointer-events:auto;-webkit-transition:opacity .15s cubic-bezier(0,0,.2,1) 0ms,-webkit-transform .15s cubic-bezier(0,0,.2,1) 0ms;transition:opacity .15s cubic-bezier(0,0,.2,1) 0ms,-webkit-transform .15s cubic-bezier(0,0,.2,1) 0ms;transition:opacity .15s cubic-bezier(0,0,.2,1) 0ms,transform .15s cubic-bezier(0,0,.2,1) 0ms;transition:opacity .15s cubic-bezier(0,0,.2,1) 0ms,transform .15s cubic-bezier(0,0,.2,1) 0ms,-webkit-transform .15s cubic-bezier(0,0,.2,1) 0ms}.mdc-snackbar--closing .mdc-snackbar__surface{-webkit-transform:scale(1);transform:scale(1);-webkit-transition:opacity 75ms cubic-bezier(.4,0,1,1) 0ms;transition:opacity 75ms cubic-bezier(.4,0,1,1) 0ms}.mdc-snackbar__label{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;-ms-flex-positive:1;flex-grow:1;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:14px 16px}.mdc-snackbar__label:before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{margin-left:0;margin-right:8px;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.mdc-snackbar__actions[dir=rtl],[dir=rtl] .mdc-snackbar__actions{margin-left:8px;margin-right:0}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action:after,.mdc-snackbar__action:before{background-color:#bb86fc}.mdc-snackbar__action:hover:before{opacity:.08}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused:before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-snackbar__action:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.mdc-snackbar__dismiss{color:hsla(0,0%,100%,.87)}.mdc-snackbar__dismiss:after,.mdc-snackbar__dismiss:before{background-color:hsla(0,0%,100%,.87)}.mdc-snackbar__dismiss:hover:before{opacity:.08}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused:before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:9px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss img,.mdc-snackbar__dismiss.mdc-snackbar__dismiss svg{width:18px;height:18px}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl],[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:0;margin-right:8px}\n\n/*!\n * animate.css -https://daneden.github.io/animate.css/\n * Version - 3.7.2\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\n *\n * Copyright (c) 2019 Daniel Eden\n */\@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}\@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}.bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}\@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}\@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{-webkit-animation-name:flash;animation-name:flash}\@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}\@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse}\@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}\@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}\@-webkit-keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}\@keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.shake{-webkit-animation-name:shake;animation-name:shake}\@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}\@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}\@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}\@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}\@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}\@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.tada{-webkit-animation-name:tada;animation-name:tada}\@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble}\@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}\@keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}\@-webkit-keyframes heartBeat{0%{-webkit-transform:scale(1);transform:scale(1)}14%{-webkit-transform:scale(1.3);transform:scale(1.3)}28%{-webkit-transform:scale(1);transform:scale(1)}42%{-webkit-transform:scale(1.3);transform:scale(1.3)}70%{-webkit-transform:scale(1);transform:scale(1)}}\@keyframes heartBeat{0%{-webkit-transform:scale(1);transform:scale(1)}14%{-webkit-transform:scale(1.3);transform:scale(1.3)}28%{-webkit-transform:scale(1);transform:scale(1)}42%{-webkit-transform:scale(1.3);transform:scale(1.3)}70%{-webkit-transform:scale(1);transform:scale(1)}}.heartBeat{-webkit-animation-name:heartBeat;animation-name:heartBeat;-webkit-animation-duration:1.3s;animation-duration:1.3s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}\@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}\@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceIn;animation-name:bounceIn}\@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}\@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}\@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}\@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}\@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}\@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.bounceOut{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceOut;animation-name:bounceOut}\@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}\@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}\@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}\@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}\@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}\@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}\@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}\@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}\@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}\@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}\@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}\@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}\@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}\@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}\@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}\@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}\@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}\@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}\@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}\@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}\@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}\@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}\@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}\@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}\@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}\@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}\@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}\@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}\@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}\@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}\@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}\@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}\@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}\@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}\@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}\@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}\@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}\@keyframes flip{0%{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}\@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}\@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}\@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}\@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}\@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}\@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}\@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}\@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}\@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}\@-webkit-keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}\@keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}\@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}\@keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn}\@-webkit-keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}\@keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}\@-webkit-keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}\@keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}\@-webkit-keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}\@keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}\@-webkit-keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}\@keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}\@-webkit-keyframes rotateOut{0%{-webkit-transform-origin:center;transform-origin:center;opacity:1}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}\@keyframes rotateOut{0%{-webkit-transform-origin:center;transform-origin:center;opacity:1}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut}\@-webkit-keyframes rotateOutDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}\@keyframes rotateOutDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft}\@-webkit-keyframes rotateOutDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}\@keyframes rotateOutDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight}\@-webkit-keyframes rotateOutUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}\@keyframes rotateOutUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft}\@-webkit-keyframes rotateOutUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}\@keyframes rotateOutUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight}\@-webkit-keyframes hinge{0%{-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}\@keyframes hinge{0%{-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.hinge{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:hinge;animation-name:hinge}\@-webkit-keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}\@keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.jackInTheBox{-webkit-animation-name:jackInTheBox;animation-name:jackInTheBox}\@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}\@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}\@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}\@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}\@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}\@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}\@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}\@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}\@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}\@-webkit-keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}\@keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}.zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}\@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown}\@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}\@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}.zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft}\@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}\@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}.zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight}\@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}\@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp}\@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}\@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}\@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}\@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}\@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}\@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}\@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}\@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}\@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}\@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}\@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}\@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}\@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.delay-1s{-webkit-animation-delay:1s;animation-delay:1s}.animated.delay-2s{-webkit-animation-delay:2s;animation-delay:2s}.animated.delay-3s{-webkit-animation-delay:3s;animation-delay:3s}.animated.delay-4s{-webkit-animation-delay:4s;animation-delay:4s}.animated.delay-5s{-webkit-animation-delay:5s;animation-delay:5s}.animated.fast{-webkit-animation-duration:.8s;animation-duration:.8s}.animated.faster{-webkit-animation-duration:.5s;animation-duration:.5s}.animated.slow{-webkit-animation-duration:2s;animation-duration:2s}.animated.slower{-webkit-animation-duration:3s;animation-duration:3s}\@media (prefers-reduced-motion:reduce),(print){.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important}}.tippy-tooltip[data-animation=fade][data-state=hidden]{opacity:0}.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{pointer-events:none;max-width:calc(100vw - 10px);-webkit-transition-timing-function:cubic-bezier(.165,.84,.44,1);transition-timing-function:cubic-bezier(.165,.84,.44,1);-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;background-color:#333;-webkit-transition-property:visibility,opacity,-webkit-transform;transition-property:visibility,opacity,-webkit-transform;transition-property:visibility,opacity,transform;transition-property:visibility,opacity,transform,-webkit-transform;outline:0}.tippy-tooltip[data-placement^=top]>.tippy-arrow{border-width:8px 8px 0;border-top-color:#333;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0;bottom:-7px}.tippy-tooltip[data-placement^=bottom]>.tippy-arrow{border-width:0 8px 8px;border-bottom-color:#333;margin:0 3px;-webkit-transform-origin:50% 7px;transform-origin:50% 7px;top:-7px}.tippy-tooltip[data-placement^=left]>.tippy-arrow{border-width:8px 0 8px 8px;border-left-color:#333;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%;right:-7px}.tippy-tooltip[data-placement^=right]>.tippy-arrow{border-width:8px 8px 8px 0;border-right-color:#333;margin:3px 0;-webkit-transform-origin:7px 50%;transform-origin:7px 50%;left:-7px}.tippy-tooltip[data-interactive][data-state=visible]{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{-webkit-transition-timing-function:cubic-bezier(.54,1.5,.38,1.11);transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{position:absolute;border-color:transparent;border-style:solid}.tippy-content{padding:5px 9px}.tippy-tooltip[data-animation=shift-toward][data-placement^=top][data-state=hidden]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-tooltip[data-animation=shift-toward][data-placement^=bottom][data-state=hidden]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-tooltip[data-animation=shift-toward][data-placement^=left][data-state=hidden]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-tooltip[data-animation=shift-toward][data-placement^=right][data-state=hidden]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-tooltip[data-animation=shift-toward][data-state=hidden]{opacity:0}.harmonized-viewer{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;overflow:hidden;font-family:Roboto,Arial,Helvetica,sans-serif;-webkit-transition:background 175ms cubic-bezier(.4,0,.2,1);transition:background 175ms cubic-bezier(.4,0,.2,1)}.harmonized-viewer .full-height{height:100%}.harmonized-viewer.harmonized-viewer-fullscreen{height:100vh}.harmonized-viewer .error-message{margin:0 auto;text-align:center;line-height:1.5}.harmonized-viewer .error-message svg{width:75px;height:75px}.centered-box{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}.spinner-container{position:relative;display:block;width:240px;height:4px;margin:5px 0;overflow:hidden}.tippy-tooltip{border-radius:2px}.tippy-tooltip.harmonized-light-theme{color:#000;background-color:hsla(0,0%,100%,.9)}.tippy-tooltip.harmonized-dark-theme,.tippy-tooltip.harmonized-light-theme{font-size:14px;-webkit-box-shadow:0 0 7px 2px rgba(0,0,0,.2);box-shadow:0 0 7px 2px rgba(0,0,0,.2)}.tippy-tooltip.harmonized-dark-theme{color:#fff;background-color:#181818}.tippy-tooltip.harmonized-theme[data-placement^=top] .tippy-arrow{border-top-color:hsla(0,0%,100%,.9)}.tippy-tooltip.harmonized-theme[data-placement^=bottom] .tippy-arrow{border-bottom-color:hsla(0,0%,100%,.9)}.tippy-tooltip.harmonized-theme[data-placement^=left] .tippy-arrow{border-left-color:hsla(0,0%,100%,.9)}.tippy-tooltip.harmonized-theme[data-placement^=right] .tippy-arrow{border-right-color:hsla(0,0%,100%,.9)}.theme-light{background-color:#fff}.harmonized-viewer-theme--dark,.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar,.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(:disabled){background-color:#181818}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(:disabled){color:var(--mdc-theme-text-primary-on-dark,#fff)}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button .mdc-button__ripple:after,.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button .mdc-button__ripple:before{background-color:#fff}\@supports not (-ms-ime-align:auto){.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button .mdc-button__ripple:after,.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button .mdc-button__ripple:before{background-color:var(--mdc-theme-text-primary-on-dark,#fff)}}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:hover .mdc-button__ripple:before{opacity:.08}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button:not(:disabled){color:#fff}.harmonized-viewer-theme--dark harmonized-topbar .mdc-top-app-bar button .mdc-button__label{font-size:12px}.harmonized-viewer-theme--dark harmonized-navigation{background-color:#181818}.harmonized-viewer-theme--light{background-color:#ece8e8}.harmonized-viewer-theme--light .white-text,.harmonized-viewer-theme--light .white-text *{color:#fff!important}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(:disabled){background-color:#46494c;color:#fff;color:var(--mdc-theme-text-primary-on-dark,#fff)}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button .mdc-button__ripple:after,.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button .mdc-button__ripple:before{background-color:#fff}\@supports not (-ms-ime-align:auto){.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button .mdc-button__ripple:after,.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button .mdc-button__ripple:before{background-color:var(--mdc-theme-text-primary-on-dark,#fff)}}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:hover .mdc-button__ripple:before{opacity:.08}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple:before,.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple:after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(:disabled),.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button:not(:disabled) .mdc-button__icon{color:#46494c}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-button .mdc-button__label{font-size:12px}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button{color:#46494c}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:after,.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:before{background-color:#46494c}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:hover:before{opacity:.04}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-topbar .mdc-top-app-bar .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.harmonized-viewer-theme--light harmonized-button.circle>button{background-color:#fff}.harmonized-viewer-theme--light harmonized-button .mdc-button:not(:disabled){color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-button[disabled]:not(:disabled){color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button{color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:after,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:before{background-color:#46494c}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:hover:before{opacity:.04}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]{color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:after,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:before{background-color:#c5c3c6}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:hover:before{opacity:.08}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled]:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-button .mdc-icon-button[disabled].mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button,.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button button:not(:disabled){color:#c7c7c7}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:after,.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:before{background-color:#c7c7c7}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:hover:before{opacity:.08}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button.mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.24}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__toolbar harmonized-button .mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.24}.harmonized-viewer-theme--light harmonized-drawer .mdc-drawer .mdc-drawer__content{border-color:#424242}.harmonized-viewer-theme--light harmonized-navigation harmonized-image .mdc-image-list__image{padding:0;background:#181818}.harmonized-viewer-theme--light harmonized-navigation harmonized-image .mdc-image-list__supporting .mdc-image-list__label{color:#9f9f9f;letter-spacing:0}.harmonized-viewer-theme--light harmonized-navigation harmonized-image.is-active .mdc-image-list__image-aspect-container .mdc-image-list__image,.harmonized-viewer-theme--light harmonized-navigation harmonized-image:hover .mdc-image-list__image-aspect-container .mdc-image-list__image{-webkit-box-shadow:0 0 1.25px 2px #5772ff;box-shadow:0 0 1.25px 2px #5772ff}.harmonized-viewer-theme--light harmonized-navigation harmonized-image.is-active .mdc-image-list__supporting .mdc-image-list__label,.harmonized-viewer-theme--light harmonized-navigation harmonized-image:hover .mdc-image-list__supporting .mdc-image-list__label{color:#181818}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab{height:40px}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__icon,.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__text-label{color:#686868}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__icon{color:#dcdcdd;fill:currentColor}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:after,.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:before{background-color:#686868}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:hover:before{opacity:.04}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple.mdc-ripple-upgraded--background-focused:before,.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:not(.mdc-ripple-upgraded):focus:before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:not(.mdc-ripple-upgraded):after{-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple:not(.mdc-ripple-upgraded):active:after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab__ripple.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.12}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab.mdc-tab--active .mdc-tab__icon{color:#46494c;fill:currentColor}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab.mdc-tab--active .mdc-tab__text-label{color:#46494c}.harmonized-viewer-theme--light harmonized-tabs .mdc-tab-bar .mdc-tab .mdc-tab-indicator__content--underline{border-color:#5772ff}.harmonized-viewer-theme--light harmonized-annotations dl dt{color:#424242}.harmonized-viewer-theme--light harmonized-annotations dl dd,.harmonized-viewer-theme--light harmonized-annotations dl dd a:link,.harmonized-viewer-theme--light harmonized-annotations dl dd a:visited{color:#46494c}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track{background-color:#5772ff}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-container{background-color:rgba(87,114,255,.26)}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-marker-container{background-color:#5772ff}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__thumb{fill:#5772ff;stroke:#5772ff}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{background-color:#5772ff;color:#fff;color:var(--mdc-theme-text-primary-on-dark,#fff)}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-container{background-color:#c5c3c6}.harmonized-viewer-theme--light harmonized-pager .mdc-slider:not(.mdc-slider--disabled) .mdc-slider__focus-ring{background-color:#5772ff}.harmonized-viewer-theme--light .error-message svg{fill:#ef5350}.harmonized-viewer-theme--light .error-message__text{color:#46494c}"}},ViewportComponent=class{constructor(t){registerInstance(this,t),this.suppressGallery=!1,this.updatedEvent=createEvent(this,"harmonizedViewerViewportUpdated",7),this.store=getContext(this,"store")}componentWillLoad(){this.store.mapDispatchToProps(this,{toggleDrawer}),this.storeUnsubscribe=this.store.mapStateToProps(this,t=>({suppressGallery:!!t.document.configuration&&t.document.configuration.suppressGallery,numberOfItems:t.viewport.items.length,currentItem:selectCurrentItem(t)}))}componentDidUpdate(){this.updatedEvent.emit()}componentDidUnload(){this.storeUnsubscribe()}render(){let e=this.currentItem?resolveViewportType(this.currentItem.contentType):void 0;return h(Host,{class:`viewport viewport-${e}`},this.currentItem&&h("div",{class:"viewport__content"},(()=>{switch(e){case"image":return h("harmonized-openseadragon",{id:"viewport",allowPaging:!this.suppressGallery});case"pdf":return h("harmonized-embed",{id:"viewport",url:this.currentItem.image});case"audio":return h("harmonized-audio",{id:"viewport",url:this.currentItem.image,contentType:this.currentItem.contentType});case"video":return h("harmonized-video",{id:"viewport",url:this.currentItem.image,contentType:this.currentItem.contentType});default:return null}})(),this.numberOfItems>1&&h("div",{class:"viewport__content-pager"},h("div",{class:"paging-label"},t(this.currentItem.label)),!this.suppressGallery&&h("harmonized-pager",null))))}get el(){return getElement(this)}static get style(){return".viewport{width:100%;height:100%;min-height:500px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;position:relative}.viewport-video{min-height:auto!important;background-color:#333}.viewport-audio>harmonized-drawer,.viewport-pdf>harmonized-drawer,.viewport-video>harmonized-drawer{top:0;height:100%!important}.viewport__content{width:100%;height:100%;-ms-flex:auto;flex:auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.viewport__content--loading{opacity:.3}.viewport__content>harmonized-embed{-ms-flex:1;flex:1}.viewport__content>harmonized-pager{-ms-flex:0;flex:0}.viewport__content .viewport__content-pager{width:100%;padding:.5rem 0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#ece8e8}.viewport:hover .button-navigation,.viewport:hover .overlay{opacity:1}.viewport .paging-label{text-align:center}.viewport>harmonized-drawer:not(.mdc-drawer){display:none}"}};export{AnnotationsComponent as harmonized_annotations,AudioComponent as harmonized_audio,ButtonComponent as harmonized_button,DrawerComponent as harmonized_drawer,PdfComponent as harmonized_embed,ImageComponent as harmonized_image,ImageListComponent as harmonized_image_list,MessageComponent as harmonized_message,NavigationComponent as harmonized_navigation,OpenSeadragonComponent as harmonized_openseadragon,OverlayComponent as harmonized_overlay,PagerComponent as harmonized_pager,SpinnerComponent as harmonized_spinner,TopbarComponent as harmonized_topbar,VideoComponent as harmonized_video,ViewerComponent as harmonized_viewer,ViewportComponent as harmonized_viewport};